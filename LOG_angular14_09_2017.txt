/ See ANGULAR VS ANGULARJS
/ See WATCH PROCESSES IN WINDOWS
/ See LOMBOK
/ See GRADLE
/ See JAVA LAMBDAS
	FINAL LAMBDAS
/ See JAVA STREAMS
/ See SOAP SPRING BOOT SPRING-WS
/ See SOAP AXIS
/ See TOMCAT
	/ See START TOMCAT
/ See JENKINS
/ See PYTHON
/ See PIP
/ See VAADIN
/ See VIRTUALENV
/ See ANACONDA
/ See JAVA INSTALL
/ See SAMENVATTING FORGE COMMAND LINE
/ See WILDFLY-SWARM EXAMPLES
/ See REST JAVA-SWARM GELUKT
/ See ARQUILLIAN
/ See WILDFLY-SWARM TODOS




/ 7. 

/ copy from command line:

/ right click, mark,
/ select tekst, 
/ right click ergens in het scherm, of click enter (doe NIET link click), 
/ geeft ctrl-v


/ 7 .

/ we kunnen ook een Administrator command prompt open, voor npm	, 

/ Administrator command prompt:

C:\Users\ervelden>path
PATH=C:\Program Files (x86)\Intel\iCLS Client\;C:\Program Files\Intel\iCLS Clien
t\;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\WINDOWS\System32\W
indowsPowerShell\v1.0\;C:\WINDOWS\System32\WindowsPowerShell\v1.0\;C:\Program Fi
les\Intel\Intel(R) Management Engine Components\DAL;C:\Program Files (x86)\Intel
\Intel(R) Management Engine Components\DAL;C:\Program Files\Intel\Intel(R) Manag
ement Engine Components\IPT;C:\Program Files (x86)\Intel\Intel(R) Management Eng
ine Components\IPT;C:\Program Files\nodejs\;C:\WINDOWS\System32\WindowsPowerShel
l\v1.0\;C:\Users\ervelden\AppData\Roaming\npm

C:\Users\ervelden>where node
C:\Program Files\nodejs\node.exe

C:\Users\ervelden>where npm
C:\Program Files\nodejs\npm
C:\Program Files\nodejs\npm.cmd


/ Node.js command prompt:

C:\Users\ervelden>path
PATH=C:\Users\ervelden\AppData\Roaming\npm;C:\Program Files\nodejs\;C:\Program F
iles (x86)\Intel\iCLS Client\;C:\Program Files\Intel\iCLS Client\;C:\WINDOWS\sys
tem32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\WINDOWS\System32\WindowsPowerShell\
v1.0\;C:\WINDOWS\System32\WindowsPowerShell\v1.0\;C:\Program Files\Intel\Intel(R
) Management Engine Components\DAL;C:\Program Files (x86)\Intel\Intel(R) Managem
ent Engine Components\DAL;C:\Program Files\Intel\Intel(R) Management Engine Comp
onents\IPT;C:\Program Files (x86)\Intel\Intel(R) Management Engine Components\IP
T;C:\Program Files\nodejs\;C:\WINDOWS\System32\WindowsPowerShell\v1.0\;C:\Users\
ervelden\AppData\Roaming\npm

/ Wat de Node.js promt doet is vooraan het path set, maar ze staan er allebei al in: 
PATH=C:\Users\ervelden\AppData\Roaming\npm;C:\Program Files\nodejs\

C:\Users\ervelden>where node
C:\Program Files\nodejs\node.exe

C:\Users\ervelden>where npm
C:\Program Files\nodejs\npm
C:\Program Files\nodejs\npm.cmd


/ 7	.

/ Lees	,
https://angular.io/guide/quickstart

npm install -g @angular/cli

/ Waar hebben we installed?

C:\Users\ervelden>dir AppData\Roaming\npm
...
03-08-2017  15:19    <DIR>          etc
03-08-2017  15:56               329 ng
03-08-2017  15:56               206 ng.cmd
03-08-2017  15:56    <DIR>          node_modules

C:\Users\ervelden>dir AppData\Roaming\npm\node_modules
...
03-08-2017  15:56    <DIR>          @angular

C:\Users\ervelden>dir AppData\Roaming\npm\node_modules\@angular
...
03-08-2017  15:56    <DIR>          cli



C:\Users\ervelden>dir AppData\Roaming\npm\node_modules\@angular\cli
 Volume in drive C is System
 Volume Serial Number is 90D0-8A5A

 Directory of C:\Users\ervelden\AppData\Roaming\npm\node_modules\@angular\cli

03-08-2017  15:56    <DIR>          .
03-08-2017  15:56    <DIR>          ..
03-08-2017  15:55    <DIR>          bin
03-08-2017  15:55    <DIR>          blueprints
03-08-2017  15:55    <DIR>          commands
03-08-2017  15:55            11.747 CONTRIBUTING.md
03-08-2017  15:55    <DIR>          ember-cli
03-08-2017  15:55    <DIR>          lib
03-08-2017  15:55             1.073 LICENSE
03-08-2017  15:55    <DIR>          models
03-08-2017  15:56    <DIR>          node_modules
03-08-2017  15:56             4.160 package.json
03-08-2017  15:56    <DIR>          plugins
03-08-2017  15:55             7.980 README.md
03-08-2017  15:56    <DIR>          tasks
03-08-2017  15:56    <DIR>          upgrade
03-08-2017  15:56    <DIR>          utilities

/ 13	. 

/ Hoe kwamen we hierachter?

C:\Users\ervelden> dir *angular*/s

 Directory of C:\Users\ervelden\AppData\Roaming\npm\node_modules

03-08-2017  15:56    <DIR>          @angular
               0 File(s)              0 bytes

 Directory of C:\Users\ervelden\AppData\Roaming\npm\node_modules\@angular\cli\blueprints\ng\files

03-08-2017  15:55             1.735 angular-cli.json
               1 File(s)          1.735 bytes

 Directory of C:\Users\ervelden\AppData\Roaming\npm\node_modules\@angular\cli\node_modules\sprintf-js\demo

03-08-2017  15:55               690 angular.html
               1 File(s)            690 bytes

 Directory of C:\Users\ervelden\AppData\Roaming\npm\node_modules\@angular\cli\node_modules\sprintf-js\dist

03-08-2017  15:55               449 angular-sprintf.min.js
03-08-2017  15:55               429 angular-sprintf.min.js.map
03-08-2017  15:55               429 angular-sprintf.min.map
               3 File(s)          1.307 bytes

 Directory of C:\Users\ervelden\AppData\Roaming\npm\node_modules\@angular\cli\node_modules\sprintf-js\src

03-08-2017  15:55               490 angular-sprintf.js
               1 File(s)            490 bytes

 Directory of C:\Users\ervelden\AppData\Roaming\npm-cache

03-08-2017  15:55    <DIR>          @angular
               0 File(s)              0 bytes

 Directory of C:\Users\ervelden\AppData\Roaming\npm-cache\registry.npmjs.org

03-08-2017  15:55    <DIR>          _40angular_252fcli
               0 File(s)              0 bytes

/ 13


C:\Users\ervelden\my-ng-apps>ng new my-app
installing ng
  create .editorconfig
  create README.md
  create src\app\app.component.css
  create src\app\app.component.html
  create src\app\app.component.spec.ts
  create src\app\app.component.ts
  create src\app\app.module.ts
  create src\assets\.gitkeep
  create src\environments\environment.prod.ts
  create src\environments\environment.ts
  create src\favicon.ico
  create src\index.html
  create src\main.ts
  create src\polyfills.ts
  create src\styles.css
  create src\test.ts
  create src\tsconfig.app.json
  create src\tsconfig.spec.json
  create src\typings.d.ts
  create .angular-cli.json
  create e2e\app.e2e-spec.ts
  create e2e\app.po.ts
  create e2e\tsconfig.e2e.json
  create .gitignore
  create karma.conf.js
  create package.json
  create protractor.conf.js
  create tsconfig.json
  create tslint.json
Installing packages for tooling via npm.
Installed packages for tooling via npm.
Project 'my-app' successfully created.

/ 13	 .

/ Lees
https://angular.io/guide/quickstart

/ 13	. 

C:\Users\ervelden\my-ng-apps\my-app>ng serve
** NG Live Development Server is listening on localhost:4200, open your browser on http://localhost:4200 **
Hash: 8027d633a01ef6fcffb3
Time: 9912ms
chunk    {0} polyfills.bundle.js, polyfills.bundle.js.map (polyfills) 177 kB {4} [initial] [rendered]
chunk    {1} main.bundle.js, main.bundle.js.map (main) 5.36 kB {3} [initial] [rendered]
chunk    {2} styles.bundle.js, styles.bundle.js.map (styles) 10.5 kB {4} [initial] [rendered]
chunk    {3} vendor.bundle.js, vendor.bundle.js.map (vendor) 2.19 MB [initial] [rendered]
chunk    {4} inline.bundle.js, inline.bundle.js.map (inline) 0 bytes [entry] [rendered]
webpack: Compiled successfully.

/ start Visual Studio Code

/ Om command in de editor, 
View, integrated Terminal

/ click het File icon, we krijgen Open Folder, kies de folder waarvan we de files willen zien,
\Users\ervelden\my-ng-apps\my-app

/ 13	. 

/ je kunt 
File
	Open Folder
	Close Folder

/ 13	. 

http://www.hoejetypt.nl/letter/Kleine%20letter%20i%20met%20umlaut

/ we kunnen ï geven door 
/ 1. Num lock aan te set, en links Alt ingedrukt te houden en 139 te geven
/ 2. "i achter elkaar in te typen,          dit heet dodeletter type, dodetoetsmethode	,

/ soms kan ook dit:
/ 3. rechts Alt ingedrukt te houden, en i in te typen: í

/ 13	. 

http://www.hoejetypt.nl/uitleg.php

Hoe typ je een `ò` met de dodetoetsenmethode? 
1. Typ ^ 
2. Typ o. De ô verschijnt. 

1. Typ ' 
2. Typ o. De ó verschijnt. 

1. Typ ` 
2. Typ o. De ò verschijnt. 

1. Typ " 
2. Typ o. De ö verschijnt. 

1. Typ ~ 
2. Typ o. De õ verschijnt.


/ 13	.

C:\Users\ervelden\my-ng-apps\my-app>ng build
Hash: 741e708f8f2c5b141d1a
Time: 7046ms
chunk    {0} polyfills.bundle.js, polyfills.bundle.js.map (polyfills) 177 kB {4} [initial] [rendered]
chunk    {1} main.bundle.js, main.bundle.js.map (main) 5.45 kB {3} [initial] [rendered]
chunk    {2} styles.bundle.js, styles.bundle.js.map (styles) 10.5 kB {4} [initial] [rendered]
chunk    {3} vendor.bundle.js, vendor.bundle.js.map (vendor) 1.89 MB [initial] [rendered]
chunk    {4} inline.bundle.js, inline.bundle.js.map (inline) 0 bytes [entry] [rendered]

/ de app is in app.component.ts
/ de test is in app.component.spec.ts

/ als we ng test, verschijnt er een chrome window, en daarin zien we de tests,
/ als we app.component.ts edit, en save, worden de tests opnieuw run in hetzelfde browser window, 
/ de app zelf wordt ook update,

/ als de tests OK,

AppComponent
should create the app
should have as title 'app'
should render title in a h1 tag


/ als de tests fout,

C:\Users\ervelden\my-ng-apps\my-app>ng test
 10% building modules 1/1 modules 0 active08 08 2017 14:44:59.730:WARN [karma]: No captured browser, open http://localhost:9876/
08 08 2017 14:44:59.746:INFO [karma]: Karma v1.7.0 server started at http://0.0.0.0:9876/
08 08 2017 14:44:59.746:INFO [launcher]: Launching browser Chrome with unlimited concurrency
08 08 2017 14:44:59.746:INFO [launcher]: Starting browser Chrome
08 08 2017 14:45:05.801:WARN [karma]: No captured browser, open http://localhost:9876/
08 08 2017 14:45:06.407:INFO [Chrome 59.0.3071 (Windows 7 0.0.0)]: Connected on socket YR80MF1v6LisgfHdAAAA with id 17068396
Chrome 59.0.3071 (Windows 7 0.0.0) AppComponent should have as title 'app' FAILED
        Expected 'My Third Angular App' to equal 'app'.
            at Object.<anonymous> C:/Users/ervelden/my-ng-apps/my-app/src/app/app.component.spec.ts:23:23)
            at ZoneDelegate.webpackJsonp.../../../../zone.js/dist/zone.js.ZoneDelegate.invoke C:/Users/ervelden/my-ng-apps/my-app/~/zone.js/dist/zone.js:391:1)
            at AsyncTestZoneSpec.webpackJsonp.../../../../zone.js/dist/async-test.js.AsyncTestZoneSpec.onInvoke C:/Users/ervelden/my-ng-apps/my-app/~/zone.js/dist/async-test.js:49:1)
            at ProxyZoneSpec.webpackJsonp.../../../../zone.js/dist/proxy.js.ProxyZoneSpec.onInvoke C:/Users/ervelden/my-ng-apps/my-app/~/zone.js/dist/proxy.js:76:1)
Chrome 59.0.3071 (Windows 7 0.0.0): Executed 2 of 3 (1 FAILED) (0 secs / 0.319 secs)
Chrome 59.0.3071 (Windows 7 0.0.0) AppComponent should have as title 'app' FAILED
        Expected 'My Third Angular App' to equal 'app'.
            at Object.<anonymous> C:/Users/ervelden/my-ng-apps/my-app/src/app/app.component.spec.ts:23:23)
            at ZoneDelegate.webpackJsonp.../../../../zone.js/dist/zone.js.ZoneDelegate.invoke C:/Users/ervelden/my-ng-apps/my-app/~/zone.js/dist/zone.js:391:1)
            at AsyncTestZoneSpec.webpackJsonp.../../../../zone.js/dist/async-test.js.AsyncTestZoneSpec.onInvoke C:/Users/ervelden/my-ng-apps/my-app/~/zone.js/dist/async-test.js:49:1)
Chrome 59.0.3071 (Windows 7 0.0.0) AppComponent should render title in a h1 tag FAILED
        Expected '
            Welcome to My Third Angular App!
          ' to contain 'Welcome to app!'.
            at Object.<anonymous> C:/Users/ervelden/my-ng-apps/my-app/src/app/app.component.spec.ts:30:54)
            at ZoneDelegate.webpackJsonp.../../../../zone.js/dist/zone.js.ZoneDelegate.invoke C:/Users/ervelden/my-ng-apps/my-app/~/zone.js/dist/zone.js:391:1)
            at AsyncTestZoneSpec.webpackJsonp.../../../../zone.js/dist/async-test.js.AsyncTestZoneSpec.onInvoke C:/Users/ervelden/my-ng-apps/my-app/~/zone.js/dist/async-test.js:49:1)
            at ProxyZoneSpec.webpackJsonp.../../../../zone.js/dist/proxy.js.ProxyZoneSpec.onInvoke C:/Users/ervelden/my-ng-apps/my-app/~/zone.js/dist/proxy.js:76:1)
Chrome 59.0.3071 (Windows 7 0.0.0): Executed 3 of 3 (2 FAILED) (0 secs / 0.355 secs)
Chrome 59.0.3071 (Windows 7 0.0.0) AppComponent should render title in a h1 tag FAILED
        Expected '
            Welcome to My Third Angular App!
          ' to contain 'Welcome to app!'.
            at Object.<anonymous> C:/Users/ervelden/my-ng-apps/my-app/src/app/app.component.spec.ts:30:54)
            at ZoneDelegate.webpackJsonp.../../../../zone.js/dist/zone.js.ZoneDelegate.invoke C:/Users/ervelden/my-ng-apps/my-app/~/zone.js/dist/zone.js:391:1)
            at AsyncTestZoneSpec.webpackJsonp.../../../../zone.js/dist/async-test.js.AsyncTestZoneSpec.onInvoke C:/Users/ervelden/my-ng-apps/my-app/~/zone.js/dist/async-test.js:49:1)
Chrome 59.0.3071 (Windows 7 0.0.0): Executed 3 of 3 (2 FAILED) (0.379 secs / 0.355 secs)

/ 13	. 

/ er zien in visual studio code, in output onderin, naast terminal

Alternatively you can disable ESLint for this workspace by executing the 'Disable ESLint for this workspace' command.

[Info  - 14:51:09] 

Failed to load the ESLint library for the document c:\Users\ervelden\my-ng-apps\my-app\protractor.conf.js


To use ESLint in this workspace please install eslint using 'npm install eslint' or globally using 'npm install -g eslint'.
You need to reopen the workspace after installing eslint.


C:\Users\ervelden\my-ng-apps\my-app>npm install -g eslint

C:\Users\ervelden\my-ng-apps\my-app>dir C:\Users\ervelden\AppData\Roaming\npm\node_modules
 Volume in drive C is System
 Volume Serial Number is 90D0-8A5A

 Directory of C:\Users\ervelden\AppData\Roaming\npm\node_modules

08-08-2017  15:07    <DIR>          .
08-08-2017  15:07    <DIR>          ..
03-08-2017  15:56    <DIR>          @angular
08-08-2017  15:07    <DIR>          eslint

/ 13	. 

/ Lees over karma , en jasmine,
http://accraze.info/testing-an-angularjs-app-using-jasmine-and-karma/
http://yeoman.io/codelab/run-unit-tests.html
https://angular.io/guide/testing                    / onder Fundamentals , (naast Getting started, Tutorial)
https://mochajs.org/#getting-started

/ 13.

/ JAVA INSTALL

/ we install java,
http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html
/ in,
C:\Users\ervelden>dir "\Program Files\Java\jdk1.8.0_144"

/ Lees,
http://docs.oracle.com/javase/8/docs/

/ we zien verwarrend in System variables:
C:\ProgramData\Oracle\Java\javapath
/ Dit is WH een jre, 
/ we hebben de jdk installed , 
\Program Files\Java\jdk1.8.0_144\
/ Hierin zit lib\tools.jar

C:\Users\ervelden\eclipse\workspace-java-oxygen\lombok>"\Program Files"\Java\jdk1.8.0_144\bin\java -version
/ OK
C:\Users\ervelden\eclipse\workspace-java-oxygen\lombok>"\Program Files"\Java\jdk1.8.0_144\bin\java.exe -version

/ we zien in

Environment variables
JAVA_HOME C:\Program Files\Java\jdk1.8.0_144
Path %JAVA_HOME%\bin;...

System variables
Path: C:\ProgramData\Oracle\Java\javapath;...

/ Dit is WH de jre1.8.0_144, 
/ TODO

/ we willen dat eclipse onder de jdk runs, 
/ want als we in jbosstools-jee-oxygen een Addon from GIT willen install, met ctrl+4,
https://github.com/forge/wildfly-swarm-addon.git
/ dan moet hij compile,

/ we kunnen dit ook doen onder System variables, 
JAVA_HOME C:\Program Files\Java\jdk1.8.0_144
Path %JAVA_HOME%\bin;...
/ maar dan runs eclipse nog steeds onder jre1.8.0_144, want we moeten eclipse.ini aanpassen,
/ maar we doen het toch, dan hebben we javac op de command line,

$ vi eclipse.ini
WAS,
-vm
C:/Program Files/Java/jre1.8.0_144/bin
IS NU,
C:/Program Files/Java/jdk1.8.0_144/bin


/ Einde JAVA INSTALL




/ 13	. 

/ we use de installer,
/ geef Sogeti username, password
/ trek je niets aan van dat hij versie 7 verwacht,

/ we hebben workspace-java,

C:\Users\ervelden\eclipse>dir

08-08-2017  16:30    <DIR>          java-oxygen
09-08-2017  10:47    <DIR>          jee-oxygen
09-08-2017  10:44    <DIR>          workspace-java
               0 File(s)              0 bytes
               5 Dir(s)  54.255.771.648 bytes free

/ we kunnen ook op de commandline,

C:\Users\ervelden\eclipse\jee-oxygen>eclipse\eclipse.exe

/ 13	.

/ we maken een Maven project, 
/ we add junit:junit:4.12 dependency,
/ run mvn test
[ERROR] No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK?

/ ga naar build path, libraries
/ we zien JRE System Library [J2SE-1.5]
/ het enigste wat we moeten doen is hem vervangen door JavaSE-1.8(jre1.8.0_144), via Edit,

/ 13	.

/ de downloaded files komen op D:	, dus D:\Users\ervelden\Downloads

C:\Users\ervelden\eclipse\jee-oxygen>dir d:\Users\ervelden\Downloads
 Volume in drive D is Data
 Volume Serial Number is 6ED1-C17D

 Directory of d:\Users\ervelden\Downloads


08-08-2017  16:25        48.691.144 eclipse-inst-win64.exe
08-08-2017  16:26       186.651.590 eclipse-java-oxygen-R-win32-x86_64.zip
08-08-2017  16:18       207.382.584 jdk-8u144-windows-x64.exe
03-08-2017  13:38        12.603.392 node-v6.11.2-x64.msi
04-08-2017  10:25         3.053.480 npp.7.4.2.Installer.x64 (1).exe
04-08-2017  10:24         3.053.480 npp.7.4.2.Installer.x64.exe
04-08-2017  10:38        36.408.224 VSCodeSetup-ia32-1.14.2.exe
              12 File(s)    547.065.470 bytes
               2 Dir(s)  144.057.913.344 bytes free

/ Ook Desktop\ zit hier, D:\Users\ervelden\Desktop\

/ 13	.

/ we used de installer, eclipse-inst-win64.exe, maar nu willen we de zip extract, 
/ right click de zip in Computer, en kies 7-Zip, open archive,
/ en daar kies je Extract, en kies Copy to : C:\Users\ervelden\eclipse\tmp\
/ dan is tmp\ precies als java-oxygen of jee-oxygen
/ en we kunnen ,
C:\Users\ervelden\eclipse>tmp\eclipse\eclipse.exe
/ en we rm tmp weer,
C:\Users\ervelden\eclipse>rmdir tmp/s

/ 13	.

/ jboss tools,

/ lees,
http://tools.jboss.org/blog/4.5.0.am2-for-oxygen.0.html

/ install jbosstools, 
/ use eclipse installer, anders error met proxy,

HTTP Proxy Authentication Required: http://download.jboss.org/jbosstools/oxygen/development/updates/compositeContent.xml
Proxy Authentication Required

/ we hebben ,

C:\Users\ervelden\eclipse>dir
 Volume in drive C is System
 Volume Serial Number is 90D0-8A5A

 Directory of C:\Users\ervelden\eclipse

09-08-2017  12:19    <DIR>          .
09-08-2017  12:19    <DIR>          ..
09-08-2017  12:19    <DIR>          java-oxygen
09-08-2017  12:19    <DIR>          jbosstools-java-oxygen
09-08-2017  11:27    <DIR>          jbosstools-jee-oxygen
09-08-2017  12:04    <DIR>          jee-oxygen
09-08-2017  10:44    <DIR>          workspace-java-oxygen
09-08-2017  12:21    <DIR>          workspace-jbosstools-java-oxygen
09-08-2017  11:43    <DIR>          workspace-jbosstools-jee-oxygen
09-08-2017  11:34    <DIR>          workspace-jee-oxygen
               0 File(s)              0 bytes
              11 Dir(s)  53.134.151.680 bytes free

/ we gaan activemq samples in java-oxygen,
/ extract de zip in C:\Users\ervelden\eclipse\workspace-java-oxygen
/ import Maven project C:\Users\ervelden\eclipse\workspace-java-oxygen\amq-in-action-example-src in eclipse,
/ je moet wachten tot alle deps zijn loaded, dan verschijnt de maven structuur in eclipse,
/ de maven repo is C:\Users\ervelden\.m2\repository	, see windows,properties, maven, user settings

/ 13	. 

/ path edit: Computer, System properties, Advanced system settings, User variables for ervelden, click PATH, Edit
/ voeg aan het eind toe: ;C:\Users\ervelden\bin

/ start een nieuwe cmd	, die heeft het nieuwe path dan,

/ 13	. 

/ start activemq

/ Lees ActiveMQ Getting started
http://activemq.apache.org/getting-started.html



C:\Users\ervelden\bin\apache-activemq-5.15.0>bin\activemq start

Warning: JAVA_HOME environment variable is not set.

Java Runtime: Oracle Corporation 1.8.0_144 C:\Program Files\Java\jre1.8.0_144
  Heap sizes: current=1005056k  free=989327k  max=1005056k
    JVM args: -Dcom.sun.management.jmxremote -Xms1G -Xmx1G -Djava.util.logging.config.file=logging.properties -Djava.security.auth.login.config=C:\Users\ervelden\bin\apache-activ
Extensions classpath:
  [C:\Users\ervelden\bin\apache-activemq-5.15.0\bin\..\lib,C:\Users\ervelden\bin\apache-activemq-5.15.0\bin\..\lib\camel,C:\Users\ervelden\bin\apache-activemq-5.15.0\bin\..\lib\o
ACTIVEMQ_HOME: C:\Users\ervelden\bin\apache-activemq-5.15.0\bin\..
ACTIVEMQ_BASE: C:\Users\ervelden\bin\apache-activemq-5.15.0\bin\..
ACTIVEMQ_CONF: C:\Users\ervelden\bin\apache-activemq-5.15.0\bin\..\conf
ACTIVEMQ_DATA: C:\Users\ervelden\bin\apache-activemq-5.15.0\bin\..\data
Loading message broker from: xbean:activemq.xml
 INFO | Refreshing org.apache.activemq.xbean.XBeanBrokerFactory$1@5bcab519: startup date [Wed Aug 09 13:00:49 GMT+01:00 2017]; root of context hierarchy
 INFO | Using Persistence Adapter: KahaDBPersistenceAdapter[C:\Users\ervelden\bin\apache-activemq-5.15.0\bin\..\data\kahadb]
 INFO | PListStore:[C:\Users\ervelden\bin\apache-activemq-5.15.0\bin\..\data\localhost\tmp_storage] started
 INFO | Apache ActiveMQ 5.15.0 (localhost, ID:LBNL031514-65158-1502280050726-0:1) is starting
 INFO | Listening for connections at: tcp://LBNL031514:61616?maximumConnections=1000&wireFormat.maxFrameSize=104857600
 INFO | Connector openwire started
 INFO | Listening for connections at: amqp://LBNL031514:5672?maximumConnections=1000&wireFormat.maxFrameSize=104857600
 INFO | Connector amqp started
 INFO | Listening for connections at: stomp://LBNL031514:61613?maximumConnections=1000&wireFormat.maxFrameSize=104857600
 INFO | Connector stomp started
 INFO | Listening for connections at: mqtt://LBNL031514:1883?maximumConnections=1000&wireFormat.maxFrameSize=104857600
 INFO | Connector mqtt started
 WARN | ServletContext@o.e.j.s.ServletContextHandler@6057aebb{/,null,STARTING} has uncovered http methods for path: /
 INFO | Listening for connections at ws://LBNL031514:61614?maximumConnections=1000&wireFormat.maxFrameSize=104857600
 INFO | Connector ws started
 INFO | Apache ActiveMQ 5.15.0 (localhost, ID:LBNL031514-65158-1502280050726-0:1) started
 INFO | For help or more information please see: http://activemq.apache.org
 WARN | Store limit is 102400 mb (current store usage is 0 mb). The data directory: C:\Users\ervelden\bin\apache-activemq-5.15.0\bin\..\data\kahadb only has 50501 mb of usable sp
 WARN | Temporary Store limit is 51200 mb (current store usage is 0 mb). The data directory: C:\Users\ervelden\bin\apache-activemq-5.15.0\bin\..\data only has 50501 mb of usable
 INFO | No Spring WebApplicationInitializer types detected on classpath
 INFO | ActiveMQ WebConsole available at http://0.0.0.0:8161/
 INFO | ActiveMQ Jolokia REST API available at http://0.0.0.0:8161/api/jolokia/
 INFO | Initializing Spring FrameworkServlet 'dispatcher'
 INFO | No Spring WebApplicationInitializer types detected on classpath
 INFO | jolokia-agent: Using policy access restrictor classpath:/jolokia-access.xml

/ 13	. 

/ verander in eclipse weer in Java build path, libraries: JRE System Library [JavaSE-1.8]
/ we kunnen in org.apache.activemq.book.ch2.jobs op Consumer.java en Producer.java right click, run as Java application
/ maar we kunnen ook mvn exec:java run config maken in eclipse, via right click pom.xml, Run as, Maven build...

Name: org.apache.activemq.book.ch2.jobs.Producer-run
Base directory: ${project_loc:amq-in-action-example-src}
Goals: exec:java
Parameter
Name: exec.mainClass
Value: org.apache.activemq.book.ch2.jobs.Producer

Name: org.apache.activemq.book.ch2.jobs.Consumer-run
Base directory: ${project_loc:amq-in-action-example-src}
Goals: exec:java
Parameter
Name: exec.mainClass
Value: org.apache.activemq.book.ch2.jobs.Consumer

/ we zien onder Problems veel errors
/ TODO

/ 13	.

/ activemq	, 
/ wat is in 5.15.0 de maven dependency activemq-core ?
/ TODO 

/ 13. 

/ spring in action,

/ we download 
09-08-2017  15:33         1.672.020 SpringiA4_SourceCode.zip
/ en extract hem in workspace-java-oxygen\SpringiA4_SourceCode	/ we moeten zelf deze maken,

/ buildship is al installed in eclipse oxygen,

/ we maken eerst zelf een Gradle project,
Project root directory: C:\Users\ervelden\eclipse\workspace-java-oxygen\FirstGradle
Gradle user home directory: C:\Users\ervelden\.gradle
Gradle distribution: Gradle wrapper from target build
Gradle version: 3.5

/ in eclipse ziet eruit als een maven project, met src/main/java etc, en met een build.gradle

/ Onthoud:

notepad C:\Users\ervelden\eclipse\workspace-java-oxygen\SpringiA4_SourceCode>notepad Chapter_02\stereo-autoconfig\gradle\wrapper\gradle-wrapper.properties
...
distributionUrl=http\://services.gradle.org/distributions/gradle-3.5-bin.zip

/ Hier stond gradle-1.11-bin.zip

/ en in build.gradle hoeft NIET,
task wrapper(type: Wrapper) {
	gradleVersion = '1.11'
}


/ import in eclipse 
C:\Users\ervelden\eclipse\workspace-java-oxygen\SpringiA4_SourceCode\Chapter_01\knight
/ dit is een Gradle project,

/ Einde Onthoud

/ 13	. 

/ we veranderen	, we laten hem expres falen,
public class BraveKnightTest {
  @Test
  public void knightShouldEmbarkOnQuest() {
    Quest mockQuest = mock(Quest.class);
    BraveKnight knight = new BraveKnight(mockQuest);
    knight.embarkOnQuest();
    verify(mockQuest, times(1)).embark();
    Assert.fail();                                 // <-
  }

/ In Gradle Tasks view , double click: test
/ In Gradle executions we zien dat hij fails,

/ 13	.

/ we add aan PATH in Environment variables: C:\Program Files\Notepad++
/ nu kunnen we op de commmand line:
notepad++

/ 13	. 

/ Spring boot

/ we doen,
C:\Users\ervelden\eclipse\workspace-java-oxygen>mkdir sbia_examples
/ hierin extract we de source code van het boek,

/ ch02 is geen goede gradle project

/ ga naar,

https://start.spring.io/

/ en maak een spring boot gradle app, joshlongvideo
/ we voegen web en h2 toe,
/ we download een zip
/ deze extract we in de workspace-java-oxygen,

/ we vergelijken ch02 met deze, en passen build.gradle aan, en copy uit joshlongvideo gradle\ 
/ en gradlew en gradlew.bat
/ Pas nu kunnen we deze gradle project import.

/ 13	. 

/ we zien in ch02 project in ReadingListApplicationTests.java 

// WAS,
//@RunWith(SpringJUnit4ClassRunner.class)
//@SpringApplicationConfiguration(classes = ReadingListApplication.class)  \
//@WebAppConfiguration

// IS,
@RunWith(SpringRunner.class)
@SpringBootTest(classes=ReadingListApplication.class)
public class ReadingListApplicationTests {

	@Test
	//@Ignore
	public void contextLoads() {
			Assert.assertTrue(true);
	//		Assert.fail();
	}
}

/ Als we Assert.assertTrue(true), dan passes de test, als we Assert.fail() , dan faalt de test.

/ Lees,
https://spring.io/blog/2016/04/15/testing-improvements-in-spring-boot-1-4

/ 13	. 

<hibernate-mapping ...>
	<class name="..." table="...">
		<id ...>
		<property ...>
		<many-to-one>...
	</class>
</hibernate-mapping>

/ 13	. 

/ install spring boot cli on windows
/ lees,
https://howtoprogram.xyz/2016/08/27/install-spring-boot-command-line-interface-on-windows/

/ we download de zip van
http://repo.spring.io/release/org/springframework/boot/spring-boot-cli/1.5.6.RELEASE/
spring-boot-cli-1.5.6.RELEASE-bin.zip

/ we maken de environment variables,
User variables
spring_home C:\Users\ervelden\bin\spring-1.5.6.RELEASE
path ...;%spring_home%/bin

/ open nieuwe command,
C:\Users\ervelden>spring --version
Spring CLI v1.5.6.RELEASE

C:\Users\ervelden>spring shell
/ tab geeft commands,

/ 13	. 

/ we kijken naar de video van josh,
https://www.youtube.com/watch?v=sbPSjI4tt10

/ we hadden joshlongvideo, een gradle proj, 

/ we maken secondspringboot, een maven proj,
web, jpa, h2, actuator
/ we extract de zip in workspace-java-oxygen, en import in eclipse,

$ vi pom.xml
	<parent>
		<groupId>org.springframework.boot</groupId>
		<artifactId>spring-boot-starter-parent</artifactId>
		<version>1.5.6.RELEASE</version>
	</parent>
	
/ kijk in de local repo,
C:\Users\ervelden>dir \Users\ervelden\.m2\repository\org\springframework\boot

10-08-2017  14:56    <DIR>          spring-boot
10-08-2017  14:56    <DIR>          spring-boot-actuator
10-08-2017  14:56    <DIR>          spring-boot-autoconfigure
10-08-2017  14:56    <DIR>          spring-boot-dependencies         // !
10-08-2017  14:56    <DIR>          spring-boot-maven-plugin
10-08-2017  14:56    <DIR>          spring-boot-parent               // !
10-08-2017  14:56    <DIR>          spring-boot-starter
10-08-2017  14:56    <DIR>          spring-boot-starter-actuator
10-08-2017  14:56    <DIR>          spring-boot-starter-aop
10-08-2017  14:56    <DIR>          spring-boot-starter-data-jpa
10-08-2017  14:56    <DIR>          spring-boot-starter-jdbc
10-08-2017  14:56    <DIR>          spring-boot-starter-logging
10-08-2017  14:56    <DIR>          spring-boot-starter-parent
10-08-2017  14:56    <DIR>          spring-boot-starter-test
10-08-2017  14:56    <DIR>          spring-boot-starter-tomcat
10-08-2017  14:56    <DIR>          spring-boot-starter-web
10-08-2017  14:56    <DIR>          spring-boot-starters
10-08-2017  14:56    <DIR>          spring-boot-test
10-08-2017  14:56    <DIR>          spring-boot-test-autoconfigure
10-08-2017  14:56    <DIR>          spring-boot-tools
 
C:\Users\ervelden>dir \Users\ervelden\.m2\repository\org\springframework\boot\spring-boot-starter-parent\1.5.6.RELEASE

10-08-2017  14:56             7.486 spring-boot-starter-parent-1.5.6.RELEASE.pom
10-08-2017  14:56                40 spring-boot-starter-parent-1.5.6.RELEASE.pom.sha1
10-08-2017  14:56               196 _remote.repositories

/ In de parent pom staan alle versions,

$ vi spring-boot-starter-parent-1.5.6.RELEASE.pom
	<parent>
		<groupId>org.springframework.boot</groupId>
		<artifactId>spring-boot-dependencies</artifactId>
		<version>1.5.6.RELEASE</version>
		<relativePath>../spring-boot-dependencies</relativePath>
	</parent>

$ vi spring-boot-dependencies-1.5.6.RELEASE.pom
	<dependencyManagement>
		<dependencies>
			<dependency>
				<groupId>org.springframework.boot</groupId>
				<artifactId>spring-boot-actuator</artifactId>
				<version>1.5.6.RELEASE</version>
			</dependency>
			
			<dependency>
				<groupId>org.springframework.boot</groupId>
				<artifactId>spring-boot-starter-data-jpa</artifactId>
				<version>1.5.6.RELEASE</version>
			</dependency>

/ en in onze pom, ook, maar dan zonder versies,

	<dependencies>
		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-actuator</artifactId>
		</dependency>
		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-data-jpa</artifactId>
		</dependency>

/ In build.gradle zien we helemaal geen versies,
/ google: 
/ lees: spring boot starter gradle no versions of dependencies
https://stackoverflow.com/questions/41676534/how-are-some-gradle-dependencies-working-with-no-version-supplied
The version of the spring-boot gradle plugin that you declare determines the version of the spring-boot-starter-parent bom that is imported (this ensures that builds are always repeatable). You should always set the version of the spring-boot gradle plugin to the actual Spring Boot version that you wish to use.

/ 13	. 

/ als we de deps in secondspringboot's pom.xml vergl met de deps in joshlongvideo's build.gradle, dan kunnen we ze afmaken

$ vi build.gradle
dependencies {
	compile('org.springframework.boot:spring-boot-starter-data-jpa')
	runtime('com.h2database:h2')
	testCompile('org.springframework.boot:spring-boot-starter-test')
	compile('org.springframework.boot:spring-boot-starter-web')
	compile('org.springframework.boot:spring-boot-starter-thymeleaf')
	compile('org.springframework.boot:spring-boot-starter-actuator')
}

/ voorlopig,

dependencies {
	compile('org.springframework.boot:spring-boot-starter-data-jpa')
	runtime('com.h2database:h2')
	testCompile('org.springframework.boot:spring-boot-starter-test')
	/*
	compile('org.springframework.boot:spring-boot-starter-web')
	compile('org.springframework.boot:spring-boot-starter-thymeleaf')
	compile('org.springframework.boot:spring-boot-starter-actuator')
	*/
}

@SpringBootApplication 
/ doet,
@Configuration
@ComponentScan

/ 13	. 

/ ipv

@SpringBootApplication
public class joshlongvideoApplication {

	public static void main(String[] args) {
		SpringApplication.run(joshlongvideoApplication.class, args);
	}
	
	@Bean CommandLineRunner runner(ReservationRepository rr) {
		return new CommandLineRunner() {
			
			@Override
			public void run(String... args) throws Exception {
				// TODO Auto-generated method stub
				
			}
		};
	}
}

/ doen we 
	@Bean CommandLineRunner runner(ReservationRepository rr) {
		return args ->{
			
		};
	}
/ TODO

/ 13	. 			

/ ipv
	rr.findAll().forEach(r->System.out.println(r));
/ we doen,
	rr.findAll().forEach(System.out::println);
	
/ 13	.

/ in gradle,
	compile('org.springframework.boot:spring-boot-starter-web')
	runtime('com.h2database:h2')
	
/ in maven,
	<scope>compile</scope>		/ default
	<scope>runtime</scope>
	
/ we zien op de video,

<dependency>
	<groupId>com.h2database</groupId>
	<artifactId>h2</artifactId>
	<scope>runtime</scope>
	
/ 13	.

/ in de Gradle tasks view zien we,
bootRun
/ we zien de result in Console, 
/ als niet compiles, dan zien we errors ook in Console,

/ we kunnen ook right click joshlongvideoApplication.java, Run as, Java application

/ er zijn ook
build
test

$ vi joshlongvideoApplication.javapackage my.own.joshlongvideo;

import java.util.Arrays;
import java.util.Collection;

import javax.persistence.Entity;
import javax.persistence.GeneratedValue;
import javax.persistence.Id;

import org.springframework.boot.CommandLineRunner;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.context.annotation.Bean;
import org.springframework.data.jpa.repository.JpaRepository;

@SpringBootApplication
public class joshlongvideoApplication {

	public static void main(String[] args) {
		SpringApplication.run(joshlongvideoApplication.class, args);
	}
	
	@Bean CommandLineRunner runner(ReservationRepository rr) {
		return args ->{
			Arrays.asList("Foo,Bar,Baz,Gee,Hee".split(","))
				.forEach(n->rr.save(new Reservation(n)));
			
			rr.findAll().forEach(System.out::println);
			rr.findByName("Foo").forEach(System.out::println);
		};
	}
}
	
interface ReservationRepository extends JpaRepository<Reservation, Long>{
	Collection<Reservation>findByName(String name);
}

@Entity
class Reservation{
	@Id @GeneratedValue
	private Long id;
	
	private String name;

	public String getName() {
		return name;
	}

	@Override
	public String toString() {
		return "Reservation{id="+id+",name="+name+"}";
	}
	public Reservation() { // for JPA TODO
	}
	public Reservation(String name) {
		this.name=name;
	}
	public Long getId() {
		return id;
	}

}

/ hoe gaat dat met 	

public static void main(String[] args) {
		SpringApplication.run(joshlongvideoApplication.class, args);
	}
	@Bean CommandLineRunner runner(ReservationRepository rr) {
*		return args ->{			
**			Arrays.asList("Foo,Bar,Baz,Gee,Hee".split(",")).forEach(n->rr.save(new Reservation(n)));
			...
			
/ we kunnen een b set in * en in **

/ set b in **,
Thread [main] (Suspended (breakpoint at line 25 in joshlongvideoApplication))	
	joshlongvideoApplication.lambda$0(ReservationRepository, String[]) line: 25	
	356300643.run(String[]) line: not available	
	SpringApplication.callRunner(CommandLineRunner, ApplicationArguments) line: 732	
	SpringApplication.callRunners(ApplicationContext, ApplicationArguments) line: 716
			for (Object runner : new LinkedHashSet<Object>(runners)) {
			if (runner instanceof ApplicationRunner) {
/n
				callRunner((ApplicationRunner) runner, args);
			}
			if (runner instanceof CommandLineRunner) {
/j
				callRunner((CommandLineRunner) runner, args);
/s
	SpringApplication.afterRefresh(ConfigurableApplicationContext, ApplicationArguments) line: 703		
		callRunners(context, args);
	SpringApplication.run(String...) line: 304	
	SpringApplication.run(Object[], String[]) line: 1118	
	SpringApplication.run(Object, String...) line: 1107	
	joshlongvideoApplication.main(String[]) line: 20	
			SpringApplication.run(joshlongvideoApplication.class, args);



/ als we b in *, dan zien we dat een @Bean een cglib object is,	
		
joshlongvideoApplication [Java Application]	
	my.own.joshlongvideo.joshlongvideoApplication at localhost:64821	
		Thread [main] (Suspended (breakpoint at line 24 in joshlongvideoApplication))	
			owns: ConcurrentHashMap<K,V>  (id=55)	
			owns: Object  (id=56)	
			joshlongvideoApplication$$EnhancerBySpringCGLIB$$1b463d19(joshlongvideoApplication).runner(ReservationRepository) line: 24	
			joshlongvideoApplication$$EnhancerBySpringCGLIB$$1b463d19.CGLIB$runner$0(ReservationRepository) line: not available	
			joshlongvideoApplication$$EnhancerBySpringCGLIB$$1b463d19$$FastClassBySpringCGLIB$$e3164c3b.invoke(int, Object, Object[]) line: not available	
			MethodProxy.invokeSuper(Object, Object[]) line: 228	
			ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(Object, Method, Object[], MethodProxy) line: 358	
			joshlongvideoApplication$$EnhancerBySpringCGLIB$$1b463d19.runner(ReservationRepository) line: not available	
			NativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not available [native method]	
			NativeMethodAccessorImpl.invoke(Object, Object[]) line: not available	
			DelegatingMethodAccessorImpl.invoke(Object, Object[]) line: not available	
			Method.invoke(Object, Object...) line: not available	
			CglibSubclassingInstantiationStrategy(SimpleInstantiationStrategy).instantiate(RootBeanDefinition, String, BeanFactory, Object, Method, Object...) line: 162	
			ConstructorResolver.instantiateUsingFactoryMethod(String, RootBeanDefinition, Object[]) line: 588	
			DefaultListableBeanFactory(AbstractAutowireCapableBeanFactory).instantiateUsingFactoryMethod(String, RootBeanDefinition, Object[]) line: 1173	
			DefaultListableBeanFactory(AbstractAutowireCapableBeanFactory).createBeanInstance(String, RootBeanDefinition, Object[]) line: 1067	
			DefaultListableBeanFactory(AbstractAutowireCapableBeanFactory).doCreateBean(String, RootBeanDefinition, Object[]) line: 513	
			DefaultListableBeanFactory(AbstractAutowireCapableBeanFactory).createBean(String, RootBeanDefinition, Object[]) line: 483	
			AbstractBeanFactory$1.getObject() line: 306	
			DefaultListableBeanFactory(DefaultSingletonBeanRegistry).getSingleton(String, ObjectFactory<?>) line: 230	
			DefaultListableBeanFactory(AbstractBeanFactory).doGetBean(String, Class<T>, Object[], boolean) line: 302	
			DefaultListableBeanFactory(AbstractBeanFactory).getBean(String) line: 197	
			DefaultListableBeanFactory.preInstantiateSingletons() line: 761	
			AnnotationConfigApplicationContext(AbstractApplicationContext).finishBeanFactoryInitialization(ConfigurableListableBeanFactory) line: 867	
			AnnotationConfigApplicationContext(AbstractApplicationContext).refresh() line: 543	
			SpringApplication.refresh(ApplicationContext) line: 693	
			SpringApplication.refreshContext(ConfigurableApplicationContext) line: 360	
			SpringApplication.run(String...) line: 303	
			SpringApplication.run(Object[], String[]) line: 1118	
			SpringApplication.run(Object, String...) line: 1107	
			joshlongvideoApplication.main(String[]) line: 20	
		Daemon Thread [Tomcat JDBC Pool Cleaner[414493378:1502439119253]] (Running)	
/ TODO

/ we zien,

Reservation{id=1,name=Foo}
Reservation{id=2,name=Bar}
Reservation{id=3,name=Baz}
Reservation{id=4,name=Gee}
Reservation{id=5,name=Hee}

Reservation{id=1,name=Foo} / laatste query,

/ 13	.

/ rest api 

/ in joshlongvideo

/ voor rest api moeten we in build.gradle,

dependencies {
	compile('org.springframework.boot:spring-boot-starter-web')
	
/ en doe in eclipse, 
/ right click project, Gradle, Refresh Gradle project

/ 13	. 

/ we add to chrome de JSONView extention, 
/ google: chrome json pretty print

$ vi FirstspringbootApplication.java

@RestController
class ReservationController{
	
	@RequestMapping("/reservations")
	public Collection<Reservation>reservations(){
		return this.reservationRepository.findAll();
		
	}
	@Autowired
	private ReservationRepository reservationRepository;
		
	
}

/ Geef localhost:8080/reservations

[
{
id: 1,
name: "Foo"
},
{
id: 2,
name: "Bar"
},
{
id: 3,
name: "Baz"
},
{
id: 4,
name: "Gee"
},
{
id: 5,
name: "Hee"
}
]
/ Welke functie print deze?
/ TODO

/ bij 
rr.findAll().forEach(System.out::println);
/ zien we 
Reservation{id=1,name=Foo}
Reservation{id=2,name=Bar}
Reservation{id=3,name=Baz}
Reservation{id=4,name=Gee}
Reservation{id=5,name=Hee}
Reservation{id=1,name=Foo}
/ Dit is van de Reservation.toString() method, 

/ 13	. 

/ ipv field injection, kunnen we ook @Autowired op de setter set, NIET op de getter	,

	private ReservationRepository reservationRepository;
	
	
	public ReservationRepository getReservationRepository() {
		return reservationRepository;
	}
	@Autowired
	public void setReservationRepository(ReservationRepository reservationRepository) {
		this.reservationRepository = reservationRepository;
	}
/ OK	,
/ Deze setter kunnen we mock,

/ 13	. 

/ bootRun is ook een run config, net als bij maven,
/ ook test, build, clean
/ Hierin kunnen we program arguments geven,

/ 13	. 


/ we willen de source van de jre classes zien,
/ Windows, preferences, Java, installed JREs
/ add C:\Program Files\Java\jdk1.8.0_144
/ en kies deze als default,

/ right click existing project, build path, libraries
/ edit JRE System Library[jre1.8.0_144]
Alternate JRE: jdk1.8.0_144

/ Geef nu F3 op Arrays, dan zien we de source code.

/ 13	 .

/ WATCH PROCESSES IN WINDOWS

/ Uitgebreidere processes,
/ google: windows 7 show java processes
https://docs.microsoft.com/en-us/sysinternals/downloads/process-explorer
/ we extract in bin\ProcessExplorer, en set deze in mijn path, TODO
/ Geef,
C:\Users\ervelden\eclipse\jee-oxygen>\Users\ervelden\bin\ProcessExplorer\procexp.exe
/ 13	. 

/ google: bootRun arguments
https://stackoverflow.com/questions/25079244/how-to-pass-jvm-options-from-bootrun

$ vi build.gradle

bootRun{
	args=["foo","bar"]
}
/ OK
/ TODO Anders 

/ 	13	. 

/ ipv rest die db queries doet via this.reservationRepository.findAll()
/ we comment out de @RestController class ReservationController,

$ vi build.gradle
dependencies {
	compile('org.springframework.boot:spring-boot-starter-data-jpa')
	compile('org.springframework.boot:spring-boot-starter-web')
	compile('org.springframework.boot:spring-boot-starter-data-rest')        // !
	runtime('com.h2database:h2')
	testCompile('org.springframework.boot:spring-boot-starter-test')
}

/ 13	. 

/ we veranderen,

@RepositoryRestResource
interface ReservationRepository extends JpaRepository<Reservation, Long>{
	Collection<Reservation>findByName(String name);
}

/ de annotatie is @RepositoryRestResource, NIET @RepositoryRestController
/ Als je @RepositoryRestController, dan ERR:
/ Lees over,
This application has no explicit mapping for /error, so you are seeing this as a fallback.
https://stackoverflow.com/questions/31134333/this-application-has-no-explicit-mapping-for-error

/ Lees over @RepositoryRestController
https://faithfull.me/overriding-spring-data-rest-repositories/

/ 13	.

/ STRAKS



/ 7	. 

/ spring data rest

/ lees,
https://spring.io/guides/gs/accessing-data-rest/

/ in eclipse, file import, git, projects from git, 
/ geef url https://github.com/spring-guides/gs-accessing-data-rest.git
/ en zet hem in de workspace-java-oxygen

/ we zien 2 projects, complete en initial, beide zijn en Maven en Gradle projects, we nemen complete,

C:\Users\ervelden\eclipse\workspace-java-oxygen\gs-accessing-data-rest>dir
 Volume in drive C is System
 Volume Serial Number is 90D0-8A5A

 Directory of C:\Users\ervelden\eclipse\workspace-java-oxygen\gs-accessing-data-rest

11-08-2017  17:42    <DIR>          .
11-08-2017  17:42    <DIR>          ..
11-08-2017  17:42               270 .gitignore
11-08-2017  17:42               276 .travis.yml
11-08-2017  17:42    <DIR>          complete
11-08-2017  17:42               133 CONTRIBUTING.adoc
11-08-2017  17:42    <DIR>          initial
11-08-2017  17:42               721 LICENSE.code.txt
11-08-2017  17:42               105 LICENSE.writing.txt
11-08-2017  17:42            12.584 README.adoc
11-08-2017  17:42    <DIR>          test
               6 File(s)         14.089 bytes
               5 Dir(s)  51.603.345.408 bytes free
			   
/ we edit in complete gradle\gradle-wrapper.properties, we set version 3.5
#Mon Aug 29 13:03:41 CDT 2016
distributionBase=GRADLE_USER_HOME
distributionPath=wrapper/dists
zipStoreBase=GRADLE_USER_HOME
zipStorePath=wrapper/dists
distributionUrl=https\://services.gradle.org/distributions/gradle-3.5-bin.zip

/ Nu kunnen we het Gradle project import, 
/ we zien in eclipse, 
complete [ gs-accessing-data-rest master ]
	src/main/java	lo
	...
/ en we zien met 
Team, Switch to
/ dat er maar 1 branch is: master

/ start de app met bootRun,
/ geef in browser,
localhost:8080
/ we zien
{
	_links: {
		people: {
			href: "http://localhost:8080/people{?page,size,sort}",
			templated: true
		},
		profile: {
			href: "http://localhost:8080/profile"
		}
	}
}

/ 13. 

/ we install curl,
https://curl.haxx.se/download.html#Win64

/ we kiezen,
in64 x86_64 7zip	7.55.0

/ extract in \Users\ervelden\bin
/ set C:\Users\ervelden\bin\curl-7.55.0-win64-mingw\bin in path,

/ geef C:\Users\ervelden>curl localhost:8080
{
  "_links" : {
    "people" : {
      "href" : "http://localhost:8080/people{?page,size,sort}",
      "templated" : true
    },
    "profile" : {
      "href" : "http://localhost:8080/profile"
    }
  }
}

/ geef in chrome,
http://localhost:8080/profile

/ we zien,
{
	_links: {
		self: {
			href: "http://localhost:8080/profile"
		},
		people: {
			href: "http://localhost:8080/profile/people"
		}
	}
}

/ geef,
http://localhost:8080/profile/people

/ we zien

{
	alps: {
		version: "1.0",
		descriptors: [
			{
				id: "person-representation",
				href: "http://localhost:8080/profile/people",
				descriptors: [
					{
					name: "firstName",
					type: "SEMANTIC"
					},
					{
					name: "lastName",
					type: "SEMANTIC"
					}
				]
				},
			{
			id: "get-people",
			name: "people",
			type: "SAFE",
			rt: "#person-representation",
			descriptors: [
				{
					name: "page",
					doc: {
						value: "The page to return.",
						format: "TEXT"
					},
					type: "SEMANTIC"
					},
				{
					name: "size",
					doc: {
						value: "The size of the page to return.",
						format: "TEXT"
					},
					type: "SEMANTIC"
				},
				{
					name: "sort",
					doc: {
						value: "The sorting criteria to use to calculate the content of the page.",
						format: "TEXT"
					},
					type: "SEMANTIC"
					}
				]
			},
			{
				id: "create-people",
				name: "people",
				type: "UNSAFE",
				rt: "#person-representation"
			},
			{
				id: "update-person",
				name: "person",
				type: "IDEMPOTENT",
				rt: "#person-representation"
			},
			{
				id: "get-person",
				name: "person",
				type: "SAFE",
				rt: "#person-representation"
			},
			{
				id: "patch-person",
				name: "person",
				type: "UNSAFE",
				rt: "#person-representation"
			},
			{
				id: "delete-person",
				name: "person",
				type: "IDEMPOTENT",
				rt: "#person-representation"
			},
			{
				name: "findByLastName",
				type: "SAFE",
				descriptors: [
				{
					name: "name",
					type: "SEMANTIC"
				}
				]
			}
		]
	}
}

/ 13	. 

/ we add 2 people,

/ we zijn nog op,
https://spring.io/guides/gs/accessing-data-rest/

C:\Users\ervelden> curl -i -X POST -H "Content-Type:application/json" -d "{  \"firstName\" : \"Frodo\",  \"lastName\" : \"Baggins\" }"http://localhost:8080/people

HTTP/1.1 201
Location: http://localhost:8080/people/1
Content-Type: application/hal+json;charset=UTF-8
Transfer-Encoding: chunked
Date: Sun, 13 Aug 2017 13:04:59 GMT

{
  "firstName" : "Frodo",
  "lastName" : "Baggins",
  "_links" : {
    "self" : {
      "href" : "http://localhost:8080/people/1"
    },
    "person" : {
      "href" : "http://localhost:8080/people/1"
    }
  }
}

/ door -i zien we ook in de response de response headers,

C:\Users\ervelden> curl -i -X POST -H "Content-Type:application/json" -d "{  \"firstName\" : \"Foo\",  \"lastName\" : \"Bar\" }"  http://localhost:8080/people
HTTP/1.1 201
Location: http://localhost:8080/people/2
Content-Type: application/hal+json;charset=UTF-8
Transfer-Encoding: chunked
Date: Sun, 13 Aug 2017 13:08:17 GMT

{
  "firstName" : "Foo",
  "lastName" : "Bar",
  "_links" : {
    "self" : {
      "href" : "http://localhost:8080/people/2"
    },
    "person" : {
      "href" : "http://localhost:8080/people/2"
    }
  }
}

/ als we nu naar
localhost:8080/people

{
	_embedded: {
		people: [
		{
		firstName: "Frodo",
		lastName: "Baggins",
		_links: {
			self: {
				href: "http://localhost:8080/people/1"
				},
			person: {
				href: "http://localhost:8080/people/1"
				}
			}
		},
		{
		firstName: "Foo",
		lastName: "Bar",
		_links: {
			self: {
				href: "http://localhost:8080/people/2"
			},
			person: {
				href: "http://localhost:8080/people/2"
			}
		}
		}
		]
	},
	_links: {
	self: {
	href: "http://localhost:8080/people{?page,size,sort}",
	templated: true
	},
	profile: {
	href: "http://localhost:8080/profile/people"
	},
	search: {
	href: "http://localhost:8080/people/search"
	}
	},
	page: {
	size: 20,
	totalElements: 2,
	totalPages: 1,
	number: 0
	}
}

/ _links en page waren er al,

/ 13	. 

C:\Users\ervelden>  curl -X GET http://localhost:8080/people/search
{
  "_links" : {
    "findByLastName" : {
      "href" : "http://localhost:8080/people/search/findByLastName{?name}",
      "templated" : true
    },
    "self" : {
      "href" : "http://localhost:8080/people/search"
    }
  }
}

/ we moeten -X GET geven, NIET -X getC:\Users\ervelden>  curl -X GET http://localhost:8080/people/search/findByLastName?name=Bar
{
  "_embedded" : {
    "people" : [ {
      "firstName" : "Foo",
      "lastName" : "Bar",
      "_links" : {
        "self" : {
          "href" : "http://localhost:8080/people/2"
        },
        "person" : {
          "href" : "http://localhost:8080/people/2"
        }
      }
    } ]
  },
  "_links" : {
    "self" : {
      "href" : "http://localhost:8080/people/search/findByLastName?name=Bar"
    }
  }
}

/ 13	. 

/ update,
C:\Users\ervelden\bin\curl-7.55.0-win64-mingw> curl -i -X PUT -H "Content-Type:application/json" -d "{  \"firstName\" : \"Gee\",  \"lastName\" : \"Bar\" }"  http://localhost:8080/people/1
HTTP/1.1 200
Location: http://localhost:8080/people/1
Content-Type: application/hal+json;charset=UTF-8
Transfer-Encoding: chunked
Date: Sun, 13 Aug 2017 19:10:32 GMT

{
  "firstName" : "Gee",
  "lastName" : "Bar",
  "_links" : {
    "self" : {
      "href" : "http://localhost:8080/people/1"
    },
    "person" : {
      "href" : "http://localhost:8080/people/1"
    }
  }
}

/ we zien dat we met PUT niet zoals in SQL 1 property kunnen update, we moeten ze allemaal geven	,
/ als je er maar 1 geeft, zoals firstName, wordt de lastName null,

C:\Users\ervelden\bin\curl-7.55.0-win64-mingw> curl -i -X PUT -H "Content-Type:application/json" -d "{  \"firstName\" : \"Foo\" }"  http://localhost:8080/people/1
HTTP/1.1 200
Location: http://localhost:8080/people/1
Content-Type: application/hal+json;charset=UTF-8
Transfer-Encoding: chunked
Date: Sun, 13 Aug 2017 19:14:55 GMT

{
  "firstName" : "Foo",
  "lastName" : null,
  "_links" : {
    "self" : {
      "href" : "http://localhost:8080/people/1"
    },
    "person" : {
      "href" : "http://localhost:8080/people/1"
    }
  }
}

/ we hadden eerst de verkeerde url gegeven people ipv people/1:

C:\Users\ervelden\bin\curl-7.55.0-win64-mingw> curl -i -X PUT -H "Content-Type:application/json" -d "{  \"firstName\" : \"Gee\",  \"lastName\" : \"Bar\" }"  http://localhost:8080/people
HTTP/1.1 404
Content-Type: application/json;charset=UTF-8
Transfer-Encoding: chunked
Date: Sun, 13 Aug 2017 19:09:38 GMT

{"timestamp":1502651378752,"status":404,"error":"Not Found","message":"No message available","path":"/people"}


/ 13	.

/ maar met PATCH kun je wel 1 property update,

C:\Users\ervelden\bin\curl-7.55.0-win64-mingw>  curl -X GET http://localhost:8080/people
{
  "_embedded" : {
    "people" : [ {
      "firstName" : "Gee",
      "lastName" : "Bar",
      "_links" : {
        "self" : {
          "href" : "http://localhost:8080/people/1"
        },
        "person" : {
          "href" : "http://localhost:8080/people/1"
        }
      }
    }, {
	...
	
C:\Users\ervelden\bin\curl-7.55.0-win64-mingw> curl -i -X PATCH -H "Content-Type:application/json" -d "{  \"firstName\" : \"Foo\"  }"  http://localhost:8080/people/1
HTTP/1.1 200
Content-Type: application/hal+json;charset=UTF-8
Transfer-Encoding: chunked
Date: Sun, 13 Aug 2017 21:02:09 GMT

{
  "firstName" : "Foo",
  "lastName" : "Bar",
  "_links" : {
    "self" : {
      "href" : "http://localhost:8080/people/1"
    },
    "person" : {
      "href" : "http://localhost:8080/people/1"
    }
  }
}

/ 13	. 


C:\Users\ervelden\bin\curl-7.55.0-win64-mingw> curl -i -X DELETE http://localhost:8080/people/2
HTTP/1.1 204
Date: Sun, 13 Aug 2017 21:04:57 GMT


C:\Users\ervelden\bin\curl-7.55.0-win64-mingw>  curl -X GET http://localhost:8080/people
{
  "_embedded" : {
    "people" : [ {
      "firstName" : "Foo",
      "lastName" : "Bar",
      "_links" : {
        "self" : {
          "href" : "http://localhost:8080/people/1"
        },
        "person" : {
          "href" : "http://localhost:8080/people/1"
        }
      }
    } ]
  },
  
/ 13	. 
Congratulations! Youve just developed an application with a hypermedia-based RESTful front end and a JPA-based back end.

/ Toch hebben we geen JpaRepository
/ TODO

/ 13	. 

/ Motivatie Aon:

Ik heb wiskunde gestudeerd, en in mijn vrije tijd neem in kansberekening & statistiek door en oefen met R, en bestudeer ik de algoritmen die gebruikt worden bij encryptie van computerberichten. Maa r vooral mijn kennis van kansberekening & statistiek hoop ik te kunnen gebruiken in uw business.
Ik mijn vorige baan was ik full-stack web ontwikkelaar, en daar wil ik mee doorgaan. De zaak gebruikte Wicket; u gebruikt Spring-MVC. Maar gelukkig lijken op mekaar; beide zijn immers MVC frameworks. Thuis bestudeerde ik AngularJS, maar doordat ik op mijn werk Wicket gebruikte, ben ik Wicket gaan bestuderen. Nu heb ik Angular weer opgepakt. 
Thuis bestudeer ik computer programmas (omdat ik bang ben dat ik anders achterop raak), en een ervan is PL/pgSQL, de PostgreSQL variant van PL/SQL. Gradle gebruik ik bij het oefenen met Spring Boot. Ook met JavaScript heb ik veel geoefend, en jQuery heb ik op het werk gebruikt. Ook heb ik geoefend met Bootstrap. Maar de back-end vind ik ook interessant; thuis build ik Wildfly (met Git en Maven) en kijk hoe two-phase commit werkt en is gemaakt.
Ik mis eerlijk gezegd Mockito in uw lijst van programmas. 


/ 7	. 

/ we import de git project 
https://github.com/spring-projects/spring-data-book.git
/ en set hem in de workspace-java-oxygen.

/ we import dit Maven project, en we zien 

spring-data-book
spring-data-book-gemfire
spring-data-book-jdbc
spring-data-book-jpa
spring-data-book-mongodb
spring-data-book-neo4j
spring-data-book-querydsl
spring-data-book-redis
spring-data-book-rest

spring-data-book is main project, en bevat de main pom,

$ vi pom.xml
	<build>

		<plugins>

			<plugin>
				<groupId>org.codehaus.mojo</groupId>
				<artifactId>build-helper-maven-plugin</artifactId>
				<version>3.0.0</version>

/ de version was 1.5, en daarom kregen we deze err:
No marketplace entries found to handle Execution add-source, in /spring-data-book-jdbc/pom.xml in Eclipse.  Please see Help for more information.

/ 13	. 

/ In spring-data-book-jpa , 

$ vi pom.xml
		<plugins>
			<plugin>
				<groupId>com.mysema.maven</groupId>
				<artifactId>apt-maven-plugin</artifactId>
				<version>1.0.8</version>
				<dependencies>
					<dependency>
						<groupId>com.mysema.querydsl</groupId>
						<artifactId>querydsl-apt</artifactId>
						<version>${querydsl.version}</version>
					</dependency>
				</dependencies>
				<executions>
					<execution>
					
/ maar we hebben ERR op <execution>	, 
You need to run build with JDK or have tools.jar on the classpath.If this occures during eclipse build make sure you run 
eclipse under JDK as well (com.mysema.maven:apt-maven-plugin:1.0.8:process:default:generate-sources) 
org.apache.maven.plugin.MojoExecutionException: You need to run build with JDK or have tools.jar on the classpath.If this 
occures during eclipse build make sure you run eclipse under JDK as well at 

/ 13	. 

https://www.petrikainulainen.net/programming/spring-framework/spring-data-jpa-tutorial-getting-the-required-dependencies/
/ we zien:  get the example application of this blog post from Github.
https://github.com/pkainulainen/spring-data-jpa-examples/tree/master/query-methods

/ we import met eclipse van https://github.com/pkainulainen/spring-data-jpa-examples
https://github.com/pkainulainen/spring-data-jpa-examples.git

/ Deze heeft allemaal sub dirs en deze zijn de maven projects, die we apart moeten import in eclipse,
/ we hebben in workspace-java-oxygen de dir spring-data-jpa-examples/ en deze heeft query-methods/, dit is de Maven project die we in eclipse import,	 

/ we hebben build-helper-maven-plugin version 3.0.0: resolves ERRs,

/ we zien in de pom van query-methods geen versions, maar dat doet hij zo in de pom:

    <dependencyManagement>
        <dependencies>
            <dependency>
                <groupId>io.spring.platform</groupId>
                <artifactId>platform-bom</artifactId>
                <version>1.1.2.RELEASE</version>
                <type>pom</type>
                <scope>import</scope>
            </dependency>
        </dependencies>
    </dependencyManagement>
	
/ Deze kunnen we gewoon bekijken in search.maven.org, en we zien bijvoorbeeld	,

	<parent>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-parent</artifactId>
        <version>1.2.3.RELEASE</version>
        <relativePath/>
    </parent>
 
    <groupId>io.spring.platform</groupId>
    <artifactId>platform-bom</artifactId>
    <version>1.1.2.RELEASE</version>
    <packaging>pom</packaging>
	    
	<properties>
		<hibernate-jpa-api.version>1.0.1.Final</hibernate-jpa-api.version>
		   <dependencyManagement>
			<dependencies>
		     <dependency>
                <groupId>org.hibernate</groupId>
                <artifactId>hibernate-core</artifactId>
                <version>${hibernate.version}</version>
            </dependency>
            <dependency>
                <groupId>org.hibernate.javax.persistence</groupId>
                <artifactId>hibernate-jpa-2.0-api</artifactId>
                <version>${hibernate-jpa-api.version}</version>
            </dependency>

/ Kijken we ook in search.maven.org naar spring-boot-starter-parent:1.2.3.RELEASE's pom, dan zien we,

    <parent>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-dependencies</artifactId>
        <version>1.2.3.RELEASE</version>
        <relativePath>../../spring-boot-dependencies</relativePath>
    </parent>
    <artifactId>spring-boot-starter-parent</artifactId>
    <packaging>pom</packaging>

/ Kijken we ook in search.maven.org naar spring-boot-dependencies:1.2.3.RELEASE's pom, dan zien we alle deps en versions,

	<properties>
	    <hibernate.version>4.3.8.Final</hibernate.version>
        <hibernate-entitymanager.version>${hibernate.version}</hibernate-entitymanager.version>
		
		<log4j.version>1.2.17</log4j.version>
        <log4j2.version>2.1</log4j2.version>

    <dependencyManagement>
        <dependencies>
		    <dependency>
                <groupId>org.hibernate</groupId>
                <artifactId>hibernate-entitymanager</artifactId>
                <version>${hibernate.version}</version>
            </dependency>         
			
			<dependency>
                <groupId>log4j</groupId>
                <artifactId>log4j</artifactId>
                <version>${log4j.version}</version>
            </dependency>         
			
			<dependency>
                <groupId>org.apache.logging.log4j</groupId>
                <artifactId>log4j-api</artifactId>
                <version>${log4j2.version}</version>
            </dependency>
            <dependency>
                <groupId>org.apache.logging.log4j</groupId>
                <artifactId>log4j-core</artifactId>
                <version>${log4j2.version}</version>
            </dependency>
            <dependency>
                <groupId>org.apache.logging.log4j</groupId>
                <artifactId>log4j-slf4j-impl</artifactId>
                <version>${log4j2.version}</version>
            </dependency>
			
			
			
			
			

/ 13	. 

/ lees,
http://www.baeldung.com/the-persistence-layer-with-spring-data-jpa

/ 13	. 

/ lees, 
https://www.mkyong.com/spring-boot/spring-boot-spring-data-jpa-oracle-example/

/ 13	. 

/ Lees, 

https://spring.io/guides/gs/accessing-data-jpa/

/ hierboven, 
/ https://github.com/spring-guides/gs-accessing-data-rest.git

/ nu import we in eclipse git project,
https://github.com/spring-guides/gs-accessing-data-jpa.git

/ 13	. 

/ zoek naar word in dir

/ lees,
https://technet.microsoft.com/en-us/library/bb490907.aspx

C:\Users\ervelden\eclipse\workspace-java-oxygen\gs-accessing-data-jpa>findstr /s content *.*

complete\build.gradle:    maven { url "https://repository.jboss.org/nexus/content/repositories/releases" }
complete\pom.xml:            <url>https://repository.jboss.org/nexus/content/repositories/releases</url>
complete\target\classes\META-INF\maven\org.springframework\gs-accessing-data-jpa\pom.xml:            <url>https://repository.jboss.org/nexus/content/repositories/releases</url>
initial\build.gradle:    maven { url "https://repository.jboss.org/nexus/content/repositories/releases" }
initial\pom.xml:            <url>https://repository.jboss.org/nexus/content/repositories/releases</url>
README.adoc:include::https://raw.githubusercontent.com/spring-guides/getting-started-macros/master/prereq_editor_jdk_buildtools.adoc[]
README.adoc:include::https://raw.githubusercontent.com/spring-guides/getting-started-macros/master/how_to_complete_this_guide.adoc[]
README.adoc:include::https://raw.githubusercontent.com/spring-guides/getting-started-macros/master/hide-show-gradle.adoc[]
README.adoc:include::https://raw.githubusercontent.com/spring-guides/getting-started-macros/master/hide-show-maven.adoc[]
README.adoc:include::https://raw.githubusercontent.com/spring-guides/getting-started-macros/master/hide-show-sts.adoc[]
README.adoc:include::https://raw.githubusercontent.com/spring-guides/getting-started-macros/master/spring-boot-application.adoc[]
README.adoc:include::https://raw.githubusercontent.com/spring-guides/getting-started-macros/master/build_an_executable_jar_mainhead.adoc[]
README.adoc:include::https://raw.githubusercontent.com/spring-guides/getting-started-macros/master/build_an_executable_jar_with_both.adoc[]
README.adoc:include::https://raw.githubusercontent.com/spring-guides/getting-started-macros/master/footer.adoc[]

/ 13	. 

/ show hidden files.

/ lees,
https://technet.microsoft.com/en-us/library/cc755121(v=ws.11).aspx

C:\Users\ervelden\eclipse\workspace-java-oxygen\tmp>dir . /a:h
 Volume in drive C is System
 Volume Serial Number is 90D0-8A5A

 Directory of C:\Users\ervelden\eclipse\workspace-java-oxygen\tmp

15-08-2017  10:20    <DIR>          .git
               0 File(s)              0 bytes
               1 Dir(s)  52.716.781.568 bytes free
			   
/ Maar dir toont wel .settings
/ is .settings geen hidden dir? TODO

/ 13	. 

/ gs-accessing-data-jpa is een git project, er is een .git/
/ we kunnen gs-accessing-data-rest import als gradle proj, maar dan in de gradle tasks view niet de goede tasks,

/ gs-accessing-data-jpa/complete is een gradle proj, als je deze import, krijg je de juiste tasks, 
/ maar het is geen git project,  er is geen .git/, 
/ maar toch kunnen we een alt branch maken, en switch er naar, dus WH in de repository in de parent, 

/ wat is de bedoeling, wat moeten we import in eclipse, gs-accessing-data-jpa of complete?
/ TODO

/ 13	. 

/ delete branch

/ lees,
https://wiki.eclipse.org/EGit/User_Guide#Delete_Branch

/ Team, Advanced, Delete branch

/ 13	. 

/ we zien dat gs-accessing-data-jpa geen maven project is, maar gs-accessing-data-jpa/complete wel: daar is een pom.xml 
/ er is in complete ook een .mvn/ met daarin maven-wrapper.jar en maven-wrapper.properties 
/ TODO Wat zijn dat ?

/ 13	. 

/ als we in eclipse een gradle project rename, van tmp naar foo, dan moeten we repareren
$ vi settings.gradle
rootProject.name = 'foo'
/ want er stond nog 'tmp'

/ we maken er een git project van, 
Team, Share project
/ en commit, we zien de master branch,

/ we kunnen foo [foo master] rename naar bar, we krijgen allerlei ERRs, maar we moeten weer settings.gradle aanpassen, en 
right click project, Gradle, Refresh gradle project

/ maar in 'Git repositories' en 'Git tasks' views zien we nog steeds foo, de oude name, 
/ TODO

/ 13	. 

/ als we van te voren de complete/ rename naar gs-accessing-data-jpa , en deze import in eclipse, maar dan in .git/ staat nog steeds complete, dus als we in egit commit, dan zien we in Unstaged files alle complete/... files,
/ TODO
/ Lees,
https://stackoverflow.com/questions/11183788/in-a-git-repository-how-to-properly-rename-a-directory

/ we moeten
$ git mv

/ maar in egit zien we deze niet?

/ ga naar om git download,
https://git-scm.com/download/win

/ we install git in C:\Program Files\Git
/ we zien: server certificates will be validated using ca-bundle.ctr file

/ we doen op de command line,

C:\Users\ervelden\eclipse\workspace-java-oxygen\gs-accessing-data-jpa>git mv complete data-jpa-complete

C:\Users\ervelden\eclipse\workspace-java-oxygen\gs-accessing-data-jpa>git status
On branch master
Your branch is up-to-date with 'origin/master'.

Changes to be committed:
  (use "git reset HEAD <file>..." to unstage)

        renamed:    complete/.mvn/wrapper/maven-wrapper.jar -> data-jpa-complete/.mvn/wrapper/maven-wrapper.jar
        renamed:    complete/.mvn/wrapper/maven-wrapper.properties -> data-jpa-complete/.mvn/wrapper/maven-wrapper.properties
        renamed:    complete/build.gradle -> data-jpa-complete/build.gradle
        renamed:    complete/gradle/wrapper/gradle-wrapper.jar -> data-jpa-complete/gradle/wrapper/gradle-wrapper.jar
        renamed:    complete/gradle/wrapper/gradle-wrapper.properties -> data-jpa-complete/gradle/wrapper/gradle-wrapper.properties
        renamed:    complete/gradlew -> data-jpa-complete/gradlew
        renamed:    complete/gradlew.bat -> data-jpa-complete/gradlew.bat
        renamed:    complete/mvnw -> data-jpa-complete/mvnw
        renamed:    complete/mvnw.cmd -> data-jpa-complete/mvnw.cmd
        renamed:    complete/pom.xml -> data-jpa-complete/pom.xml
        renamed:    complete/src/main/java/hello/Application.java -> data-jpa-complete/src/main/java/hello/Application.java
        renamed:    complete/src/main/java/hello/Customer.java -> data-jpa-complete/src/main/java/hello/Customer.java
        renamed:    complete/src/main/java/hello/CustomerRepository.java -> data-jpa-complete/src/main/java/hello/CustomerRepository.java
        renamed:    complete/src/test/java/hello/CustomerRepositoryTests.java -> data-jpa-complete/src/test/java/hello/CustomerRepositoryTests.java


C:\Users\ervelden\eclipse\workspace-java-oxygen\gs-accessing-data-jpa>git commit -m "renamed complete to data-jpa-complete"
[master 5ea6c2e] renamed complete to data-jpa-complete
 Committer: Velden <eric.vander.velden@sogeti.com>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly. Run the
following command and follow the instructions in your editor to edit
your configuration file:

    git config --global --edit

After doing this, you may fix the identity used for this commit with:

    git commit --amend --reset-author

 14 files changed, 0 insertions(+), 0 deletions(-)
 rename {complete => data-jpa-complete}/.mvn/wrapper/maven-wrapper.jar (100%)
 rename {complete => data-jpa-complete}/.mvn/wrapper/maven-wrapper.properties (100%)
 rename {complete => data-jpa-complete}/build.gradle (100%)
 rename {complete => data-jpa-complete}/gradle/wrapper/gradle-wrapper.jar (100%)
 rename {complete => data-jpa-complete}/gradle/wrapper/gradle-wrapper.properties (100%)
 rename {complete => data-jpa-complete}/gradlew (100%)
 rename {complete => data-jpa-complete}/gradlew.bat (100%)
 rename {complete => data-jpa-complete}/mvnw (100%)
 rename {complete => data-jpa-complete}/mvnw.cmd (100%)
 rename {complete => data-jpa-complete}/pom.xml (100%)
 rename {complete => data-jpa-complete}/src/main/java/hello/Application.java (100%)
 rename {complete => data-jpa-complete}/src/main/java/hello/Customer.java (100%)
 rename {complete => data-jpa-complete}/src/main/java/hello/CustomerRepository.java (100%)
 rename {complete => data-jpa-complete}/src/test/java/hello/CustomerRepositoryTests.java (100%)

C:\Users\ervelden\eclipse\workspace-java-oxygen\gs-accessing-data-jpa>git status
On branch master
Your branch is ahead of 'origin/master' by 1 commit.
  (use "git push" to publish your local commits)

nothing to commit, working tree clean

/ we hebben intussen \Users\ervelden\.gitconfig create met egit, via Windows, Preferences, Team, Git, Configuration.

/ 13	. 

/ we hebben complete/ in gs-accessing-data-jpa renamed to data-jpa-complete met 'git mv en git commit' 
/ we hebben complete/ in gs-accessing-data-rest renamed to data-rest-complete met 'git mv en git commit' 
/ en we kunnen ze beide als gradle project import in eclipse,

/ 13	. 

/ MORGEN check tags uit in gs-accessing-data-jpa of -rest

/ 7	. 

/ SAMENVATTING DATA REST DATA JPA

/ project data-rest-complete

$ vi PersonRepository.java

@RepositoryRestResource
public interface PersonRepository extends PagingAndSortingRepository<Person, Long> {
	List<Person> findByLastName( @Param("name")String n);
}

/ Omdat we geen path="people" in @RepositoryRestResource(path="people"), moeten we persons geven in de rest calls,

/ we hoeven voor de rest calls hieronder  @Param("name") hoeven te geven in findByLastName( @Param("name")String n), omdat we deze functie hier niet use, maar wel als je 
C:\Users\ervelden\eclipse\workspace-java-oxygen>curl -X GET http://localhost:8080/reservations/search/findByName?name=Foo


C:\Users\ervelden\eclipse\workspace-java-oxygen>curl -X GET http://localhost:8080
{
  "_links" : {
    "persons" : {
      "href" : "http://localhost:8080/persons{?page,size,sort}",
      "templated" : true
    },
    "profile" : {
      "href" : "http://localhost:8080/profile"
    }
  }
}
C:\Users\ervelden\eclipse\workspace-java-oxygen>curl -X GET http://localhost:8080/persons
{
  "_embedded" : {
    "persons" : [ ]
  },
  "_links" : {
    "self" : {
      "href" : "http://localhost:8080/persons{?page,size,sort}",
      "templated" : true
    },
    "profile" : {
      "href" : "http://localhost:8080/profile/persons"
    },
    "search" : {
      "href" : "http://localhost:8080/persons/search"
    }
  },
  "page" : {
    "size" : 20,
    "totalElements" : 0,
    "totalPages" : 0,
    "number" : 0
  }
}

C:\Users\ervelden\eclipse\workspace-java-oxygen>curl -X POST -H "Content-Type:application/json" -d "{  \"firstName\" : \"Frodo\",  \"lastName\" : \"Baggins\" }" http://localhost:8080/persons
{
  "firstName" : "Frodo",
  "lastName" : "Baggins",
  "_links" : {
    "self" : {
      "href" : "http://localhost:8080/persons/1"
    },
    "person" : {
      "href" : "http://localhost:8080/persons/1"
    }
  }
}
C:\Users\ervelden\eclipse\workspace-java-oxygen>curl -i -X PATCH -H "Content-Type:application/json" -d "{  \"firstName\" : \"Foo\"  }" http://localhost:8080/persons/1
HTTP/1.1 200
Content-Type: application/hal+json;charset=UTF-8
Transfer-Encoding: chunked
Date: Wed, 16 Aug 2017 06:55:33 GMT

{
  "firstName" : "Foo",
  "lastName" : "Baggins",
  "_links" : {
    "self" : {
      "href" : "http://localhost:8080/persons/1"
    },
    "person" : {
      "href" : "http://localhost:8080/persons/1"
    }
  }
}

/ 7	. 

/ In data-jpa-complete hebben we ook een repository, maar is geen @RepositoryRestResource op, 
/ Maar dat is net zo als in joshlongvideo, waar we een jpa repository hebben, en daar bovenop een rest controller, 

@RestController
class ReservationController{
	
	@RequestMapping("/reservations")
	public Collection<Reservation>reservations(){
		return this.reservationRepository.findAll();
	}
	@Autowired
	private ReservationRepository reservationRepository;
		
}

interface ReservationRepository extends JpaRepository<Reservation, Long>{
	Collection<Reservation>findByName(String name);
}
/ omdat we nu alleen kunnen: 
curl -X GET http://localhost:8080/reservations
[{"id":1,"name":"Foo"},{"id":2,"name":"Bar"},{"id":3,"name":"Baz"},{"id":4,"name":"Gee"},{"id":5,"name":"Hee"}]
/ heeft het geen zin om @Param("name") toe te voegen bij het arg van findByName, want die gebruiken we helemaal niet nu, straks wel,

/ STRAKS HIER 




		




	





/ 13	. 

/ Maak de rest endpoint http://localhost:8080/reservations/search/findByName?name=...
/ TODO



/ dit kunnen we samennemen tot 

@RepositoryRestResource
interface ReservationRepository extends JpaRepository<Reservation, Long>{
	Collection<Reservation>findByName(@Param("name")String name);
}

/ we hebben ook @Param("name") toegevoegd, dit is voor 

C:\Users\ervelden\eclipse\workspace-java-oxygen>curl -X GET http://localhost:8080/reservations/search/findByName?name=Fo
{
  "_embedded" : {
    "reservations" : [ {
      "name" : "Foo",
      "_links" : {
        "self" : {
          "href" : "http://localhost:8080/reservations/1"
        },
        "reservation" : {
          "href" : "http://localhost:8080/reservations/1"
        }
      }
    } ]
  },
  "_links" : {
    "self" : {
      "href" : "http://localhost:8080/reservations/search/findByName?name=Foo"
    }
  }
}


/ Einde SAMENVATTING DATA REST DATA JPA

/ 7	. 

/ rest 

/ Lees,
https://spring.io/guides/tutorials/bookmarks/

/ we doen in eclipse,
$ git clone https://spring.io/guides/tutorials/bookmarks/


C:\Users\ervelden\eclipse\workspace-java-oxygen>dir tut-bookmarks
16-08-2017  12:50               273 .gitignore
16-08-2017  12:50               242 .travis.yml
16-08-2017  12:50    <DIR>          hateoas
16-08-2017  12:50               721 LICENSE.code.txt
16-08-2017  12:50               105 LICENSE.writing.txt
16-08-2017  12:50    <DIR>          model
16-08-2017  12:50             1.466 pom.xml
16-08-2017  12:50            47.955 README.adoc
16-08-2017  12:50    <DIR>          rest
16-08-2017  12:50    <DIR>          security
16-08-2017  12:50    <DIR>          snippets
              
/ tut-bookmarks is een maven proj. 
/ we import deze in eclipse, we zien de projects,
tut-bookmarks
hateos
model
rest
security
snippets

/ In model zijn def
Account
AccountRepository
Bookmark
BookmarkRepository




/ 7	. 

/ zelf data-rest , spring boot , gradle

/ lees Walls boek, spring boot, 

/ we zien in spring.io's gs-accessing-data-jpa:
dependencies {
    compile("org.springframework.boot:spring-boot-starter-data-rest")
    compile("org.springframework.boot:spring-boot-starter-data-jpa")
    compile("com.h2database:h2")
    testCompile("org.springframework.boot:spring-boot-starter-test")
}

/ we zien in data-rest van spring.io, 

/ Lees, 
https://docs.spring.io/spring-boot/docs/current/reference/html/cli-using-the-cli.html

/ geef bijvoorbeeld
$ spring help init

$ spring --version
Spring CLI v1.5.6.RELEASE

/ de spring boot app heeft dan ook deze versie, 

/ we willen een spring-boot application maken met spring, 

C:\Users\ervelden\eclipse\workspace-java-oxygen>mkdir my-data-rest
C:\Users\ervelden\eclipse\workspace-java-oxygen>cd my-data-rest
C:\Users\ervelden\eclipse\workspace-java-oxygen\my-data-rest> spring init  --dependencies data-rest,data-jpa,h2 --build gradle --extract
Using service at https://start.spring.io
Project extracted to 'C:\Users\ervelden\eclipse\workspace-java-oxygen\my-data-rest'

/ je kunt ook --artifactId my-data-rest, als je niet --extract doet, er onstaat my-data-rest.zip

/ we zien in build.gradle,

dependencies {
	compile('org.springframework.boot:spring-boot-starter-data-jpa')
	compile('org.springframework.boot:spring-boot-starter-data-rest')
	runtime('com.h2database:h2')
	testCompile('org.springframework.boot:spring-boot-starter-test')
}

/ we import dit gradle project in eclipse, en maken er een git project van,

/ 13. 

$ vi Application.java

package my.first;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class Application {

	public static void main(String[] args) {
		SpringApplication.run(Application.class, args);                // !
	}
}

$ vi Person.java

package my.first;

import javax.persistence.Entity;
import javax.persistence.GeneratedValue;
import javax.persistence.GenerationType;
import javax.persistence.Id;

@Entity
public class Person {
	
	@Id
	@GeneratedValue(strategy=GenerationType.AUTO)
	private Long id;
	
	private String firstName;
	private String lastName;
	
	// getters and setters
	
$ vi PersonRepository.java

package my.first;

import java.util.List;

import org.springframework.data.repository.CrudRepository;
import org.springframework.data.repository.PagingAndSortingRepository;
import org.springframework.data.repository.query.Param;
import org.springframework.data.rest.core.annotation.RepositoryRestResource;

@RepositoryRestResource
public interface PersonRepository extends CrudRepository<Person, Long>{
	List<Person>findByLastName(@Param("name")String n);
}
/ we moeten persons geven in onze rest calls: curl -X GET http://localhost:8080/persons

/ of,
@RepositoryRestResource(path="people")
public interface PersonRepository extends CrudRepository<Person, Long>{
	List<Person>findByLastName(@Param("name")String n);
}
/ Dit doe je als je people wilt geven in de rest calls: curl -X GET http://localhost:8080/people

/ Dit is van spring.io,
@RepositoryRestResource(collectionResourceRel="people",path="people")
public interface PersonRepository extends PagingAndSortingRepository<Person, Long> {

/ wat is collectionResourceRel?
The rel value to use when generating links to the collection resource.
/ TODO

/ 13	.

/ Repository ipv CrudRepository 

/ als we,
public interface PersonRepository extends Repository<Person, Long>{
	List<Person>findByLastName(@Param("name")String n);
}
/ dan gaan een GET, POST goed, maar een PATCH niet:

C:\Users\ervelden\bin>curl -i -X PATCH -H "Content-Type:application/json" -d "{  \"firstName\" : \"Foo\",  }" http://localhost:8080/people/1
HTTP/1.1 500
Content-Type: application/hal+json;charset=UTF-8
Transfer-Encoding: chunked
Date: Tue, 15 Aug 2017 14:32:21 GMT
Connection: close

{"timestamp":1502807541845,"status":500,"error":"Internal Server Error","exception":"java.lang.IllegalStateException","message":"Repository doesn't have a find-one-method declared!","path":"/people/1"}

/ 13	. 

/ maar als we
public interface PersonRepository extends CrudRepository<Person, Long>{

/ dan gaat PATCH goed,
C:\Users\ervelden\bin>curl -i -X PATCH -H "Content-Type:application/json" -d "{  \"firstName\" : \"Foo\"  }" http://localhost:8080/people/1
HTTP/1.1 200
Content-Type: application/hal+json;charset=UTF-8
Transfer-Encoding: chunked
Date: Tue, 15 Aug 2017 14:39:37 GMT

{
  "firstName" : "Foo",
  "lastName" : "Baggins",
  "_links" : {
    "self" : {
      "href" : "http://localhost:8080/people/1"
    },
    "person" : {
      "href" : "http://localhost:8080/people/1"
    }
  }
}

/ POST werkt met localhost:8080/people
/ PUT en PATCH werkt met localhost:8080/people/1
/ GET werkt met localhost:8080, localhost:8080/people, localhost:8080/people/1, het ligt eraan wat je wilt zien,

/ 7	 

/ google: spring boot tutorial
https://docs.spring.io/spring-boot/docs/current/reference/html/getting-started-first-application.html
Next
https://docs.spring.io/spring-boot/docs/current/reference/html/getting-started-whats-next.html
/ hier staat een link naar samples,
https://github.com/spring-projects/spring-boot/tree/v1.5.6.RELEASE/spring-boot-samples


/ 7	. 

/ joshlongvideo

@RepositoryRestResource
interface ReservationRepository extends JpaRepository<Reservation, Long>{
	Collection<Reservation>findByName(@Param("name")String n);
}



/ op de command line in windows moeten we & escape met ^&

/ 13	. 

/ er zijn 5 reservations.
/ als we size=1 geven , zijn er 5 pages, 
/ als we size=2 geven, zijn er 3 pages, 2 pages met 2 reservations, 1 page met 1 reservation, 
/ page begint met 0	,



C:\Users\ervelden\eclipse\workspace-java-oxygen>curl -X GET http://localhost:8080/reservations?page=3^&size=1
{
  "_embedded" : {
    "reservations" : [ {
      "name" : "Gee",
      "_links" : {
        "self" : {
          "href" : "http://localhost:8080/reservations/4"
        },
        "reservation" : {
          "href" : "http://localhost:8080/reservations/4"
        }
      }
    } ]
  },
  "_links" : {
    "first" : {
      "href" : "http://localhost:8080/reservations?page=0&size=1"
    },
    "prev" : {
      "href" : "http://localhost:8080/reservations?page=2&size=1"
    },
    "self" : {
      "href" : "http://localhost:8080/reservations{&sort}",
      "templated" : true
    },
    "next" : {
      "href" : "http://localhost:8080/reservations?page=4&size=1"
    },
    "last" : {
      "href" : "http://localhost:8080/reservations?page=4&size=1"
    },
    "profile" : {
      "href" : "http://localhost:8080/profile/reservations"
    },
    "search" : {
      "href" : "http://localhost:8080/reservations/search"
    }
  },
  "page" : {
    "size" : 1,
    "totalElements" : 5,
    "totalPages" : 5,
    "number" : 3
  }
}

C:\Users\ervelden\eclipse\workspace-java-oxygen>curl -X GET http://localhost:8080/reservations?page=0^&size2
{
  "_embedded" : {
    "reservations" : [ {
      "name" : "Foo",
      "_links" : {
        "self" : {
          "href" : "http://localhost:8080/reservations/1"
        },
        "reservation" : {
          "href" : "http://localhost:8080/reservations/1"
        }
      }
    }, {
      "name" : "Bar",
      "_links" : {
        "self" : {
          "href" : "http://localhost:8080/reservations/2"
        },
        "reservation" : {
          "href" : "http://localhost:8080/reservations/2"
        }
      }
    }, {
      "name" : "Baz",
      "_links" : {
        "self" : {
          "href" : "http://localhost:8080/reservations/3"
        },
        "reservation" : {
          "href" : "http://localhost:8080/reservations/3"
        }
      }
    }, {
      "name" : "Gee",
      "_links" : {
        "self" : {
          "href" : "http://localhost:8080/reservations/4"
        },
        "reservation" : {
          "href" : "http://localhost:8080/reservations/4"
        }
      }
    }, {
      "name" : "Hee",
      "_links" : {
        "self" : {
          "href" : "http://localhost:8080/reservations/5"
        },
        "reservation" : {
          "href" : "http://localhost:8080/reservations/5"
        }
      }
    } ]
  },
  "_links" : {
    "self" : {
      "href" : "http://localhost:8080/reservations{?page,size,sort}",
      "templated" : true
    },
    "profile" : {
      "href" : "http://localhost:8080/profile/reservations"
    },
    "search" : {
      "href" : "http://localhost:8080/reservations/search"
    }
  },
  "page" : {
    "size" : 20,
    "totalElements" : 5,
    "totalPages" : 1,
    "number" : 0
  }
}
C:\Users\ervelden\eclipse\workspace-java-oxygen>curl -X GET http://localhost:8080/reservations?page=0^&size=2
{
  "_embedded" : {
    "reservations" : [ {
      "name" : "Foo",
      "_links" : {
        "self" : {
          "href" : "http://localhost:8080/reservations/1"
        },
        "reservation" : {
          "href" : "http://localhost:8080/reservations/1"
        }
      }
    }, {
      "name" : "Bar",
      "_links" : {
        "self" : {
          "href" : "http://localhost:8080/reservations/2"
        },
        "reservation" : {
          "href" : "http://localhost:8080/reservations/2"
        }
      }
    } ]
  },
  "_links" : {
    "first" : {
      "href" : "http://localhost:8080/reservations?page=0&size=2"
    },
    "self" : {
      "href" : "http://localhost:8080/reservations{&sort}",
      "templated" : true
    },
    "next" : {
      "href" : "http://localhost:8080/reservations?page=1&size=2"
    },
    "last" : {
      "href" : "http://localhost:8080/reservations?page=2&size=2"
    },
    "profile" : {
      "href" : "http://localhost:8080/profile/reservations"
    },
    "search" : {
      "href" : "http://localhost:8080/reservations/search"
    }
  },
  "page" : {
    "size" : 2,
    "totalElements" : 5,
    "totalPages" : 3,
    "number" : 0
  }
}
/ als size=2, zijn er 3 pages, 
/ als size=1, zijn er 5 pages,

/ 13	.

/ omdat we een find method hebben in de repository, is er een /search URL	,

C:\Users\ervelden\eclipse\workspace-java-oxygen>curl -X GET http://localhost:8080/reservations/search
{
  "_links" : {
    "findByName" : {
      "href" : "http://localhost:8080/reservations/search/findByName{?name}",
      "templated" : true
    },
    "self" : {
      "href" : "http://localhost:8080/reservations/search"
    }
  }
}
C:\Users\ervelden\eclipse\workspace-java-oxygen>curl -X GET http://localhost:8080/reservations/search/findByName?name=Foo
{
  "_embedded" : {
    "reservations" : [ {
      "name" : "Foo",
      "_links" : {
        "self" : {
          "href" : "http://localhost:8080/reservations/1"
        },
        "reservation" : {
          "href" : "http://localhost:8080/reservations/1"
        }
      }
    } ]
  },
  "_links" : {
    "self" : {
      "href" : "http://localhost:8080/reservations/search/findByName?name=Foo"
    }
  }
}
C:\Users\ervelden\eclipse\workspace-java-oxygen>curl -X GET http://localhost:8080/reservations/search/findByName?name=Foo
{
  "_embedded" : {
    "reservations" : [ {
      "name" : "Foo",
      "_links" : {
        "self" : {
          "href" : "http://localhost:8080/reservations/1"
        },
        "reservation" : {
          "href" : "http://localhost:8080/reservations/1"
        }
      }
    } ]
  },
  "_links" : {
    "self" : {
      "href" : "http://localhost:8080/reservations/search/findByName?name=Foo"
    }
  }
}

/ 13	. 

/ extra item

/ HAL is implementation of HATEOS

import java.util.Arrays;
import java.util.Collection;

import javax.persistence.Entity;
import javax.persistence.GeneratedValue;
import javax.persistence.Id;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.CommandLineRunner;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.context.annotation.Bean;
import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.data.repository.query.Param;
import org.springframework.data.rest.core.annotation.RepositoryRestResource;
import org.springframework.data.rest.webmvc.RepositoryRestController;
import org.springframework.hateoas.Link;
import org.springframework.hateoas.Resource;
import org.springframework.hateoas.ResourceProcessor;
import org.springframework.stereotype.Component;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;


@Component
class ReservationResourceProcessor implements ResourceProcessor<Resource<Reservation>>{
	@Override
	public Resource<Reservation> process(Resource<Reservation> resource) {
		resource.add((new Link("http://s3.com/imgs"+resource.getContent().getId()+".jpg", "profile-photo")));
		return resource;
	}
}

@RepositoryRestResource
interface ReservationRepository extends JpaRepository<Reservation, Long>{
	Collection<Reservation>findByName(@Param("name")String n);
}

C:\Users\ervelden\eclipse\workspace-java-oxygen>curl -X GET http://localhost:8080/reservations/search/findByName?name=Foo
{
  "_embedded" : {
    "reservations" : [ {
      "name" : "Foo",
      "_links" : {
        "self" : {
          "href" : "http://localhost:8080/reservations/1"
        },
        "reservation" : {
          "href" : "http://localhost:8080/reservations/1"
        }
      }
    } ]
  },
  "_links" : {
    "self" : {
      "href" : "http://localhost:8080/reservations/search/findByName?name=Foo"
    }
  }
}
C:\Users\ervelden\eclipse\workspace-java-oxygen>curl -X GET http://localhost:8080/reservations/search/findByName?name=Foo
{
  "_embedded" : {
    "reservations" : [ {
      "name" : "Foo",
      "_links" : {
        "self" : {
          "href" : "http://localhost:8080/reservations/1"
        },
        "reservation" : {
          "href" : "http://localhost:8080/reservations/1"
        },
        "profile-photo" : {                                                // !
          "href" : "http://s3.com/imgs1.jpg"
        }
      }
    } ]
  },
  "_links" : {
    "self" : {
      "href" : "http://localhost:8080/reservations/search/findByName?name=Foo"
    }
  }
}

/ wat doen de keys self, reservation, profile-photo ?
/ TODO

/ 13	. 

/ mvc controller,




/ 7	. 

/ REST 

/ 13	. 

/ we kunnen, 

class ReservationController{

	@RequestMapping("/reservations")
/ of,
	@RequestMapping(value="/reservations")
/ of	,
	@RequestMapping(method=RequestMethod.GET,value="/reservations")
	public Collection<Reservation>reservations(){
	
/ 13	.

/ we kunnen ook de @RequestMapping op de class, maar de methods moeten OOK altijd een @RequestMapping hebben:

@RestController
@RequestMapping("/reservations")
class ReservationController{
	
	@RequestMapping
	public Collection<Reservation>reservations(){
	
/ GET is WH de default,

/ 13	.

/ request parameter, dus met ?

/ in joshlongvideo,

$ vi FirstspringbootApplication.java

@RestController
@RequestMapping("/reservations")
class ReservationController{
	
	@RequestMapping
	public Collection<Reservation>reservations(){
		return this.reservationRepository.findAll();
	}
	@RequestMapping("/findById")
	public Reservation reservation(@RequestParam("id")Long id) {
		return reservationRepository.findOne(id);
	}

interface ReservationRepository extends JpaRepository<Reservation, Long>{
	Collection<Reservation>findByName(String n);
}
	

C:\Users\ervelden\eclipse\workspace-java-oxygen>curl -X GET localhost:8080/reservations
[{"id":1,"name":"Foo"},{"id":2,"name":"Bar"},{"id":3,"name":"Baz"},{"id":4,"name":"Gee"},{"id":5,"name":"Hee"}]
C:\Users\ervelden\eclipse\workspace-java-oxygen>curl -X GET localhost:8080/reservations?id=1
[{"id":1,"name":"Foo"},{"id":2,"name":"Bar"},{"id":3,"name":"Baz"},{"id":4,"name":"Gee"},{"id":5,"name":"Hee"}]

C:\Users\ervelden\eclipse\workspace-java-oxygen>curl -X GET localhost:8080/reservations/findById?id=1
{"id":1,"name":"Foo"}
C:\Users\ervelden\eclipse\workspace-java-oxygen>curl -X GET localhost:8080/reservations/findById?id=2
{"id":2,"name":"Bar"}

/ we kunnen achter /reservations ook ?id=1 geven, maar dat heeft geen effect,

/ 1313	. 

/ we kunnen ook een default geven, 

	@RequestMapping("/findById")
	public Reservation reservation(@RequestParam(value="id",defaultValue="2")Long id) {
		return reservationRepository.findOne(id);
	}
	
/ we moeten value= schrijven, @RequestParam("id",defaultValue="2") is ERR,
	
C:\Users\ervelden\eclipse\workspace-java-oxygen>curl -X GET localhost:8080/reservations/findById?id=3
{"id":3,"name":"Baz"}
C:\Users\ervelden\eclipse\workspace-java-oxygen>curl -X GET localhost:8080/reservations/findById
{"id":2,"name":"Bar"}


/ 13	.

/ wat we zien is WH json. 
/ Stel we willen xml,

/ google: spring rest xml
/ Lees,
http://howtodoinjava.com/spring/spring-restful/spring-rest-hello-world-xml-example/
https://spring.io/guides/gs/consuming-rest-xml-android/

/ Lees,
https://www.javainterviewpoint.com/spring-rest-hello-world-example/                     <-
https://askubuntu.com/questions/299870/http-post-and-get-using-curl-in-linux            <-


/ we moeten extra annotaties op de entity, 

$ vi FirstspringbootApplication.java

@RestController
@RequestMapping("/reservations")
class ReservationController{
	
	@RequestMapping(value="/findById2", method=RequestMethod.GET,produces="application/xml")
	public Reservation reservation2(@RequestParam(value="id",defaultValue="2")Long id) {
		return reservationRepository.findOne(id);
	}
	...
}





@Entity
@XmlRootElement                                   // <-
@XmlAccessorType(XmlAccessType.FIELD)             // <-
class Reservation{
	@Id @GeneratedValue @XmlElement               // <-
	private Long id;
	
	@XmlElement                                   // <-
	private String name;

	public String getName() {
		return name;
	}
	public void setName(String name) {
		this.name=name;
	}

	@Override
	public String toString() {
		return "Reservation{id="+id+",name="+name+"}";
	}
	public Reservation() { // for JPA TODO
	}
	public Reservation(String name) {
		this.name=name;
	}
	public Long getId() {
		return id;
	}
	public void setId(Long id) {
		this.id=id;
	}
}

/ produces="application/xml" is een restrictie; als we hem NIET, dan kunnen we curl -H "Accept:application/xml", maar ook -H "Accept:application/json", als we hem WEL, dan kunnen we ALLEEN -H "Accept:application/xml"

/ method=RequestMethod.GET ook een restrictie, see beneden bij post,

/ 1313	 .

/ WEL produces="application/xml"
/ we zien dat -H "Accept:application/json" ERR geeft,

C:\Users\ervelden\eclipse\workspace-java-oxygen>curl -i -X GET -H "Accept:application/xml"  http://localhost:8080/reservations/findById2?id=3
HTTP/1.1 200
Content-Type: application/xml
Transfer-Encoding: chunked
Date: Thu, 17 Aug 2017 07:36:34 GMT

<?xml version="1.0" encoding="UTF-8" standalone="yes"?><reservation><id>3</id><name>Baz</name></reservation>


C:\Users\ervelden\eclipse\workspace-java-oxygen>curl -i -X GET -H "Accept:application/json"  http://localhost:8080/reservations/findById2?id=3
HTTP/1.1 406
Content-Type: application/json;charset=UTF-8
Transfer-Encoding: chunked
Date: Thu, 17 Aug 2017 07:36:44 GMT

{"timestamp":1502955404322,"status":406,"error":"Not Acceptable","exception":"org.springframework.web.HttpMediaTypeNotAcceptableException","message":"Could not find acceptable representation","path":"/reservations/findById2"}

/ 1313	. 

/ GEEN produces="application/xml"
/ we zien dat -H "Accept:application/json" OK is,

C:\Users\ervelden\eclipse\workspace-java-oxygen>curl -i -X GET -H "Accept:application/xml"  http://localhost:8080/reservations/findById2?id=3
HTTP/1.1 200
Content-Type: application/xml
Transfer-Encoding: chunked
Date: Thu, 17 Aug 2017 07:43:59 GMT

<?xml version="1.0" encoding="UTF-8" standalone="yes"?><reservation><id>3</id><name>Baz</name></reservation>


C:\Users\ervelden\eclipse\workspace-java-oxygen>curl -i -X GET -H "Accept:application/json"  http://localhost:8080/reservations/findById2?id=3
HTTP/1.1 200
Content-Type: application/json;charset=UTF-8
Transfer-Encoding: chunked
Date: Thu, 17 Aug 2017 07:44:07 GMT

{"id":3,"name":"Baz"}

/ 1313	. 

/ we rm /findById2 en rm produces="application/json" op /findById, 



/ 13	. 

/ post

$ vi FirstspringbootApplication.java
@RestController
@RequestMapping("/reservations")
class ReservationController{
	
	@RequestMapping(method=RequestMethod.POST,value="/postByName")
	public  Reservation save(@RequestBody Reservation reservation) {
		return reservationRepository.save(reservation);
	}
	...
}
	
interface ReservationRepository extends JpaRepository<Reservation, Long>{
	Collection<Reservation>findByName(String n);
}

@Entity
@XmlRootElement
@XmlAccessorType(XmlAccessType.FIELD)
class Reservation{
	@Id 
	@GeneratedValue 
	@XmlElement
	private Long id;
	
	@XmlElement
	private String name;

	public String getName() {
		return name;
	}
	public void setName(String name) {
		this.name=name;
	}

	@Override
	public String toString() {
		return "Reservation{id="+id+",name="+name+"}";
	}
	public Reservation() { // for JPA TODO
	}
	public Reservation(String name) {
		this.name=name;
	}
	public Long getId() {
		return id;
	}
	public void setId(Long id) {
		this.id=id;
	}
}

/ we kunnen WEL of NIET de restrictie method=RequestMethod.POST

/ 1313	.

/ WEL de restrictie method=RequestMethod.POST

C:\Users\ervelden\eclipse\workspace-java-oxygen>curl -i -X GET -H "Content-Type:application/json" -d "{ \"name\" : \"Foo\" }" http://localhost:8080/reservations/postByName
HTTP/1.1 405
Allow: POST
Content-Type: application/json;charset=UTF-8
Transfer-Encoding: chunked
Date: Thu, 17 Aug 2017 08:20:02 GMT

{"timestamp":1502958002463,"status":405,"error":"Method Not Allowed","exception":"org.springframework.web.HttpRequestMethodNotSupportedException","message":"Request method 'GET' not supported","path":"/reservations/postByName"}


C:\Users\ervelden\eclipse\workspace-java-oxygen>curl -i -X POST -H "Content-Type:application/json" -d "{ \"name\" : \"Foo\" }" http://localhost:8080/reservations/postByName
HTTP/1.1 200
Content-Type: application/json;charset=UTF-8
Transfer-Encoding: chunked
Date: Thu, 17 Aug 2017 08:20:13 GMT

{"id":6,"name":"Foo"}

C:\Users\ervelden\eclipse\workspace-java-oxygen>curl -i -X POST -H "Content-Type:application/json" -d "{ \"name\" : \"Foo\" }" http://localhost:8080/reservations/postByName
HTTP/1.1 200
Content-Type: application/json;charset=UTF-8
Transfer-Encoding: chunked
Date: Thu, 17 Aug 2017 08:21:22 GMT

{"id":7,"name":"Foo"}

/ 1313	. 

/ NIET restrictie method=RequestMethod.POST

C:\Users\ervelden\eclipse\workspace-java-oxygen>curl -i -X GET -H "Content-Type:application/json" -d "{ \"name\" : \"Foo\" }" http://localhost:8080/reservations/postByName
HTTP/1.1 200
Content-Type: application/json;charset=UTF-8
Transfer-Encoding: chunked
Date: Thu, 17 Aug 2017 08:23:23 GMT

{"id":6,"name":"Foo"}

C:\Users\ervelden\eclipse\workspace-java-oxygen>curl -i -X GET -H "Content-Type:application/json" -d "{ \"name\" : \"Foo\" }" http://localhost:8080/reservations/postByName
HTTP/1.1 200
Content-Type: application/json;charset=UTF-8
Transfer-Encoding: chunked
Date: Thu, 17 Aug 2017 08:23:28 GMT

{"id":7,"name":"Foo"}

/ 13	. 

/ niet meer met request params, maar met path variables

/ get

$ vi FirstspringbootApplication.java

@RestController
@RequestMapping("/reservations")
class ReservationController{

	@RequestMapping(value="/findWithPathVariableId/{id}")
	public Reservation reservation2(@PathVariable Long id) {
		return reservationRepository.findOne(id);
	}
	...
}

C:\Users\ervelden\eclipse\workspace-java-oxygen>curl -i -X GET -H "Accept:application/xml" http://localhost:8080/reservations/findWithPathVariableId/3
HTTP/1.1 200
Content-Type: application/xml
Transfer-Encoding: chunked
Date: Thu, 17 Aug 2017 09:11:10 GMT

<?xml version="1.0" encoding="UTF-8" standalone="yes"?><reservation><id>3</id><name>Baz</name></reservation>

C:\Users\ervelden\eclipse\workspace-java-oxygen>curl -i -X GET -H "Accept:application/json" http://localhost:8080/reservations/findWithPathVariableId/3
HTTP/1.1 200
Content-Type: application/json;charset=UTF-8
Transfer-Encoding: chunked
Date: Thu, 17 Aug 2017 09:11:18 GMT

{"id":3,"name":"Baz"}

/ 13	. 

/ path variables

/ post

/ Lees,
http://www.baeldung.com/spring-requestmapping

/ 1313	.

/ post 

/ path variables

@RestController
@RequestMapping("/reservations")
class ReservationController{
	@RequestMapping(value="/postWithPathVariableByName/{name}")
	public  Reservation save2(@PathVariable String name) {
		return reservationRepository.save(new Reservation(name));
	}
	...
}
C:\Users\ervelden\eclipse\workspace-java-oxygen>curl -i -X POST -H "Content-Type:application/json" http://localhost:8080/reservations/postWithPathVariableByName/Foo
HTTP/1.1 200
Content-Type: application/json;charset=UTF-8
Transfer-Encoding: chunked
Date: Thu, 17 Aug 2017 11:18:33 GMT

{"id":6,"name":"Foo"}

C:\Users\ervelden\eclipse\workspace-java-oxygen>curl -i -X POST -H "Content-Type:application/json" http://localhost:8080/reservations/postWithPathVariableByName/Foo
HTTP/1.1 200
Content-Type: application/json;charset=UTF-8
Transfer-Encoding: chunked
Date: Thu, 17 Aug 2017 11:18:36 GMT

{"id":7,"name":"Foo"}

/ 1313	.

/ Lees,
https://stackoverflow.com/questions/11938253/jpa-joincolumn-vs-mappedby

/ een restaurant heeft meerdere reserveringen	,

/ 131313.

class Restaurant{
	@OneToMany(mappedBy="restaurant")
	private <Reservation>reservations;

class Reservation{
	@ManyToOne
	private Restaurant restaurant;
	
/ de owner van de relationship is reservation, daar is de fk	,

/ 131313.

class Restaurant{
	@OneToMany
	@JoinColumn(name="restaurant")
	private <Reservation>reservations;

class Reservation{
	@ManyToOne
	private Restaurant restaurant;

/ Nu is de fk's in restaurant en is restaurant de owner van de relationship.
/ TODO Maak het,

/ 1313	. 

/ WH met @RequestBody convert van request parameters naar een entity, 
/ Bestaat zoiets ook voor path variables? Nu maken we een new Reservation met de path variables als ctor args,
/ TODO

/ we maken met de path variables met new een nieuw restaurant, en laat de request params naar een reservation convert, 
/ we moeten wel @ManyToOne(cascade=CascadeType.ALL) set op de restaurant fk in de reservation, anders ERR dat de restaurant nog transient is als de reservation wordt saved	,

/ we maken,

$ vi FirstspringbootApplication.java

@SpringBootApplication
public class FirstspringbootApplication {

	public static void main(String[] args) {
		Arrays.asList(args).forEach(System.out::println);
		SpringApplication.run(FirstspringbootApplication.class, args);
	}
	
	@Bean CommandLineRunner runner(ReservationRepository rr,RestaurantRepository rar) {
		return args ->{
			Arrays.asList("Foo,Bar,Baz,Gee,Hee".split(","))
				.forEach(n->rr.save(new Reservation(n)));
				
			Arrays.asList("Roo,See,Tuu".split(","))                      // <-
			.forEach(n->rar.save(new Restaurant(n)));
			
			rr.findAll().forEach(System.out::println);
			rr.findByName("Foo").forEach(System.out::println);
		};
	}
}
	
@RestController
@RequestMapping("/reservations")
class ReservationController{
	
	@RequestMapping(value="/postWithPathVariableByName/{name}")
	public  Reservation save2(@PathVariable String name,@RequestBody Restaurant restaurant) {
		return reservationRepository.save(new Reservation(name, restaurant));
	}
	
	private ReservationRepository reservationRepository;
	public ReservationRepository getReservationRepository() {
		return reservationRepository;
	}
	@Autowired
	public void setReservationRepository(ReservationRepository reservationRepository) {
		this.reservationRepository = reservationRepository;
	}	
}



interface ReservationRepository extends JpaRepository<Reservation, Long>{
	Collection<Reservation>findByName(String n);
}

interface RestaurantRepository extends JpaRepository<Restaurant, Long>{
	
}

@Entity
class Restaurant{
	@Id
	@GeneratedValue
	private Long id;
	
	private String name;
	
	@OneToMany(mappedBy="restaurant")
	private List<Reservation> reservations;
	
	public Restaurant() {
		// TODO Auto-generated constructor stub
	}
	public Restaurant(String name) {
		this.name=name;
	}

	public Long getId() {
		return id;
	}

	public void setId(Long id) {
		this.id = id;
	}

	public String getName() {
		return name;
	}

	public void setName(String name) {
		this.name = name;
	}
	public List<Reservation> getReservations() {
		return reservations;
	}
	public void setReservations(List<Reservation> reservations) {
		this.reservations = reservations;
	}
	
	
}
@Entity
@XmlRootElement
@XmlAccessorType(XmlAccessType.FIELD)
class Reservation{
	@Id 
	@GeneratedValue 
	@XmlElement
	private Long id;
	
	@XmlElement
	private String name;
	
	@ManyToOne(cascade=CascadeType.ALL)                         // <-
	private Restaurant restaurant;

	public String getName() {
		return name;
	}
	public void setName(String name) {
		this.name=name;
	}

	@Override
	public String toString() {
		return "Reservation{id="+id+",name="+name+"}";
	}
	public Reservation() { // for JPA TODO
	}
	public Reservation(String name) {
		this.name=name;
	}
	public Reservation(String name,Restaurant restaurant) {
		this.name=name;
		this.restaurant=restaurant;
	}
	public Long getId() {
		return id;
	}
	public void setId(Long id) {
		this.id=id;
	}
	public Restaurant getRestaurant() {
		return restaurant;
	}
	public void setRestaurant(Restaurant restaurant) {
		this.restaurant = restaurant;
	}
}

C:\Users\ervelden\eclipse\workspace-java-oxygen>curl -i -X POST -H "Content-Type:application/json" -d "{ \"name\":\"Roo\"}" http://localhost:8080/reservations/postWithPathVariableByName/Foo
HTTP/1.1 200
Content-Type: application/json;charset=UTF-8
Transfer-Encoding: chunked
Date: Thu, 17 Aug 2017 12:58:22 GMT

{"id":6,"name":"Foo","restaurant":{"id":4,"name":"Roo","reservations":null}}

/ nog een keer deze call,
{"id":7,"name":"Foo","restaurant":{"id":5,"name":"Roo","reservations":null}}

/ 131313	 .

/ als we NIET cascade=CascadeType.ALL, dan ERR,{"timestamp":1502974283271,"status":500,"error":"Internal Server Error","exception":"org.springframework.dao.InvalidDataAccessApiUsageException","message":"org.hibernate.TransientPropertyValueException: object references an unsaved transient instance - save the transient instance before flushing : my.own.firstspringboot.Reservation.restaurant -> my.own.firstspringboot.Restaurant; nested exception is java.lang.IllegalStateException: org.hibernate.TransientPropertyValueException: object references an unsaved transient instance - save the transient instance before flushing : my.own.firstspringboot.Reservation.restaurant -> my.own.firstspringboot.Restaurant","path":"/reservations/postWithPathVariableByName/Foo"}

/ MORGENOCHTEND
/ 13	.

/ ERRs,

C:\Users\ervelden\eclipse\workspace-java-oxygen>curl -i -X POST -H "Content-Type:application/json" http://localhost:8080/reservations/postWithPathVariableByName/Foo
HTTP/1.1 400
Content-Type: application/json;charset=UTF-8
Transfer-Encoding: chunked
Date: Thu, 17 Aug 2017 10:39:54 GMT
Connection: close

{"timestamp":1502966394518,"status":400,"error":"Bad Request","exception":"org.springframework.web.method.annotation.MethodArgumentTypeMismatchException","message":"Failed to convert value of type 'java.lang.String' to required type 'my.own.firstspringboot.Reservation'; nested exception is org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [java.lang.Long] for value 'Foo'; nested exception is java.lang.NumberFormatException: For input string: \"Foo\"","path":"/reservations/postWithPathVariableByName/Foo"}
C:\Users\ervelden\eclipse\workspace-java-oxygen>


C:\Users\ervelden\eclipse\workspace-java-oxygen>curl -i -X POST -H "Content-Type:application/json" http://localhost:8080/reservations/postWithPathVariableByName/8/Foo

{"timestamp":1502968160342,"status":400,"error":"Bad Request","exception":"org.springframework.http.converter.HttpMessageNotReadableException","message":"Required request body is missing: public my.own.firstspringboot.Reservation my.own.firstspringboot.ReservationController.save2(java.lang.Long,java.lang.String,my.own.firstspringboot.Reservation)","path":"/reservations/postWithPathVariableByName/9/Foo"}

/ 7	.

/ we hebben FirstspringbootApplication.java uitgebreid in project joshlongvideo . 
/ we maken project joshlongvideoext, met daarin de uitgebreide FirstspringbootApplication.java, en herstellen in joshlongvideo FirstspringbootApplication.java zoals de video is,

C:\Users\ervelden\eclipse\workspace-java-oxygen\joshlongvideoext>spring init --dependencies data-jpa,web,data-rest,h2 --build gradle --extract
Using service at https://start.spring.io

/ we import het gradle project joshlongvideoext in eclipse en copy FirstspringbootApplication.java en FirstspringbootApplicationTests.java over vanuit joshlongvideoext.

/ 13	. 

/ Geen field injection: hij bedoeld dat in een unit test annotaties niet gelden, niets doen,
/ Als je de annotatie op een setter set, werkt hij in de appl, en in de test kun je doen:
	obj.set<Property>(new Mock())
/ Met field inj kan dit niet, 
/ Maar misschien toch wel met Mockito's @InjectMocks

/ google: java field injection unit test dies
https://stackoverflow.com/questions/34231426/unit-test-in-spring-injecting-a-dependency-into-a-component-under-test
http://olivergierke.de/2013/11/why-field-injection-is-evil/

/ 13	. 

/ als we @RepositoryRestResource set op de repository zien we metadata, 
/ Als we zelf een @RestController maken, met methods die find of save, geschikt voor GET en POST/PUT/PATCH, dan OK, maar geen metadata. 
/ TODO MORGEN welke methods worden called bij POST/PUT/PATCH

/ -X PATCH persons/1 : bij @RepositoryRestResource
/ TODO

http://localhost:8080/reservations/search/findByName?name=Foo: toch ook bij @RepositoryRestResource
de method heet zo, 
/ TODO
Als we in FirstspringbootApplication @RequestMapping nemen, dus weglaten: (value="/findById"), pakt hij dan ook de method name? 
/ TODO

/ 13	. 

/ thymeleaf

/ we zien in 
src/main/resources
	templates
	static
	application.properties

/ WH zijn dit spring boot directories,

/ als we een HTML file willen maken, start dan JEE eclipse, WH WTP 
/ TODO
http://help.eclipse.org/kepler/index.jsp?topic=%2Forg.eclipse.wst.webtools.doc.user%2Ftopics%2Ftjcrehtm.html

/ we hebben jee-oxygen geopend op workspace-java-oxygen.

/ In thymeleaf: ${...} , NIET $(...)

/ project joshlongvideo, 

$ vi FirstspringbootApplication.java

@RepositoryRestResource
interface ReservationRepository extends JpaRepository<Reservation, Long>{
	Collection<Reservation>findByName(@Param("name")String n);
}

@Component
class ReservationResourceProcessor implements ResourceProcessor<Resource<Reservation>>{
	@Override
	public Resource<Reservation> process(Resource<Reservation> resource) {
		resource.add((new Link("http://s3.com/imgs"+resource.getContent().getId()+".jpg", "profile-photo")));
		return resource;
	}
}

@Controller
class ReservationMvcController{
	@RequestMapping("/reservations.php")
	String reservations(Model model) {
		model.addAttribute("reservations", this.reservationRepository.findAll());
		return "reservations"; // src/main/resources/templates+$X+.html
	}
	@Autowired
	private ReservationRepository reservationRepository;
}

@Entity
@XmlRootElement
@XmlAccessorType(XmlAccessType.FIELD)
@Data
@NoArgsConstructor
@RequiredArgsConstructor
class Reservation{
	@Id 
	@GeneratedValue 
	@XmlElement
	private Long id;
	
	@XmlElement
	@NonNull
	private String name;
}

/ Geef
localhost:8080/reservations.php

/ Eerst gaven we localhost:8080/reservations


/ 13	. 

/ isomorphic templates: react based view from out the framework,
/ TODO
https://spring.io/blog/2016/03/15/springone2gx-2015-replay-isomorphic-templating-with-spring-boot-nashorn-and-react


/ 13	. 

/ actuator

$ vi src/main/resources/application.properties
management.security.enabled=false

/ Geef
localhost:8080/metrics
/ OK

/ we geven een aantal keer, 
http://localhost:8080/reservations
http://localhost:8080/reservations/1
http://localhost:8080/reservations/2
http://localhost:8080/reservations.php


/ we zien,
http://localhost:8080/metrics

counter.status.200.root: 14,									/ localhost:8080
counter.status.200.repository.id: 15,                           / localhost:8080/reservations/1 en localhost:8080/reservations/2
counter.status.200.metrics: 4,                                   / locahost:8080/metrics
counter.status.200.reservations.php: 9,                         / localhost:8080/reservations.php
counter.status.200.repository: 13                                   / locahost:8080/reservations

/ er is ook ,

http://localhost:8080/trace
...
{
timestamp: 1503397616189,
info: {
method: "GET",
path: "/reservations/2",
headers: {
request: {
host: "localhost:8080",
connection: "keep-alive",
upgrade-insecure-requests: "1",
user-agent: "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.90 Safari/537.36",
accept: "text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8",
accept-encoding: "gzip, deflate, br",
accept-language: "en-US,en;q=0.8",
cookie: "io=zEll7mwbcXZL3mAMAABX"
},
response: {
X-Application-Context: "application",
Content-Type: "application/hal+json;charset=UTF-8",
Transfer-Encoding: "chunked",
Date: "Tue, 22 Aug 2017 10:26:56 GMT",
status: "200"
}
},
timeTaken: "11"
}
},
/ dus localhost:8080/reservations/2 hebben we 11 keer GET,

/ er is ook,
localhost:8080/env

/ er is ook 
localhost:8080/beans

/ er is ook,
localhost:8080/dump

/ er is ook,
http://localhost:8080/mappings
/ we zien 
/dump
/env

/ we zien ook, maar die heeft helemaal geen mapping, 
/error
/ TODO

/ we zien ook,
{[/reservations.php]}: {
bean: "requestMappingHandlerMapping",
method: "java.lang.String my.own.firstspringboot.ReservationMvcController.reservations(org.springframework.ui.Model)"
},

/ we zien wel 
/reservations.php
maar NIET, 
/reservation
/ TODO

/ 1313	.
>"\Program Files\Java\jdk1.8.0_144\bin\jconsole.exe"
MBeans
org.springframework.boot
	endpoint
		HealthEndpoint
			Operations
				getData()  / click
status=UP
diskSpace={status=UP,total=...,free=...}
db={status=UP,database=H2,hello=1}
/ connection pool has a validation query, and the result of this validation query is 1, so it is 
select 1 from dual

/ 13	. 

/ remote shell 
/ TODO
/ is deprecated

/ 13	. 

/ provided in gradle is compileOnly	,

$ vi build.gradle
dependencies {
	compile('org.springframework.boot:spring-boot-starter-undertow')
	compileOnly('org.springframework.boot:spring-boot-starter-tomcat')
	
2017-08-22 13:01:09.981  INFO 15384 --- [           main] b.c.e.u.UndertowEmbeddedServletContainer : Undertow started on port(s) 8080 (http)

/ geef 
localhost:8080/reservations
/ OK









				
		















/ Einde REST


/ OPEN COMMANDS

C:\Users\ervelden\eclipse\workspace-java-oxygen>curl -i -X POST -H "Content-Type:application/json" -d "{ \"name\":\"Roo\"}" http://localhost:8080/reservations/postWithPathVariableByName/Foo

C:\Users\ervelden\eclipse\workspace-java-oxygen>spring init --dependencies jpa,jdbc,postgresql --build gradle --extract

C:\Users\ervelden\eclipse\workspace-java-oxygen\hibernate> java -classpath "\Program Files (x86)\H2\bin\h2-1.4.196.jar" org.h2.tools.Server -tcp

C:\Users\ervelden\hibernate\hibernate-tutorials>notepad++ basic\src\test\resources\hibernate.cfg.xml






/ Einde OPEN COMMANDS

/ OPEN IN CHROME


http://browserify.org/
https://www.youtube.com/watch?v=EveYfHKXvfc   / deep learning !
http://adrianmejia.com/blog/2016/08/12/Getting-started-with-Node-js-modules-require-exports-imports-npm-and-beyond/   / node exports !
https://spring.io/understanding/javascript-modules
https://www.youtube.com/watch?v=0Oazb7IWzbA           / -1/12 riemann zeta functie
https://www.youtube.com/watch?v=yG4FH60fhUE   / testing angular2 met jasmine en met karma
https://gumroad.com/d/cfd861d00eb812fc4fcab79768bd7da0  / ng-book wat ik kan download,
https://gumroad.com/purchases/8EDIWWAy97GrKdjLoLL8kw==/generate_invoice / ng-book invoicehttps://mail.google.com/mail/u/0/#inbox/15e011a740f5ec6f / email ng-book
http://blog.ng-book.com/
https://code.visualstudio.com/docs/editor/integrated-terminal
https://code.visualstudio.com/docs/getstarted/userinterface
https://code.visualstudio.com/docs/nodejs/angular-tutorial

https://docs.jboss.org/hibernate/orm/5.0/quickstart/html/#tutorial-native

https://www.w3schools.com/js/js_strict.asp
https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions
https://projectlombok.org/

http://infosecuritymagazine.nl/2017/04/13/eerste-nederlandse-cyberwerkplaats-opent-deuren-in-rotterdam/












/ Einde OPEN IN CHROME


/ LOMBOK

/ we download van
https://projectlombok.org/download

/ dubbel click, WH java -jar, en kies de eclipse waarin je lombok wilt install,
/ we zien 2 dingen, 

C:\Users\ervelden\eclipse\jbosstools-jee-oxygen\eclipse>dir
 Directory of C:\Users\ervelden\eclipse\jbosstools-jee-oxygen\eclipse
04-09-2017  11:27         1.440.303 lombok.jar

$ vi eclipse.ini
-javaagent:lombok.jar

/////////////////////////
/ we moeten niet alleen lombok install in eclipse (2 dingen hierboven), maar ook in een project's pom of gradle de dependency op lombok opnemen.

//////////////////////////////////////
/ Geef in build.gradle
compileOnly('org.projectlombok:lombok:1.16.18')
/ of in Spring boot project,
compileOnly('org.projectlombok:lombok')

/ we dubbel click op deze jar, en hij ziet 4 eclipses	, we kiezen alleen java-oxygen,

/ we lezen, dat als we een custom -vm parameter use, we moeten : 
-vmargs -javaagent:lombok.jar
/ TODO

/ 13	. 

/ Voor delombok moeten we de jdk-java use, op de command line, anders vindt hij tools.jar niet,

C:\Users\ervelden\eclipse\workspace-java-oxygen\lombok>"\Program Files"\Java\jdk1.8.0_144\bin\java -jar \Users\ervelden\lombok\lombok.jar delombok -p src\main\java\com\example\demo\DemoApplication.java

        @java.lang.Override
        @java.lang.SuppressWarnings("all")
        @javax.annotation.Generated("lombok")
        public java.lang.String toString() {
                return "User(id=" + this.getId() + ", name=" + this.getName() + ")";
        }

/ Doe
@Data
/ of,
@ToString
@EqualsAndHashCode
@Getter
@Setter

/ de ctors moet je wel doen , naast @Data,

@Data
@NoArgsConstructor
@RequiredArgsConstructor
class User{
	private Long id;
	@NonNull private String name;
}

/ We zien lombok's @NonNull, NIET @NotNull


/ 7	. 

/ we zijn in spring boot project lombok,
/ google: gradle how to see all dependencies
https://stackoverflow.com/questions/21645071/using-gradle-to-find-dependency-tree
/ we moeten geven, 

gradle dependencies

/ we zien in build.gradle,
lombok-1.16.18

/ kijk in console van eclipse,

Working Directory: C:\Users\ervelden\eclipse\workspace-java-oxygen\lombok
Gradle User Home: C:\Users\ervelden\.gradle
Gradle Distribution: Gradle wrapper from target build
Gradle Version: 3.5.1
Java Home: C:\Program Files\Java\jdk1.8.0_144
JVM Arguments: None
Program Arguments: None
Gradle Tasks: dependencies

:dependencies

------------------------------------------------------------
Root project
------------------------------------------------------------

apiElements - API elements for main. (n)
No dependencies

archives - Configuration for archive artifacts.
No dependencies

compile - Dependencies for source set 'main' (deprecated, use 'implementation ' instead).
\--- org.springframework.boot:spring-boot-starter: -> 1.5.6.RELEASE
     +--- org.springframework.boot:spring-boot:1.5.6.RELEASE
     |    +--- org.springframework:spring-core:4.3.10.RELEASE
     |    \--- org.springframework:spring-context:4.3.10.RELEASE
     |         +--- org.springframework:spring-aop:4.3.10.RELEASE
     |         |    +--- org.springframework:spring-beans:4.3.10.RELEASE
     |         |    |    \--- org.springframework:spring-core:4.3.10.RELEASE
     |         |    \--- org.springframework:spring-core:4.3.10.RELEASE
     |         +--- org.springframework:spring-beans:4.3.10.RELEASE (*)
     |         +--- org.springframework:spring-core:4.3.10.RELEASE
     |         \--- org.springframework:spring-expression:4.3.10.RELEASE
     |              \--- org.springframework:spring-core:4.3.10.RELEASE
     +--- org.springframework.boot:spring-boot-autoconfigure:1.5.6.RELEASE
     |    \--- org.springframework.boot:spring-boot:1.5.6.RELEASE (*)
     +--- org.springframework.boot:spring-boot-starter-logging:1.5.6.RELEASE
     |    +--- ch.qos.logback:logback-classic:1.1.11
     |    |    +--- ch.qos.logback:logback-core:1.1.11
     |    |    \--- org.slf4j:slf4j-api:1.7.22 -> 1.7.25
     |    +--- org.slf4j:jcl-over-slf4j:1.7.25
     |    |    \--- org.slf4j:slf4j-api:1.7.25
     |    +--- org.slf4j:jul-to-slf4j:1.7.25
     |    |    \--- org.slf4j:slf4j-api:1.7.25
     |    \--- org.slf4j:log4j-over-slf4j:1.7.25
     |         \--- org.slf4j:slf4j-api:1.7.25
     +--- org.springframework:spring-core:4.3.10.RELEASE
     \--- org.yaml:snakeyaml:1.17

compileClasspath - Compile classpath for source set 'main'.
+--- org.springframework.boot:spring-boot-starter: -> 1.5.6.RELEASE
|    +--- org.springframework.boot:spring-boot:1.5.6.RELEASE
|    |    +--- org.springframework:spring-core:4.3.10.RELEASE
|    |    \--- org.springframework:spring-context:4.3.10.RELEASE
|    |         +--- org.springframework:spring-aop:4.3.10.RELEASE
|    |         |    +--- org.springframework:spring-beans:4.3.10.RELEASE
|    |         |    |    \--- org.springframework:spring-core:4.3.10.RELEASE
|    |         |    \--- org.springframework:spring-core:4.3.10.RELEASE
|    |         +--- org.springframework:spring-beans:4.3.10.RELEASE (*)
|    |         +--- org.springframework:spring-core:4.3.10.RELEASE
|    |         \--- org.springframework:spring-expression:4.3.10.RELEASE
|    |              \--- org.springframework:spring-core:4.3.10.RELEASE
|    +--- org.springframework.boot:spring-boot-autoconfigure:1.5.6.RELEASE
|    |    \--- org.springframework.boot:spring-boot:1.5.6.RELEASE (*)
|    +--- org.springframework.boot:spring-boot-starter-logging:1.5.6.RELEASE
|    |    +--- ch.qos.logback:logback-classic:1.1.11
|    |    |    +--- ch.qos.logback:logback-core:1.1.11
|    |    |    \--- org.slf4j:slf4j-api:1.7.22 -> 1.7.25
|    |    +--- org.slf4j:jcl-over-slf4j:1.7.25
|    |    |    \--- org.slf4j:slf4j-api:1.7.25
|    |    +--- org.slf4j:jul-to-slf4j:1.7.25
|    |    |    \--- org.slf4j:slf4j-api:1.7.25
|    |    \--- org.slf4j:log4j-over-slf4j:1.7.25
|    |         \--- org.slf4j:slf4j-api:1.7.25
|    +--- org.springframework:spring-core:4.3.10.RELEASE
|    \--- org.yaml:snakeyaml:1.17
\--- org.projectlombok:lombok: -> 1.16.18

compileOnly - Compile only dependencies for source set 'main'.
\--- org.projectlombok:lombok: -> 1.16.18

default - Configuration for default artifacts.
\--- org.springframework.boot:spring-boot-starter: -> 1.5.6.RELEASE
     +--- org.springframework.boot:spring-boot:1.5.6.RELEASE
     |    +--- org.springframework:spring-core:4.3.10.RELEASE
     |    \--- org.springframework:spring-context:4.3.10.RELEASE
     |         +--- org.springframework:spring-aop:4.3.10.RELEASE
     |         |    +--- org.springframework:spring-beans:4.3.10.RELEASE
     |         |    |    \--- org.springframework:spring-core:4.3.10.RELEASE
     |         |    \--- org.springframework:spring-core:4.3.10.RELEASE
     |         +--- org.springframework:spring-beans:4.3.10.RELEASE (*)
     |         +--- org.springframework:spring-core:4.3.10.RELEASE
     |         \--- org.springframework:spring-expression:4.3.10.RELEASE
     |              \--- org.springframework:spring-core:4.3.10.RELEASE
     +--- org.springframework.boot:spring-boot-autoconfigure:1.5.6.RELEASE
     |    \--- org.springframework.boot:spring-boot:1.5.6.RELEASE (*)
     +--- org.springframework.boot:spring-boot-starter-logging:1.5.6.RELEASE
     |    +--- ch.qos.logback:logback-classic:1.1.11
     |    |    +--- ch.qos.logback:logback-core:1.1.11
     |    |    \--- org.slf4j:slf4j-api:1.7.22 -> 1.7.25
     |    +--- org.slf4j:jcl-over-slf4j:1.7.25
     |    |    \--- org.slf4j:slf4j-api:1.7.25
     |    +--- org.slf4j:jul-to-slf4j:1.7.25
     |    |    \--- org.slf4j:slf4j-api:1.7.25
     |    \--- org.slf4j:log4j-over-slf4j:1.7.25
     |         \--- org.slf4j:slf4j-api:1.7.25
     +--- org.springframework:spring-core:4.3.10.RELEASE
     \--- org.yaml:snakeyaml:1.17

implementation - Implementation only dependencies for source set 'main'. (n)
No dependencies

runtime - Runtime dependencies for source set 'main' (deprecated, use 'runtimeOnly ' instead).
\--- org.springframework.boot:spring-boot-starter: -> 1.5.6.RELEASE
     +--- org.springframework.boot:spring-boot:1.5.6.RELEASE
     |    +--- org.springframework:spring-core:4.3.10.RELEASE
     |    \--- org.springframework:spring-context:4.3.10.RELEASE
     |         +--- org.springframework:spring-aop:4.3.10.RELEASE
     |         |    +--- org.springframework:spring-beans:4.3.10.RELEASE
     |         |    |    \--- org.springframework:spring-core:4.3.10.RELEASE
     |         |    \--- org.springframework:spring-core:4.3.10.RELEASE
     |         +--- org.springframework:spring-beans:4.3.10.RELEASE (*)
     |         +--- org.springframework:spring-core:4.3.10.RELEASE
     |         \--- org.springframework:spring-expression:4.3.10.RELEASE
     |              \--- org.springframework:spring-core:4.3.10.RELEASE
     +--- org.springframework.boot:spring-boot-autoconfigure:1.5.6.RELEASE
     |    \--- org.springframework.boot:spring-boot:1.5.6.RELEASE (*)
     +--- org.springframework.boot:spring-boot-starter-logging:1.5.6.RELEASE
     |    +--- ch.qos.logback:logback-classic:1.1.11
     |    |    +--- ch.qos.logback:logback-core:1.1.11
     |    |    \--- org.slf4j:slf4j-api:1.7.22 -> 1.7.25
     |    +--- org.slf4j:jcl-over-slf4j:1.7.25
     |    |    \--- org.slf4j:slf4j-api:1.7.25
     |    +--- org.slf4j:jul-to-slf4j:1.7.25
     |    |    \--- org.slf4j:slf4j-api:1.7.25
     |    \--- org.slf4j:log4j-over-slf4j:1.7.25
     |         \--- org.slf4j:slf4j-api:1.7.25
     +--- org.springframework:spring-core:4.3.10.RELEASE
     \--- org.yaml:snakeyaml:1.17

runtimeClasspath - Runtime classpath of source set 'main'.
\--- org.springframework.boot:spring-boot-starter: -> 1.5.6.RELEASE
     +--- org.springframework.boot:spring-boot:1.5.6.RELEASE
     |    +--- org.springframework:spring-core:4.3.10.RELEASE
     |    \--- org.springframework:spring-context:4.3.10.RELEASE
     |         +--- org.springframework:spring-aop:4.3.10.RELEASE
     |         |    +--- org.springframework:spring-beans:4.3.10.RELEASE
     |         |    |    \--- org.springframework:spring-core:4.3.10.RELEASE
     |         |    \--- org.springframework:spring-core:4.3.10.RELEASE
     |         +--- org.springframework:spring-beans:4.3.10.RELEASE (*)
     |         +--- org.springframework:spring-core:4.3.10.RELEASE
     |         \--- org.springframework:spring-expression:4.3.10.RELEASE
     |              \--- org.springframework:spring-core:4.3.10.RELEASE
     +--- org.springframework.boot:spring-boot-autoconfigure:1.5.6.RELEASE
     |    \--- org.springframework.boot:spring-boot:1.5.6.RELEASE (*)
     +--- org.springframework.boot:spring-boot-starter-logging:1.5.6.RELEASE
     |    +--- ch.qos.logback:logback-classic:1.1.11
     |    |    +--- ch.qos.logback:logback-core:1.1.11
     |    |    \--- org.slf4j:slf4j-api:1.7.22 -> 1.7.25
     |    +--- org.slf4j:jcl-over-slf4j:1.7.25
     |    |    \--- org.slf4j:slf4j-api:1.7.25
     |    +--- org.slf4j:jul-to-slf4j:1.7.25
     |    |    \--- org.slf4j:slf4j-api:1.7.25
     |    \--- org.slf4j:log4j-over-slf4j:1.7.25
     |         \--- org.slf4j:slf4j-api:1.7.25
     +--- org.springframework:spring-core:4.3.10.RELEASE
     \--- org.yaml:snakeyaml:1.17

runtimeElements - Elements of runtime for main. (n)
No dependencies

runtimeOnly - Runtime only dependencies for source set 'main'. (n)
No dependencies

testCompile - Dependencies for source set 'test' (deprecated, use 'testImplementation ' instead).
+--- org.springframework.boot:spring-boot-starter: -> 1.5.6.RELEASE
|    +--- org.springframework.boot:spring-boot:1.5.6.RELEASE
|    |    +--- org.springframework:spring-core:4.3.10.RELEASE
|    |    \--- org.springframework:spring-context:4.3.10.RELEASE
|    |         +--- org.springframework:spring-aop:4.3.10.RELEASE
|    |         |    +--- org.springframework:spring-beans:4.3.10.RELEASE
|    |         |    |    \--- org.springframework:spring-core:4.3.10.RELEASE
|    |         |    \--- org.springframework:spring-core:4.3.10.RELEASE
|    |         +--- org.springframework:spring-beans:4.3.10.RELEASE (*)
|    |         +--- org.springframework:spring-core:4.3.10.RELEASE
|    |         \--- org.springframework:spring-expression:4.3.10.RELEASE
|    |              \--- org.springframework:spring-core:4.3.10.RELEASE
|    +--- org.springframework.boot:spring-boot-autoconfigure:1.5.6.RELEASE
|    |    \--- org.springframework.boot:spring-boot:1.5.6.RELEASE (*)
|    +--- org.springframework.boot:spring-boot-starter-logging:1.5.6.RELEASE
|    |    +--- ch.qos.logback:logback-classic:1.1.11
|    |    |    +--- ch.qos.logback:logback-core:1.1.11
|    |    |    \--- org.slf4j:slf4j-api:1.7.22 -> 1.7.25
|    |    +--- org.slf4j:jcl-over-slf4j:1.7.25
|    |    |    \--- org.slf4j:slf4j-api:1.7.25
|    |    +--- org.slf4j:jul-to-slf4j:1.7.25
|    |    |    \--- org.slf4j:slf4j-api:1.7.25
|    |    \--- org.slf4j:log4j-over-slf4j:1.7.25
|    |         \--- org.slf4j:slf4j-api:1.7.25
|    +--- org.springframework:spring-core:4.3.10.RELEASE
|    \--- org.yaml:snakeyaml:1.17
\--- org.springframework.boot:spring-boot-starter-test: -> 1.5.6.RELEASE
     +--- org.springframework.boot:spring-boot-test:1.5.6.RELEASE
     |    \--- org.springframework.boot:spring-boot:1.5.6.RELEASE (*)
     +--- org.springframework.boot:spring-boot-test-autoconfigure:1.5.6.RELEASE
     |    +--- org.springframework.boot:spring-boot-test:1.5.6.RELEASE (*)
     |    \--- org.springframework.boot:spring-boot-autoconfigure:1.5.6.RELEASE (*)
     +--- com.jayway.jsonpath:json-path:2.2.0
     |    +--- net.minidev:json-smart:2.2.1
     |    |    \--- net.minidev:accessors-smart:1.1
     |    |         \--- org.ow2.asm:asm:5.0.3
     |    \--- org.slf4j:slf4j-api:1.7.16 -> 1.7.25
     +--- junit:junit:4.12
     |    \--- org.hamcrest:hamcrest-core:1.3
     +--- org.assertj:assertj-core:2.6.0
     +--- org.mockito:mockito-core:1.10.19
     |    +--- org.hamcrest:hamcrest-core:1.1 -> 1.3
     |    \--- org.objenesis:objenesis:2.1
     +--- org.hamcrest:hamcrest-core:1.3
     +--- org.hamcrest:hamcrest-library:1.3
     |    \--- org.hamcrest:hamcrest-core:1.3
     +--- org.skyscreamer:jsonassert:1.4.0
     |    \--- com.vaadin.external.google:android-json:0.0.20131108.vaadin1
     +--- org.springframework:spring-core:4.3.10.RELEASE
     \--- org.springframework:spring-test:4.3.10.RELEASE
          \--- org.springframework:spring-core:4.3.10.RELEASE

testCompileClasspath - Compile classpath for source set 'test'.
+--- org.springframework.boot:spring-boot-starter: -> 1.5.6.RELEASE
|    +--- org.springframework.boot:spring-boot:1.5.6.RELEASE
|    |    +--- org.springframework:spring-core:4.3.10.RELEASE
|    |    \--- org.springframework:spring-context:4.3.10.RELEASE
|    |         +--- org.springframework:spring-aop:4.3.10.RELEASE
|    |         |    +--- org.springframework:spring-beans:4.3.10.RELEASE
|    |         |    |    \--- org.springframework:spring-core:4.3.10.RELEASE
|    |         |    \--- org.springframework:spring-core:4.3.10.RELEASE
|    |         +--- org.springframework:spring-beans:4.3.10.RELEASE (*)
|    |         +--- org.springframework:spring-core:4.3.10.RELEASE
|    |         \--- org.springframework:spring-expression:4.3.10.RELEASE
|    |              \--- org.springframework:spring-core:4.3.10.RELEASE
|    +--- org.springframework.boot:spring-boot-autoconfigure:1.5.6.RELEASE
|    |    \--- org.springframework.boot:spring-boot:1.5.6.RELEASE (*)
|    +--- org.springframework.boot:spring-boot-starter-logging:1.5.6.RELEASE
|    |    +--- ch.qos.logback:logback-classic:1.1.11
|    |    |    +--- ch.qos.logback:logback-core:1.1.11
|    |    |    \--- org.slf4j:slf4j-api:1.7.22 -> 1.7.25
|    |    +--- org.slf4j:jcl-over-slf4j:1.7.25
|    |    |    \--- org.slf4j:slf4j-api:1.7.25
|    |    +--- org.slf4j:jul-to-slf4j:1.7.25
|    |    |    \--- org.slf4j:slf4j-api:1.7.25
|    |    \--- org.slf4j:log4j-over-slf4j:1.7.25
|    |         \--- org.slf4j:slf4j-api:1.7.25
|    +--- org.springframework:spring-core:4.3.10.RELEASE
|    \--- org.yaml:snakeyaml:1.17
\--- org.springframework.boot:spring-boot-starter-test: -> 1.5.6.RELEASE
     +--- org.springframework.boot:spring-boot-test:1.5.6.RELEASE
     |    \--- org.springframework.boot:spring-boot:1.5.6.RELEASE (*)
     +--- org.springframework.boot:spring-boot-test-autoconfigure:1.5.6.RELEASE
     |    +--- org.springframework.boot:spring-boot-test:1.5.6.RELEASE (*)
     |    \--- org.springframework.boot:spring-boot-autoconfigure:1.5.6.RELEASE (*)
     +--- com.jayway.jsonpath:json-path:2.2.0
     |    +--- net.minidev:json-smart:2.2.1
     |    |    \--- net.minidev:accessors-smart:1.1
     |    |         \--- org.ow2.asm:asm:5.0.3
     |    \--- org.slf4j:slf4j-api:1.7.16 -> 1.7.25
     +--- junit:junit:4.12
     |    \--- org.hamcrest:hamcrest-core:1.3
     +--- org.assertj:assertj-core:2.6.0
     +--- org.mockito:mockito-core:1.10.19
     |    +--- org.hamcrest:hamcrest-core:1.1 -> 1.3
     |    \--- org.objenesis:objenesis:2.1
     +--- org.hamcrest:hamcrest-core:1.3
     +--- org.hamcrest:hamcrest-library:1.3
     |    \--- org.hamcrest:hamcrest-core:1.3
     +--- org.skyscreamer:jsonassert:1.4.0
     |    \--- com.vaadin.external.google:android-json:0.0.20131108.vaadin1
     +--- org.springframework:spring-core:4.3.10.RELEASE
     \--- org.springframework:spring-test:4.3.10.RELEASE
          \--- org.springframework:spring-core:4.3.10.RELEASE

testCompileOnly - Compile only dependencies for source set 'test'.
No dependencies

testImplementation - Implementation only dependencies for source set 'test'. (n)
No dependencies

testRuntime - Runtime dependencies for source set 'test' (deprecated, use 'testRuntimeOnly ' instead).
+--- org.springframework.boot:spring-boot-starter: -> 1.5.6.RELEASE
|    +--- org.springframework.boot:spring-boot:1.5.6.RELEASE
|    |    +--- org.springframework:spring-core:4.3.10.RELEASE
|    |    \--- org.springframework:spring-context:4.3.10.RELEASE
|    |         +--- org.springframework:spring-aop:4.3.10.RELEASE
|    |         |    +--- org.springframework:spring-beans:4.3.10.RELEASE
|    |         |    |    \--- org.springframework:spring-core:4.3.10.RELEASE
|    |         |    \--- org.springframework:spring-core:4.3.10.RELEASE
|    |         +--- org.springframework:spring-beans:4.3.10.RELEASE (*)
|    |         +--- org.springframework:spring-core:4.3.10.RELEASE
|    |         \--- org.springframework:spring-expression:4.3.10.RELEASE
|    |              \--- org.springframework:spring-core:4.3.10.RELEASE
|    +--- org.springframework.boot:spring-boot-autoconfigure:1.5.6.RELEASE
|    |    \--- org.springframework.boot:spring-boot:1.5.6.RELEASE (*)
|    +--- org.springframework.boot:spring-boot-starter-logging:1.5.6.RELEASE
|    |    +--- ch.qos.logback:logback-classic:1.1.11
|    |    |    +--- ch.qos.logback:logback-core:1.1.11
|    |    |    \--- org.slf4j:slf4j-api:1.7.22 -> 1.7.25
|    |    +--- org.slf4j:jcl-over-slf4j:1.7.25
|    |    |    \--- org.slf4j:slf4j-api:1.7.25
|    |    +--- org.slf4j:jul-to-slf4j:1.7.25
|    |    |    \--- org.slf4j:slf4j-api:1.7.25
|    |    \--- org.slf4j:log4j-over-slf4j:1.7.25
|    |         \--- org.slf4j:slf4j-api:1.7.25
|    +--- org.springframework:spring-core:4.3.10.RELEASE
|    \--- org.yaml:snakeyaml:1.17
\--- org.springframework.boot:spring-boot-starter-test: -> 1.5.6.RELEASE
     +--- org.springframework.boot:spring-boot-test:1.5.6.RELEASE
     |    \--- org.springframework.boot:spring-boot:1.5.6.RELEASE (*)
     +--- org.springframework.boot:spring-boot-test-autoconfigure:1.5.6.RELEASE
     |    +--- org.springframework.boot:spring-boot-test:1.5.6.RELEASE (*)
     |    \--- org.springframework.boot:spring-boot-autoconfigure:1.5.6.RELEASE (*)
     +--- com.jayway.jsonpath:json-path:2.2.0
     |    +--- net.minidev:json-smart:2.2.1
     |    |    \--- net.minidev:accessors-smart:1.1
     |    |         \--- org.ow2.asm:asm:5.0.3
     |    \--- org.slf4j:slf4j-api:1.7.16 -> 1.7.25
     +--- junit:junit:4.12
     |    \--- org.hamcrest:hamcrest-core:1.3
     +--- org.assertj:assertj-core:2.6.0
     +--- org.mockito:mockito-core:1.10.19
     |    +--- org.hamcrest:hamcrest-core:1.1 -> 1.3
     |    \--- org.objenesis:objenesis:2.1
     +--- org.hamcrest:hamcrest-core:1.3
     +--- org.hamcrest:hamcrest-library:1.3
     |    \--- org.hamcrest:hamcrest-core:1.3
     +--- org.skyscreamer:jsonassert:1.4.0
     |    \--- com.vaadin.external.google:android-json:0.0.20131108.vaadin1
     +--- org.springframework:spring-core:4.3.10.RELEASE
     \--- org.springframework:spring-test:4.3.10.RELEASE
          \--- org.springframework:spring-core:4.3.10.RELEASE

testRuntimeClasspath - Runtime classpath of source set 'test'.
+--- org.springframework.boot:spring-boot-starter: -> 1.5.6.RELEASE
|    +--- org.springframework.boot:spring-boot:1.5.6.RELEASE
|    |    +--- org.springframework:spring-core:4.3.10.RELEASE
|    |    \--- org.springframework:spring-context:4.3.10.RELEASE
|    |         +--- org.springframework:spring-aop:4.3.10.RELEASE
|    |         |    +--- org.springframework:spring-beans:4.3.10.RELEASE
|    |         |    |    \--- org.springframework:spring-core:4.3.10.RELEASE
|    |         |    \--- org.springframework:spring-core:4.3.10.RELEASE
|    |         +--- org.springframework:spring-beans:4.3.10.RELEASE (*)
|    |         +--- org.springframework:spring-core:4.3.10.RELEASE
|    |         \--- org.springframework:spring-expression:4.3.10.RELEASE
|    |              \--- org.springframework:spring-core:4.3.10.RELEASE
|    +--- org.springframework.boot:spring-boot-autoconfigure:1.5.6.RELEASE
|    |    \--- org.springframework.boot:spring-boot:1.5.6.RELEASE (*)
|    +--- org.springframework.boot:spring-boot-starter-logging:1.5.6.RELEASE
|    |    +--- ch.qos.logback:logback-classic:1.1.11
|    |    |    +--- ch.qos.logback:logback-core:1.1.11
|    |    |    \--- org.slf4j:slf4j-api:1.7.22 -> 1.7.25
|    |    +--- org.slf4j:jcl-over-slf4j:1.7.25
|    |    |    \--- org.slf4j:slf4j-api:1.7.25
|    |    +--- org.slf4j:jul-to-slf4j:1.7.25
|    |    |    \--- org.slf4j:slf4j-api:1.7.25
|    |    \--- org.slf4j:log4j-over-slf4j:1.7.25
|    |         \--- org.slf4j:slf4j-api:1.7.25
|    +--- org.springframework:spring-core:4.3.10.RELEASE
|    \--- org.yaml:snakeyaml:1.17
\--- org.springframework.boot:spring-boot-starter-test: -> 1.5.6.RELEASE
     +--- org.springframework.boot:spring-boot-test:1.5.6.RELEASE
     |    \--- org.springframework.boot:spring-boot:1.5.6.RELEASE (*)
     +--- org.springframework.boot:spring-boot-test-autoconfigure:1.5.6.RELEASE
     |    +--- org.springframework.boot:spring-boot-test:1.5.6.RELEASE (*)
     |    \--- org.springframework.boot:spring-boot-autoconfigure:1.5.6.RELEASE (*)
     +--- com.jayway.jsonpath:json-path:2.2.0
     |    +--- net.minidev:json-smart:2.2.1
     |    |    \--- net.minidev:accessors-smart:1.1
     |    |         \--- org.ow2.asm:asm:5.0.3
     |    \--- org.slf4j:slf4j-api:1.7.16 -> 1.7.25
     +--- junit:junit:4.12
     |    \--- org.hamcrest:hamcrest-core:1.3
     +--- org.assertj:assertj-core:2.6.0
     +--- org.mockito:mockito-core:1.10.19
     |    +--- org.hamcrest:hamcrest-core:1.1 -> 1.3
     |    \--- org.objenesis:objenesis:2.1
     +--- org.hamcrest:hamcrest-core:1.3
     +--- org.hamcrest:hamcrest-library:1.3
     |    \--- org.hamcrest:hamcrest-core:1.3
     +--- org.skyscreamer:jsonassert:1.4.0
     |    \--- com.vaadin.external.google:android-json:0.0.20131108.vaadin1
     +--- org.springframework:spring-core:4.3.10.RELEASE
     \--- org.springframework:spring-test:4.3.10.RELEASE
          \--- org.springframework:spring-core:4.3.10.RELEASE

testRuntimeOnly - Runtime only dependencies for source set 'test'. (n)
No dependencies

(*) - dependencies omitted (listed previously)

BUILD SUCCESSFUL

Total time: 0.842 secs

/ 13	. 

c:\Users\ervelden\.gradle>dir *jar/s | findstr lombok
 Directory of c:\Users\ervelden\.gradle\caches\modules-2\files-2.1\org.projectlombok\lombok\1.16.18\557d13dcb647038dc687390711cc
b5c9b3ffbd60
17-08-2017  17:42         1.440.303 lombok-1.16.18.jar
 Directory of c:\Users\ervelden\.gradle\caches\modules-2\files-2.1\org.projectlombok\lombok\1.16.18\d65e72edec3424e45335602fc1a4
ff6e614f4553
17-08-2017  17:43           793.722 lombok-1.16.18-sources.jar

c:\Users\ervelden\.gradle>dir *.jar/s | findstr spring-boot
 Directory of c:\Users\ervelden\.gradle\caches\modules-2\files-2.1\org.springframework.boot\spring-boot\1.5.6.RELEASE\886dd7e892
be7916e04323269afcf24b0211dae5
09-08-2017  20:51           480.237 spring-boot-1.5.6.RELEASE-sources.jar
 Directory of c:\Users\ervelden\.gradle\caches\modules-2\files-2.1\org.springframework.boot\spring-boot\1.5.6.RELEASE\a6e13da038
c6eb8b8793795b3189d5ff3f39caa0
09-08-2017  20:51           674.636 spring-boot-1.5.6.RELEASE.jar
 Directory of c:\Users\ervelden\.gradle\caches\modules-2\files-2.1\org.springframework.boot\spring-boot-actuator\1.5.6.RELEASE\2
a0e4f39d58078159c2929c039e7c7813b325871
09-08-2017  21:44           556.647 spring-boot-actuator-1.5.6.RELEASE.jar
...

/ welke pom file spring-boot bepaalt de versions van de dependencies?
/ TODO
/ Lees,
https://stackoverflow.com/questions/12888490/gradle-build-gradle-to-maven-pom-xml











/ Einde LOMBOK

/ TIKKIE

ABN Amro is niet de enige bank die een aparte app heeft uitgebracht voor betaalverzoeken. ING had Twyp (the way you pay) maar dat was geen succes en is gestopt. Om rekeningen te kunnen delen moesten beide partijen de app hebben en dat werkte niet.

Klanten van de bank kunnen via de ING-app betaalverzoeken doen, bij de Rabobank zit het ook in de app verwerkt. Internetbank Bunq heeft Slice.

/ Einde TIKKIE

/ PYTHON

https://www.youtube.com/watch?v=o77LGWwTZxU&feature=push-u-sub&attr_tag=J54Fcf3mHslM69h3-6


/ Einde PYTHON


/ ANGULAR

/ 7	. 

/ Getting started

/ 13

/ resources,

/ Lees,
http://blog.ng-book.com/
https://www.genuitec.com/products/angular-ide
https://cli.angular.io/
https://angular.io/resources

/ 13 

/ webpack in angular

/ lees,
https://stackoverflow.com/questions/39187556/angular-cli-where-is-webpack-config-js-file-new-2017-feb-ng-eject

 Directory of C:\Users\ervelden\AppData\Roaming\npm\node_modules\@angular\cli\node_modules\webpack
 Directory of C:\Users\ervelden\AppData\Roaming\npm\node_modules\@angular\cli\node_modules\@ngtools\webpack
 Directory of C:\Users\ervelden\AppData\Roaming\npm\node_modules\@angular\cli\node_modules\webpack-dev-server\client
03-08-2017  15:55               229 webpack.config.js

$ ng eject 
/ geeft de webpack.config.js file,

/ TODO

/ 13	. 

$ vi package.json
"scripts": {
    "ng": "ng",
    "start": "ng serve",
    "build": "ng build",
    "test": "ng test",
    "lint": "ng lint",
    "e2e": "ng e2e"
  },
  
 / Dus we kunnen
 $ ng serve
 / of
 $ npm start
 
 / 13	. 
 
 / karma
 
 / karma runs WH unit tests in real browsers
 
 / kijk,
 https://www.youtube.com/watch?v=MVw8N3hTfCI
 
 / de config file is bij ons karma.conf.js
 
 $ ng test
 / chrome verschijnt, 
 / maar kijk naar de command line, elke keer als we app.component.ts save, run de tests, we zien op de command line:
Chrome 60.0.3112 (Windows 7 0.0.0): Executed 3 of 3 SUCCESS (0.266 secs / 0.258 secs)
/ de browser blijft staan de hele tijd,

/ kijk,
https://www.youtube.com/watch?v=yG4FH60fhUE

/ 7	. 

/ Tutorial

/ je kunt de quickstart met git clone, of download, we doen git clone,

/ ipv met de cli een project te create, met $ ng new, doen we,
C:\Users\ervelden\my-ng-apps>git clone https://github.com/angular/quickstart.git
C:\Users\ervelden\my-ng-apps>cd quickstart
C:\Users\ervelden\my-ng-apps\quickstart>npm install

$ vi package.json
"scripts": {
    "start": "concurrently \"npm run build:watch\" \"npm run serve\"",
	

/ Dan:

C:\Users\ervelden\my-ng-apps\quickstart> npm start

> angular-quickstart@1.0.0 prestart C:\Users\ervelden\my-ng-apps\quickstart
> npm run build


> angular-quickstart@1.0.0 build C:\Users\ervelden\my-ng-apps\quickstart
> tsc -p src/


> angular-quickstart@1.0.0 start C:\Users\ervelden\my-ng-apps\quickstart
> concurrently "npm run build:watch" "npm run serve"

[0]
[0] > angular-quickstart@1.0.0 build:watch C:\Users\ervelden\my-ng-apps\quickstart
[0] > tsc -p src/ -w
[0]
[1]
[1] > angular-quickstart@1.0.0 serve C:\Users\ervelden\my-ng-apps\quickstart
[1] > lite-server -c=bs-config.json
[1]
[1] ** browser-sync config **
[1] { injectChanges: false,
[1]   files: [ './**/*.{html,htm,css,js}' ],
[1]   watchOptions: { ignored: 'node_modules' },
[1]   server:
[1]    { baseDir: 'src',
[1]      middleware: [ [Function], [Function] ],
[1]      routes: { '/node_modules': 'node_modules' } } }
[1] [Browsersync] Access URLs:
[1]  ----------------------------------------
[1]        Local: http://localhost:3000
[1]     External: http://192.168.123.115:3000
[1]  ----------------------------------------
[1]           UI: http://localhost:3001
[1]  UI External: http://192.168.123.115:3001
[1]  ----------------------------------------
[1] [Browsersync] Serving files from: src
[1] [Browsersync] Watching files...
[1] [Browsersync] Reloading Browsers...
[1] [Browsersync] Reloading Browsers...
[1] [Browsersync] Reloading Browsers...
[1] [Browsersync] Reloading Browsers...
[0] 22:45:52 - Compilation complete. Watching for file changes.
[1] 17.08.19 22:45:52 200 GET /index.html
[1] 17.08.19 22:45:52 200 GET /styles.css
[1] 17.08.19 22:45:52 200 GET /systemjs.config.js
[1] 17.08.19 22:45:52 200 GET /core-js/client/shim.min.js
[1] 17.08.19 22:45:52 200 GET /zone.js/dist/zone.js
[1] 17.08.19 22:45:52 200 GET /systemjs/dist/system.src.js
[1] 17.08.19 22:45:53 200 GET /main.js
[1] 17.08.19 22:45:53 200 GET /favicon.ico
[1] 17.08.19 22:45:53 200 GET /@angular/platform-browser-dynamic/bundles/platform-browser-dynamic.umd.js
[1] 17.08.19 22:45:53 200 GET /systemjs-angular-loader.js
[1] 17.08.19 22:45:53 200 GET /@angular/platform-browser/bundles/platform-browser.umd.js
[1] 17.08.19 22:45:53 200 GET /@angular/common/bundles/common.umd.js
[1] 17.08.19 22:45:53 200 GET /app/app.module.js
[1] 17.08.19 22:45:53 200 GET /app/app.component.js
[1] 17.08.19 22:45:53 200 GET /@angular/core/bundles/core.umd.js
[1] 17.08.19 22:45:53 200 GET /rxjs/Observable.js
[1] 17.08.19 22:45:53 200 GET /rxjs/observable/merge.js
[1] 17.08.19 22:45:53 200 GET /rxjs/operator/share.js
[1] 17.08.19 22:45:53 200 GET /rxjs/Subject.js
[1] 17.08.19 22:45:53 200 GET /rxjs/util/root.js
[1] 17.08.19 22:45:53 200 GET /rxjs/util/toSubscriber.js
[1] 17.08.19 22:45:53 200 GET /rxjs/symbol/observable.js
[1] 17.08.19 22:45:53 200 GET /rxjs/operator/merge.js
[1] 17.08.19 22:45:53 200 GET /rxjs/operator/multicast.js
[1] 17.08.19 22:45:53 200 GET /rxjs/Subscriber.js
[1] 17.08.19 22:45:53 200 GET /rxjs/Subscription.js
[1] 17.08.19 22:45:53 200 GET /rxjs/util/ObjectUnsubscribedError.js
[1] 17.08.19 22:45:53 200 GET /rxjs/SubjectSubscription.js
[1] 17.08.19 22:45:53 200 GET /rxjs/symbol/rxSubscriber.js
[1] 17.08.19 22:45:53 200 GET /rxjs/Observer.js
[1] 17.08.19 22:45:53 200 GET /rxjs/observable/ArrayObservable.js
[1] 17.08.19 22:45:53 200 GET /rxjs/operator/mergeAll.js
[1] 17.08.19 22:45:53 200 GET /rxjs/util/isScheduler.js
[1] 17.08.19 22:45:53 200 GET /rxjs/observable/ConnectableObservable.js
[1] 17.08.19 22:45:53 200 GET /rxjs/util/isFunction.js
[1] 17.08.19 22:45:53 200 GET /rxjs/util/isArray.js
[1] 17.08.19 22:45:53 200 GET /rxjs/util/isObject.js
[1] 17.08.19 22:45:53 200 GET /rxjs/util/tryCatch.js
[1] 17.08.19 22:45:53 200 GET /rxjs/util/errorObject.js
[1] 17.08.19 22:45:53 200 GET /rxjs/util/UnsubscriptionError.js
[1] 17.08.19 22:45:53 200 GET /rxjs/observable/ScalarObservable.js
[1] 17.08.19 22:45:53 200 GET /rxjs/observable/EmptyObservable.js
[1] 17.08.19 22:45:53 200 GET /rxjs/OuterSubscriber.js
[1] 17.08.19 22:45:53 200 GET /rxjs/util/subscribeToResult.js
[1] 17.08.19 22:45:53 200 GET /rxjs/util/isPromise.js
[1] 17.08.19 22:45:53 200 GET /rxjs/symbol/iterator.js
[1] 17.08.19 22:45:53 200 GET /rxjs/InnerSubscriber.js
[1] 17.08.19 22:45:53 200 GET /@angular/compiler/bundles/compiler.umd.js

/ we zien Explorer gestart, 
localhost:3000
Hello Angular

/ 13	. 

/ let op {{...}} , dubbele brackets,

/ tussen backticks `...` kan een multiline string staan, maakt HTML more readable,

/ 13	. 

/ in app.component.ts,

import { Component } from '@angular/core';
export class AppComponent  {                     // controller, 
  title = 'Angular'								// model, set by controller
  hero='Windstorms'								// model
}

/ import en export is typescript, WH NIET es6, 
/ het wordt vertaald naar app.component.js:
...
var core_1 = require("@angular/core");
...
exports.AppComponent = AppComponent;


/ in Angular quickstart, ga naar app.component.js, ga naar require, right click, Go to definition, 
node_modules
	@types
		node	
			index.d.ts

/ exports heeft geen definition, 
/ TODO

/ 13	. 

Notice that you don't call new to create an instance of the AppComponent class. Angular is creating an instance for you. How?
When you bootstrap with the AppComponent class (in main.ts), Angular looks for a <my-app> in the index.html, finds it, instantiates an instance of AppComponent, and renders it inside the <my-app> tag.



/ 13	. 

$ vi app.component.ts

import { Component } from '@angular/core';

export class Hero{
  id:number;
  name:string;
}

/ ANGULAR VS ANGULARJS
@Component({
  selector: 'my-app',                          / in AngularJS is .component("myApp",{
																	template:`...`,
																	AppComponent:function(){
																		this.title='Angular'
																		this.hero={id:1,name:'Windstorm'}
																	
  template: `
    <h1>{{title}}</h1>
    <h2>{{hero.name}} details!</h2>
    <div><label>id: </label>{{hero.id}}</div>
    <div><label>name: </label>{{hero.name}}</div> 
    `
})
export class AppComponent  {              // controller
  title = 'Angular';							// model, set by the controller,
  hero:Hero={								// 
    id:1,
    name:'Windstorm'
  }
}

/ 13	. 

/ we hebben ng-book gekocht,
/ vl$Walnoot27 password

/ we hebben een email, en daarin staat waar het staat wat ik gekocht heb,
https://gumroad.com/d/cfd861d00eb812fc4fcab79768bd7da0

/ 13	. 

/ we vervangen,
    <div><label>name: </label>{{hero.name}}</div> 
/ door,
    <div><label>name: </label><input [(ngModel)]="hero.name" placeholder="name"></div> 

/ in ,
$ vi app.component.ts

import { Component } from '@angular/core';

export class Hero{
  id:number;
  name:string;
}

@Component({
  selector: 'my-app',
  template: `
    <h1>{{title}}</h1>
    <h2>{{hero.name}} details!</h2>
    <div><label>id: </label>{{hero.id}}</div>
    <div><label>name: </label><input [(ngModel)]="hero.name" placeholder="name"></div>              / <-
    `
})
export class AppComponent  { 
  title = 'Angular';
  hero:Hero={
    id:1,
    name:'Windstorm'
  }
}

$ app.module.ts

import { NgModule }      from '@angular/core';
import { BrowserModule } from '@angular/platform-browser';
import{FormsModule} from '@angular/forms';                       / <-
import { AppComponent }  from './app.component';

@NgModule({
  imports:      [ BrowserModule,
                  FormsModule ],                            / <-
  declarations: [ AppComponent ],
  bootstrap:    [ AppComponent ]
})
export class AppModule { }




/ 13	. 

/ Master/Detail

/ In de text input staat: Windstorm. Als we hem edit, zien we dat meteen in de {{hero.name}} details! Dit is two-way binding; ook van view -> model
/ {{...}} is one-way binding

$ vi app.component.ts

import { Component } from '@angular/core';

export class Hero{
  id:number;
  name:string;
}

const HEROES: Hero[] = [
  { id: 11, name: 'Mr. Nice' },
  { id: 12, name: 'Narco' },
  { id: 13, name: 'Bombasto' },
  { id: 14, name: 'Celeritas' },
  { id: 15, name: 'Magneta' },
  { id: 16, name: 'RubberMan' },
  { id: 17, name: 'Dynama' },
  { id: 18, name: 'Dr IQ' },
  { id: 19, name: 'Magma' },
  { id: 20, name: 'Tornado' }
];

@Component({
  selector: 'my-app',
  template: `
    <h1>{{title}}</h1>
    
    <ul class="heroes">
      <li *ngFor="let hero of heroes">
        <span class="badge">{{hero.id}}</span> {{hero.name}}
      </li>
    </ul>
    `
})
export class AppComponent  { 
  title = 'Angular';
  heroes=HEROES;
}

/ we zien alle heroes in het browser window,

/ 1313	.

/ use in template <!-- --> om comment out,

$ vi app.component.js

import { Component } from '@angular/core';

export class Hero{
  id:number;
  name:string;
}

const HEROES: Hero[] = [
  { id: 11, name: 'Mr. Nice' },
  { id: 12, name: 'Narco' },
  { id: 13, name: 'Bombasto' },
  { id: 14, name: 'Celeritas' },
  { id: 15, name: 'Magneta' },
  { id: 16, name: 'RubberMan' },
  { id: 17, name: 'Dynama' },
  { id: 18, name: 'Dr IQ' },
  { id: 19, name: 'Magma' },
  { id: 20, name: 'Tornado' }
];

@Component({
  selector: 'my-app',
  template: `
    <h1>{{title}}</h1>
    
    <ul class="heroes">
	  <li *ngFor="let hero of heroes" (click)="onSelect(hero)" [class.selected]="hero===selectedHero">
        <span class="badge">{{hero.id}}</span> {{hero.name}}
      </li>
	</ul>
    <div *ngIf="selectedHero">
      <h2>{{selectedHero.name}} details!</h2>
      <div><label>id: </label>{{selectedHero.id}}</div>
      <div><label>name: </label><input [(ngModel)]="selectedHero.name" placeholder="name"></div>
    </div> 
    `,
    styles: [`
  .selected {
    background-color: #CFD8DC !important;
    color: white;
  }
  .heroes {
    margin: 0 0 2em 0;
    list-style-type: none;
    padding: 0;
    width: 15em;
  }
  .heroes li {
    cursor: pointer;
    position: relative;
    left: 0;
    background-color: #EEE;
    margin: .5em;
    padding: .3em 0;
    height: 1.6em;
    border-radius: 4px;
  }
  .heroes li.selected:hover {
    background-color: #BBD8DC !important;
    color: white;
  }
  .heroes li:hover {
    color: #607D8B;
    background-color: #DDD;
    left: .1em;
  }
  .heroes .text {
    position: relative;
    top: -3px;
  }
  .heroes .badge {
    display: inline-block;
    font-size: small;
    color: white;
    padding: 0.8em 0.7em 0 0.7em;
    background-color: #607D8B;
    line-height: 1em;
    position: relative;
    left: -1px;
    top: -4px;
    height: 1.8em;
    margin-right: .8em;
    border-radius: 4px 0 0 4px;
  }
`]
})
export class AppComponent  { 
  title = 'Angular';
  heroes=HEROES;
  selectedHero:Hero;
  onSelect(hero:Hero):void{
    this.selectedHero=hero;
  }
}

/ In eerste instantie zien we geen details en een text input. 
/ select een hero uit de list: we zien details en de text input. 
/ als je de name van de hero edit in de input, zien we de entry in de list veranderen, 
/ als we de input clear, clears de entry in de list ook,
/ als we een entry in de list kiezen, krijgt hij iets andere style, door <li ... [class.selected]="hero===selectedHero">

/ 13	. 

/ multiple components



$ vi app.component.ts

import { Component } from '@angular/core';

import {Hero} from './hero'                            / <- 


const HEROES: Hero[] = [
  { id: 11, name: 'Mr. Nice' },
  { id: 12, name: 'Narco' },
  { id: 13, name: 'Bombasto' },
  { id: 14, name: 'Celeritas' },
  { id: 15, name: 'Magneta' },
  { id: 16, name: 'RubberMan' },
  { id: 17, name: 'Dynama' },
  { id: 18, name: 'Dr IQ' },
  { id: 19, name: 'Magma' },
  { id: 20, name: 'Tornado' }
];

@Component({
  selector: 'my-app',
  template: `
    <h1>{{title}}</h1>
    <ul class="heroes">
      <li *ngFor="let hero of heroes" (click)="onSelect(hero)" [class.selected]="hero===selectedHero">
        <span class="badge">{{hero.id}}</span> {{hero.name}}
      </li>
    </ul>
    <hero-detail [hero]="selectedHero"></hero-detail>                 / <- See @Input in hero-detail.component.ts
    `,
    styles: [`
  .selected {
    background-color: #CFD8DC !important;
    color: white;
  }
  .heroes {
    margin: 0 0 2em 0;
    list-style-type: none;
    padding: 0;
    width: 15em;
  }
  .heroes li {
    cursor: pointer;
    position: relative;
    left: 0;
    background-color: #EEE;
    margin: .5em;
    padding: .3em 0;
    height: 1.6em;
    border-radius: 4px;
  }
  .heroes li.selected:hover {
    background-color: #BBD8DC !important;
    color: white;
  }
  .heroes li:hover {
    color: #607D8B;
    background-color: #DDD;
    left: .1em;
  }
  .heroes .text {
    position: relative;
    top: -3px;
  }
  .heroes .badge {
    display: inline-block;
    font-size: small;
    color: white;
    padding: 0.8em 0.7em 0 0.7em;
    background-color: #607D8B;
    line-height: 1em;
    position: relative;
    left: -1px;
    top: -4px;
    height: 1.8em;
    margin-right: .8em;
    border-radius: 4px 0 0 4px;
  }
`],
})
export class AppComponent  { 
  title = 'Angular';
  heroes=HEROES;
  selectedHero:Hero;
  onSelect(hero:Hero):void{
    this.selectedHero=hero;
  }
}

$ vi hero.ts

export class Hero{
  id:number;
  name:string;
}

$ vi hero-detail.component.ts

import {Component,Input} from '@angular/core'
import {Hero} from './hero'                             / <-
@Component({
    selector:'hero-detail',
    template:`
     <div *ngIf="hero">
      <h2>{{hero.name}} details!</h2>
      <div><label>id: </label>{{hero.id}}</div>
      <div><label>name: </label><input [(ngModel)]="hero.name" placeholder="name"></div>
    </div> 
    `
})
export class HeroDetailComponent{
    @Input()hero:Hero;                                / <-
}

$ vi app.module.ts

import { NgModule }      from '@angular/core';
import { BrowserModule } from '@angular/platform-browser';
import {FormsModule} from '@angular/forms';

import { AppComponent }  from './app.component';
import { HeroDetailComponent} from './hero-detail.component';         / <- alle components moeten in de module

@NgModule({
  imports:      [ BrowserModule,FormsModule ],
  declarations: [ AppComponent, HeroDetailComponent ],				/ <- alle components moeten in de module
  bootstrap:    [ AppComponent ]
})
export class AppModule { }

/ MORGEN

/ 13	. 

/ protractor

/ Lees,
https://coryrylan.com/blog/introduction-to-e2e-testing-with-the-angular-cli-and-protractor

/ 13	. 

/ google: yeoman angular cli
https://www.google.nl/search?q=yeoman+angular+cli&rlz=1C1GGRV_enNL756NL756&oq=yeoman+angular+cli&aqs=chrome..69i57.5675j0j4&sourceid=chrome&ie=UTF-8

/ 13	. 
/ google: ng end-to-end
https://coryrylan.com/blog/introduction-to-e2e-testing-with-the-angular-cli-and-protractor
/ google: protractor
http://www.protractortest.org/#/


/ 13. 

/ Results 4. Multiple components

$ vi app.components.ts

import { Component } from '@angular/core';

import {Hero} from './hero'


const HEROES: Hero[] = [
  { id: 11, name: 'Mr. Nice' },
  { id: 12, name: 'Narco' },
  { id: 13, name: 'Bombasto' },
  { id: 14, name: 'Celeritas' },
  { id: 15, name: 'Magneta' },
  { id: 16, name: 'RubberMan' },
  { id: 17, name: 'Dynama' },
  { id: 18, name: 'Dr IQ' },
  { id: 19, name: 'Magma' },
  { id: 20, name: 'Tornado' }
];

@Component({
  selector: 'my-app',
  template: `
    <h1>{{title}}</h1>
    <ul class="heroes">
      <li *ngFor="let hero of heroes" (click)="onSelect(hero)" [class.selected]="hero===selectedHero">
        <span class="badge">{{hero.id}}</span> {{hero.name}}
      </li>
    </ul>
    <hero-detail [hero]="selectedHero"></hero-detail>
    `,
    styles: [`
  .selected {
    background-color: #CFD8DC !important;
    color: white;
  }
  .heroes {
    margin: 0 0 2em 0;
    list-style-type: none;
    padding: 0;
    width: 15em;
  }
  .heroes li {
    cursor: pointer;
    position: relative;
    left: 0;
    background-color: #EEE;
    margin: .5em;
    padding: .3em 0;
    height: 1.6em;
    border-radius: 4px;
  }
  .heroes li.selected:hover {
    background-color: #BBD8DC !important;
    color: white;
  }
  .heroes li:hover {
    color: #607D8B;
    background-color: #DDD;
    left: .1em;
  }
  .heroes .text {
    position: relative;
    top: -3px;
  }
  .heroes .badge {
    display: inline-block;
    font-size: small;
    color: white;
    padding: 0.8em 0.7em 0 0.7em;
    background-color: #607D8B;
    line-height: 1em;
    position: relative;
    left: -1px;
    top: -4px;
    height: 1.8em;
    margin-right: .8em;
    border-radius: 4px 0 0 4px;
  }
`],
})
export class AppComponent  { 
  title = 'Angular';
  heroes=HEROES;
  selectedHero:Hero;
  onSelect(hero:Hero):void{
    this.selectedHero=hero;
  }
}

$ vi app.module.ts

import { NgModule }      from '@angular/core';
import { BrowserModule } from '@angular/platform-browser';
import {FormsModule} from '@angular/forms';

import { AppComponent }  from './app.component';
import { HeroDetailComponent} from './hero-detail.component';

@NgModule({
  imports:      [ BrowserModule,FormsModule ],
  declarations: [ AppComponent, HeroDetailComponent ],
  bootstrap:    [ AppComponent ]
})
export class AppModule { }

$ vi hero-detail.component.ts

import {Component,Input} from '@angular/core'
import {Hero} from './hero'
@Component({
    selector:'hero-detail',
    template:`
     <div *ngIf="hero">
      <h2>{{hero.name}} details!</h2>
      <div><label>id: </label>{{hero.id}}</div>
      <div><label>name: </label><input [(ngModel)]="hero.name" placeholder="name"></div>
    </div> 
    `
})
export class HeroDetailComponent{
    @Input()hero:Hero;
}

$ vi hero.ts

export class Hero{
  id:number;
  name:string;
}


/ 13	. 

/ 5. Services	,

$ vi hero.service.ts

import {Injectable} from '@angular/core';
import {Hero} from './hero';
import {HEROES} from './mock-heroes';

@Injectable() 												// () ! anders is Injectable een expression
export class HeroService{
    getHeroes():Hero[]{
        return HEROES;
    }
}

$ vi mock-heroes.ts

import {Hero} from './hero'

export const HEROES: Hero[] = [									// uit app.component.ts
  { id: 11, name: 'Mr. Nice' },
  { id: 12, name: 'Narco' },
  { id: 13, name: 'Bombasto' },
  { id: 14, name: 'Celeritas' },
  { id: 15, name: 'Magneta' },
  { id: 16, name: 'RubberMan' },
  { id: 17, name: 'Dynama' },
  { id: 18, name: 'Dr IQ' },
  { id: 19, name: 'Magma' },
  { id: 20, name: 'Tornado' }
];

/ 1313	. 

/ in 5 Services dit werkt het, maar de call de service in de ctor van AppComponent, dat we straks gaan veranderen,

$ vi app.component.ts

import { Component } from '@angular/core';
import {Hero} from './hero'
import {HeroService} from './hero.service'

@Component({
  providers:[HeroService],             // creates new HeroService
  selector: 'my-app',
  template: `
    <h1>{{title}}</h1>
    <ul class="heroes">
      <li *ngFor="let hero of heroes" (click)="onSelect(hero)" [class.selected]="hero===selectedHero">
        <span class="badge">{{hero.id}}</span> {{hero.name}}
      </li>
    </ul>
    <hero-detail [hero]="selectedHero"></hero-detail>
    `,
    styles: [`
		...
`],

})
export class AppComponent  { 
  constructor(private heroService:HeroService){  // injection
    this.heroes=heroService.getHeroes();              / call in ctor, later anders,
  }      
  title = 'Angular';
  heroes:Hero[];
  selectedHero:Hero;
  onSelect(hero:Hero):void{
    this.selectedHero=hero;
  }
}

/ 1313	. 

/ ipv de call in de ctor doen we, 


export class AppComponent  { 
  
  private title = 'Angular';
  private heroes:Hero[];
  private selectedHero:Hero;
  constructor(private heroService:HeroService){  // injection 
  }      
  getHeroes():void{
    this.heroes=this.heroService.getHeroes();
  }

getHeros() kent dus this.heroService, dus wat in constructor(...) staat is dus niet zoals gewoonlijk een arg, maar een field declaration, en een injection, dus wordt ook init,

/ 1313. 	

/ met de service:

$ vi app.component.ts

import { Component } from '@angular/core';
import {Hero} from './hero'
import {HeroService} from './hero.service'
import {OnInit} from '@angular/core'                      					/ <-

@Component({
  providers:[HeroService],             // creates new HeroService
  selector: 'my-app',
  template: `
    <h1>{{title}}</h1>
    <ul class="heroes">
      <li *ngFor="let hero of heroes" (click)="onSelect(hero)" [class.selected]="hero===selectedHero">
        <span class="badge">{{hero.id}}</span> {{hero.name}}
      </li>
    </ul>
    <hero-detail [hero]="selectedHero"></hero-detail>
    `,
    styles: [`
	...
`],

})
export class AppComponent implements OnInit { 
  
  private title = 'Angular';
  private heroes:Hero[];
  private selectedHero:Hero;

  constructor(private heroService:HeroService){  // injection 
  }      
  ngOnInit():void{                            // <-
    this.getHeroes();
  }
  getHeroes():void{
    this.heroes=this.heroService.getHeroes();
  }
  onSelect(hero:Hero):void{
    this.selectedHero=hero;
  }
}

/ 13

/ 1313	. 

/ Lees,
https://www.themarketingtechnologist.co/introduction-to-data-binding-in-angular-2-versus-angular-1/

/ [] is ng-bind, is one-way binding voor in div, p
/ [()] is ng-model, is two-way bind voor in input,
/ In angular 1 werkt ng-model niet op een div of p, werkt [()] ook niet op een div of p?
/ TODO 
/ () is ng-click


@Component({
  template: `
    <h1>{{title}}</h1>
    <h1 [innerText]="title"></h1>
})
export class AppComponent implements OnInit { 
  
  private title = 'Angular';

/ we zien inderdaad 2 keer,
Angular
Angular

/ 1313	. 

/ []

/ lees, 
https://stackoverflow.com/questions/35944749/what-is-the-difference-between-parentheses-brackets-and-asterisks-in-angular2
/ ->
https://angular.io/guide/template-syntax

Binding syntax: An overview
[target]="expression"				/ one-way,

$ vi app.component.ts

@Component({

  template: `
    <hero-detail [hero]="selectedHero"></hero-detail>  / AngularJS: hero="selectedHero"
    `,
	
/ dus de hero-detail krijgt de selectedHero, one-way, 
/ we zien de selectedHero in de detail onderin,

$ vi hero-detail.component.ts

export class HeroDetailComponent{
    @Input()hero:Hero;									/ AngularJS: "<"
}

/ MORGEN







/ 1313	. 

/ google: angular 1 one-way binding
/ lees,
https://toddmotto.com/one-way-data-binding-in-angular-1-5/
https://blog.thoughtram.io/angularjs/2014/10/14/exploring-angular-1.3-one-time-bindings.html     / <-

/ lees,
https://www.w3schools.com/angular/angular_databinding.asp

/ {{...}} of ng-bind is model->view : 1-way
/ ng-model is 2-way: view -> model, en model -> view WH, als het model van de input op een andere manier verandert.
/ als je op een div of p ng-model ipv ng-bind, dan werkt het NIET, ng-bind werkt WEL, bijv in 

/ Ga naar, 
https://www.w3schools.com/angular/tryit.asp?filename=try_ng_databinding_ng-model

<div ng-app="myApp" ng-controller="myCtrl">
    <input ng-model="firstname">
    <span ng-model="firstname"></span>
</div>
/ OK

<script>
var app = angular.module('myApp', []);
app.controller('myCtrl', function($scope) {
    $scope.firstname = "John";
    $scope.lastname = "Doe";    
});
</script>

/ 1313	. 

/ lees,
https://docs.angularjs.org/guide/component

/ we zien , 

$ vi index.html

<!-- components match only elements -->
<div ng-controller="MainCtrl as ctrl">
  <b>Hero</b><br>
  <hero-detail hero="ctrl.hero"></hero-detail>
</div>

$ vi index.js

angular.module('heroApp', []).controller('MainCtrl', function MainCtrl() {
  this.hero = {
    name: 'Spawn'
  };
});

$ vi heroDetail.html

<span>Name: {{$ctrl.hero.name}}</span>


$ vi heroDetail.js

angular.module('heroApp').component('heroDetail', {
  templateUrl: 'heroDetail.html',
  bindings: {
    hero: '='          /= 2-way binding
  }
});









/ Einde ANGULAR

/ ANGULAR1

/ We hebben created, 
my-ng-apps\angular1\myapp.html myapp.js index.html heroList.html index.js

/ Lees,

/ kijk,
https://www.youtube.com/watch?v=k4qVkWh1EAo
/ via,
https://www.youtube.com/user/angularjs

/ en 
/ lees,
https://docs.angularjs.org/tutorial/step_00
/ en,
https://docs.angularjs.org/tutorial/#environment-setup
/ TODO

/ in,
C:\Users\ervelden\my-ng-apps\angular1> dir
23-08-2017  14:58         1.268.263 angular.js
23-08-2017  15:23               176 myapp.html
23-08-2017  15:23               107 myapp.js

/ dus angular.js is in deze dir,

/ 13	. 

/ lees over directives,
https://docs.angularjs.org/guide/directive

/ lees over directives en components,
https://gist.github.com/toddmotto/5b4de6c777d3e446e6410fdadb824522


/ 13	. 



$ vi myapp.js

var myapp=angular.module("myapp",[])
myapp.controller("myctrl",function($scope){
	$scope.name="foo"
	$scope.customer={
		name:"bar"
	}
})
.directive("mydir",function(){
	return {
	template:`<h1>Made by a directive!</h1>
				<h2>{{name}}</h2>
				<h2>{{customer.name}}`
	}
})

$ vi myapp.html

<!DOCTYPE html>
<html>
<head>
<script src="angular.js"></script>
<script src="myapp.js"></script>
</head>
<body ng-app="myapp">
	<div ng-controller="myctrl">
		<input ng-model="name">
	
		{{name}}
		<!-- of -->
		<span ng-bind="name"></span>
		
		<mydir></mydir>
	</div>
	
</body>
</html>

/ we kunnen 
<body ng-app="myapp">
	<div ng-controller="myctrl">
/ of
<body ng-app="myapp" ng-controller="myctrl">
	<div >
	
/ het belangrijke is dat mydir binnen een tag met myctrl als controller, want myctrl schrijft in de model van de tag name en customer, en de child tags' models ervan van dat model, 
/ dus als body's controller name en customer in de model van body schrijven, erft de model van de div deze twee, en de model van de mydir erft van de model van de div,
/ als de div's controller name en customer in de div's model writes, dan omdat  mydir's model inherits van dit model, kan mydir ze render, omdat ze in zijn model zitten,


/ wat we in de input geven, zien we ook in de ng-bind="name" en in {{name}} 

/ we kunnen ook,
<div mydir></div mydir>

/ we hebben zojuist zelf een attribute create, net als <hero-detail hero="ctrl.hero">
/ TODO

/ geef, 
file:///C:/Users/ervelden/my-ng-apps/angular1/myapp.html
/ we zien, 
foo             foo foo
--------

Made by a directive!
bar

/ 1313	. 

/ we maken 2 ctrls, en als we tags deze ctrls geven 2 models, die obj inherit:

$ vi myapp.js

var myapp=angular.module("myapp",[])
myapp.controller("parentctrl",function($scope){
	$scope.nameinparent="parent"
})
.controller("childctrl",function($scope){
	$scope.nameinchild="child"
})

$ myapp.html

	<div ng-controller="parentctrl">
		<div ng-controller="childctrl">
			Parent: {{nameinparent}}, child: {{nameinchild}}
		</div>
	</div>
	
/ geef
https://docs.angularjs.org/guide/directive
/ we zien, 
Parent: parent, child: child


/ 1313. 

/ multiple models for the directive , so multiple controllers, 

/ een mydir heeft een model die inherits van de model van zijn parent tag, een div , wiens controller zijn model schrijft, 
/ dus de 1ste mydir's model inherits van de model van de div met controller myctrl. Deze controller sets name en customer in de model van deze dir, en mydir's model inherits van deze,

/ lees
https://docs.angularjs.org/guide/directive
/ we zien onder, aan het eind,
Isolating the Scope of a Directive
/ de link:
"Directive Definition Object - scope" 
https://docs.angularjs.org/api/ng/service/$compile#directive-definition-object

/  hieronder zien we:
.directive("mydir",function(){
	return {
		scope:false,								// default, z'n model is die van de parent;  scope: true is ook OK, eigen model obj 										// inh van parent's model,
		template:`<h1>Made by a directive!</h1>
				<h2>{{name}}</h2>
				<h2>{{customer.name}}`
	}
})

/ als scope false, dan krijgt is de directive's model de parent's model,
/ als scope true, krijgt de directive een model, die object inherits van de parent's model
/ als scope is een obj, dan zeg je via een attribute wat van de parent's model in zijn model komt, het model obj inherits NIET van de parent's model,
/ scope: false en scope:true maakt hier niet uit, 
/ scope:{} , dan zitten name en customer NIET in dit model, dus de view toont ze niet,
  
  
 / 13	. 

/ multiple models for the directive , so multiple controllers, 

$ vi myapp.js

var myapp=angular.module("myapp",[])
myapp.controller("myctrl",function($scope){
	$scope.name="foo"
	$scope.customer={
		name:"bar"
	}
})
.controller("altctrl",function($scope){
	$scope.name="gee"
	$scope.customer={
		name:"hee"
	}
})
.directive("mydir",function(){
	return {
		template:`<h1>Made by a directive!</h1>
				<h2>{{name}}</h2>
				<h2>{{customer.name}}`
	}
})

$ vi myapp.html

<!DOCTYPE html>
<html >
<head>
<script src="angular.js"></script>
<script src="myapp.js"></script>
<body  ng-app="myapp" >

	<div ng-controller="myctrl">

		<input ng-model="name">
	
		{{name}}
	
		<span ng-bind="name"></span>
	
		<mydir></mydir>
	</div>
	<div ng-controller="altctrl">

		<input ng-model="name">
	
		{{name}}
	
		<span ng-bind="name"></span>
	
		<mydir></mydir>
	</div>
	
	
</body>
</html>

/ Geef
file:///C:/Users/ervelden/my-ng-apps/angular1/myapp.html
/ we zien ,

foo				foo foo
---------

Made by a directive!

foo
bar

gee				gee gee
----------

Made by a directive!

gee
hee

/ 13	. 

/ isolated scope

/ we geven de dir zelf een model, we zeggen wat de isolated model mag inherit of copy van de parent's model,

/ we hebben eerder ctlr's renamed: mectrl, youctrl en inheritdir hadden we al,
/ nu ctrl, isodir

/ de isodir's inherit niet de model van de mainctrl, maar we zeggen precies wat van de mainctrl's model in de isodir's model komt, 
/ is dat dan toch inherit, maar dan restricted, of copy?
/ TODO

$ vi myapp.js

var myapp=angular.module("myapp",[])
myapp.controller("mectrl",function($scope){
	$scope.name="foo"
	$scope.customer={
		name:"bar"
	}
})
.controller("youctrl",function($scope){
	$scope.name="gee"
	$scope.customer={
		name:"hee"
	}
})
.directive("inheritdir",function(){
	return {
		template:`<h1>Made by a directive!</h1>
				<h2>{{name}}</h2>
				<h2>{{customer.name}}`
	}
})
.controller("mainctrl",function($scope){
	$scope.me={
		name:"bar"
	}
	$scope.you={
		name:"hee"
	}
})
.directive("isodir",function(){
	return {
		scope:{
			customer:"=customer_"
		},
		template:`<h1>In isolated scope</h1>
					<h2>{{customer.name}}</h2>`
	}

})

$ vi myapp.html

<!DOCTYPE html>
<html >
<head>
<script src="angular.js"></script>
<script src="myapp.js"></script>
</head>
<body  ng-app="myapp" >

	<div ng-controller="mectrl">

		<input ng-model="name">
	
		{{name}}
	
		<span ng-bind="name"></span>
	
		<inheritdir></inheritdir>
	</div>
	<div ng-controller="youctrl">

		<input ng-model="name">
	
		{{name}}
	
		<span ng-bind="name"></span>
	
		<inheritdir></inheritdir>
	</div>
	
	<div ng-controller="mainctrl">
		<isodir customer_="me"></isodir>
		<isodir customer_="you"></isodir>
	</div>
	
	
</body>
</html>

/ 13	. 

/ we lezen,
https://docs.angularjs.org/api/ng/service/$compile#directive-definition-object

/ als een directive scope: false, dan is zijn model die van de parent, dus kan de directive's controller de parent's model schrijven. Een andere directive die van dezelfde parent erft, 

/ google: angularjs directive link function
https://stackoverflow.com/questions/20018507/angularjs-what-is-the-need-of-the-directives-link-function-when-we-already-had

/ hieronder heeft inheritdir de controller fct, 

/ als
inheritdir scope false
altinheritdir scope false/true
/ dan heeft altinheritdir ook : adjusted, want inheritdir heeft de parent's model set,
/ inheritdir heeft adjusted, 

/ als 
inheritdir scope true
altinheritdir scope false/true
/ dan heeft altinheritdir NIET adjusted, maar foo, uit de parent's model, inheritdir heeft alleen zijn eigen model set,
/ inheritdir heeft adjusted, want die is set in eigen model,


$ myapp.js

var myapp=angular.module("myapp",[])
myapp.controller("mectrl",function($scope){
	$scope.name="foo"
	$scope.customer={
		name:"bar"
	}
})
.directive("inheritdir",function(){
	return {
		scope:false,
		template:`<h1>Made by inheritdir!</h1>
				<h2>{{name}}</h2>
				<h2>{{customer.name}}`,
		controller:function($scope){
			$scope.name="adjusted"
		},
	}
})
.directive("altinheritdir",function(){
	return {
		scope:false,
		template:`<h1>Made by altinheritdir!</h1>
				<h2>{{name}}</h2>
				<h2>{{customer.name}}`,
		
	}
})


$ vi myapp.html

	<div ng-controller="mectrl">

		<input ng-model="name">
	
		{{name}}
	
		<span ng-bind="name"></span>
	
		<inheritdir></inheritdir>
		<altinheritdir></altinheritdir>
	</div>

/ 13	. 

/ hetzelfde geldt als we een directive een model geven, 

$ vi myapp.js

.controller("mainctrl",function($scope){
	$scope.me={
		name:"bar"
	}
	$scope.you={
		name:"hee"
	}
})
.directive("isodir",function(){
	return {
		scope:{
			customer:"=customer_"
		},
		template:`<h1>Made by isodir</h1>
					<h2>{{customer.name}}</h2>`,
		controller:function($scope){
			$scope.customer.name="modified"
		},			
	}

})
.directive("altisodir",function(){
	return {
		scope:{
			customer:"=customer_"
		},
		template:`<h1>Made by altisodir</h1>
					<h2>{{customer.name}}</h2>`,		
	}

})

$ vi myapp.html

	<div ng-controller="mainctrl">
		<isodir customer_="me"></isodir>
		<altisodir customer_="me"></altisodir>
		<isodir customer_="you"></isodir>
		<altisodir customer_="you"></altisodir>
	</div>
	
/ we zien,

Made by isodir

modified

Made by altisodir

modified

Made by isodir

modified

Made by altisodir

modified

/ ipv (zonder de ctrl in isodir), 

Made by isodir

bar

Made by altisodir

bar

Made by isodir

hee

Made by altisodir

hee

/ 13	.

/ $scope.me en $scope.you moeten objects zijn, 
/ TODO
/ als we ze strings nemen, komen deze strings NIET in de model van de isodirprim en altisodirprim,
/ behalve als we in isodirprim een controller nemen, schrijft hij de model van isodirprim, maar het model van altisodirprim blijft leeg,

$ vi myapp.js

.controller("mainctrlprim",function($scope){
	$scope.me="bar"
	$scope.you="hee"
})
.directive("isodirprim",function(){
	return {
		scope:{
			customer:"=customer_"
		},
		template:`<h1>Made by isodirprim</h1>
					<h2>{{name}}</h2>`,
		controller:function($scope){
			$scope.name="modifiedprim"
		},			
	}

})
.directive("altisodirprim",function(){
	return {
		scope:{
			customer:"=customer_"
		},
		template:`<h1>Made by altisodirprim</h1>
					<h2>{{name}}</h2>`,		
	}

})

$ vi myapp.html

	<div ng-controller="mainctrlprim">
		<isodirprim customer_="me"></isodirprim>
		<altisodirprim customer_="me"></altisodirprim>
		<isodirprim customer_="you"></isodirprim>
		<altisodirprim customer_="you"></altisodirprim>
	</div>
	
/ we zien, 

Made by isodirprim

modifiedprim

Made by altisodirprim

Made by isodirprim

modifiedprim

Made by altisodirprim
	

/ 7	.

/ components

/ lees,
https://docs.angularjs.org/guide/component

$ vi myapp.js

var myapp=angular.module("myapp",[])
.controller("compctrl",function(){
	this.hero={
		name:"Spawn"
	}
})
.component("heroDetail",{
	template:"<span>Name: {{$ctrl.hero.name}}</span>",
	bindings:{
		hero:"="
	}
})

$ vi myapp.html

	<div ng-controller="compctrl as ctrl">
		<b>Hero</b><br>
		<hero-detail hero="ctrl.hero"></hero-detail>
	</div>
	
/ we zien, 
Hero
Name: Spawn

/ 13	. 

/ in controller function, $scope of niets,
/ lees, 
https://docs.angularjs.org/api/ng/directive/ngController

Two different declaration styles are included below:
one binds methods and properties directly onto the controller using this: ng-controller="SettingsController1 as settings"
one injects $scope into the controller: ng-controller="SettingsController2"

/ 1313	.

$ vi myapp.js

var myapp=angular.module("myapp",[])
.controller("with$scopectrl",function($scope){
	$scope.name="with $scope"
})
.controller("no$scopectrl",function(){
	this.name="no $scope"
})

$ vi myapp.html

	<div ng-controller="with$scopectrl">
		{{name}}
	</div>
	<div ng-controller="no$scopectrl as ctrl">
		{{ctrl.name}}
	</div>

/ 'as ctrl' MOET,


/ 13	. 

/ 2 versies controller: met en zonder $scope, en component,

$ vi myapp.js

.controller("compctrl",function(){
	this.hero={
		name:"Spawn"
	}
})
.component("heroDetail",{
	template:"<span>Name: {{$ctrl.hero.name}}</span>",
	bindings:{
		hero:"="
	}
})

.controller("altcompctrl",function($scope){
	$scope.hero={
		name:"Alt Spawn"
	}
})
.component("altHeroDetail",{
	template:"<span>Name: {{$ctrl.hero.name}}</span>",           /* $cltr ! */
	bindings:{
		hero:"="
	}
})

$ vi myapp.html

	<div ng-controller="compctrl as ctrl">
		<b>Hero</b><br>
		<hero-detail hero="ctrl.hero"></hero-detail>
	</div>
	
	<div ng-controller="altcompctrl">
		<b>Alt Hero</b><br>
		<alt-hero-detail hero="hero"></alt-hero-detail>
	</div>

/ 1313	. 

/  directive, controller no $scope

/ ingewikkeld, niet doen	,

/ lees,
https://toddmotto.com/no-scope-soup-bind-to-controller-angularjs/

$ vi myapp.js

.controller("no$scopectrlwithdir",function(){
	this.name="foo"
	this.customer={
		name:"bar"
	}
})
.directive("thedir",function(){
	return {
		scope:false,
		template:`<h1>Made by altinheritdir!</h1>
				<h2>{{ctrl.name}}</h2>
				<h2>{{ctrl.customer.name}}`,
		controller:"no$scopectrlwithdir",
		controllerAs:"ctrl",
		
	}
})

$ vi myapp.html

	<div ng-controller="no$scopectrlwithdir as ctrl">
		<b>no $scope ctrl with dir</b><br>
		<thedir></thedir>
	</div>

/ 13	. 

/ directive vs. component

/ In html geen verschillen,
/ in js: in .directive staat een fct die een obj returns, in .component alleen een obj
/ bij .component moeten we $ctrl geven in de template, 
/ bij .directive scope, bij .component binding,

/ er is WH een groot verschil:
/ bij een directive zit het object in de scope, bij een component in de controller

/ in een template moeten we $ctrl use, in de controller:function(){... / } kunnen we this use,

$ vi myapp.js

.controller("directivectrl",function($scope){
	$scope.directive={
		name:"For directive"
	}
})
.directive("tag1",function(){
	return {
		template:"<span>Name: {{object.name}}</span>",         
		scope:{
			object:"="
		}
	}
})

.controller("componentctrl",function($scope){
	$scope.component={
		name:"For component"
	}
})
.component("tag2",{
	template:"<span>Name: {{$ctrl.object.name}}</span>",         /* $ctrl ! */
	bindings:{
		object:"="
	}
})

$ vi myapp.html

	<div ng-controller="directivectrl">
		<tag1 object="directive"></tag1>
	</div>
	
	<div ng-controller="componentctrl">
		<tag2 object="component"></tag2>
	</div>
	
	

/ 13	. 

/ als je directive of components met kleine letters noemt in js, bijv, 
.component("thedir",{...})
/ dan moet je in HTML ook kleine letters: <thedir></thedir>
/ maar als je camelCase in js: .component("theDir",{...})	, dan moet je - in HTML <the-dir></the-dir>

/ 13	.
<div ng-controller="ctrl">
	<component property="key" property2="key2"></component>
</div>

/ key en key2 zijn de namen van objecten uit de parent's model, die onder een evt. andere naam used kunnen worden in de template van de component
/ hetzelfde geldt voor directives.

/ Een directive of component zonder controller fct creates zelf niets in zijn model, alles komt van de parent,
/ als hij een isolate model heeft, dan geeft key de key van het object uit de parent's model dat in de model van de directive komt. 
/ dit object is dan te gebruiken in de template van de directive of component,

/ 13	. 

/ ng-repeat

$ vi myapp.js

.controller("repeatctrl",function($scope){
	$scope.names=["foo bar","eric j."]
})

$ vi myapp.html

	<!-- ng-repeat -->
	<div ng-controller="repeatctrl">
		<span ng-repeat="name in names">{{name}}</span>
	</div>

/ 13	. 

/ lees,
https://docs.angularjs.org/guide/component

/ we maken de heros list appl,

$ vi index.html
<hero-list></hero-list>

/ Geen attrs, dus de heroList's model krijgt geen properties van de heroApp model,
/ heroApp heeft geen controller, dus heeft een leeg model,

/ heroList heeft een controller, dus sets properties in zijn model, 
/ dus hero-detail haalt hier zijn properties vandaan, dit is de eerste keer dat we dit zien, vroeger haalde components met bindings zijn properties uit de model van de app,

/ 1313	.

/ eerst zonder ng-repeat, dus er is maar 1 hero, en <hero-list> is nu even een misnomer	,

/ we zien geen .controller in heroApp, 

$ vi index.html

<!DOCTYPE html>
<html >
<head>
	<script src="angular.js"></script>
	<script src="index.js"></script>
</head>
<body ng-app="heroApp" >
	<hero-list></hero-list>
</body>
</html>

$ vi index.js

angular.module("heroApp",[])
.component("heroList",{
	template:`
		<b>Heroes</b>
		<br>
		<hero-detail hero="eric"></hero-detail>
	`,
	controller:function($scope){
		$scope.eric={
			name:"Eric Velden",
			locate:"Train Utrecht",
		}
	}
})
.component("heroDetail",{
	template:`
		<span>{{$ctrl.hero.name}} {{$ctrl.hero.locate}}</span>
	`,
	controller:function($scope){
	},
	bindings:{
		hero:"=",
	},
})

/ geef:
file:///C:/Users/ervelden/my-ng-apps/angular1/index.html
/ we zien,
Heroes 
Eric Velden Train Utrecht

/ 1313	.


/ nu met ng-repeat,

/ we zien, 
		<hero-detail ng-repeat="hero in list" hero="hero"></hero-detail>     
/ we hadden,
		<hero-detail hero="eric"></hero-detail>
		
/ dus de hero uit de list is de hero rechts in hero="hero", 
/ we kunnen om te check,
		<hero-detail ng-repeat="hero_ in list" hero="hero_"></hero-detail>     

/ onveranderd:
$ vi index.html

<!DOCTYPE html>
<html >
<head>
<script src="angular.js"></script>
<script src="index.js"></script>
</head>
<body ng-app="heroApp" >
	<hero-list></hero-list>
</body>
</html>

$ vi index.js

angular.module("heroApp",[])

.component("heroList",{
	template:`
		<b>Heroes</b>
		<br>
		<hero-detail ng-repeat="hero_ in list" hero="hero_"></hero-detail>       / ! mag ook: ng-repeat="hero in list" hero="hero"
																			/ hero_ uit list, wordt hero in hero-detail's template
	`,
	controller:function($scope){
		$scope.list=[{
			name:"Foo Bar",
			locate:"Gee Str"
		},{
			name:"Eric Velden",
			locate:"Train Utrecht"
		},
		]
	}
})
.component("heroDetail",{
	template:`
		<hr>
		<div>
			Name: {{$ctrl.hero.name}}<br>
			Location: {{$ctrl.hero.name}}<br>
		
		</div>
		
	`,
	controller:function($scope){
	},
	bindings:{
		hero:"=",
	},
})

/ 1313	. 

/ button in hero-detail,

/ eerst een kleine test,

$ vi index.js

.component("heroDetail",{
	template:`
		<hr>
		<div>
			Name: {{$ctrl.hero.name}}<br>
			Location: {{$ctrl.hero.name}}<br>
			<button ng-click="$ctrl.delete()">Delete</button>
		</div>
	`,
	controller:function($scope){
		this.delete=function(){
			console.log("delete")
		}
	},
	bindings:{
		hero:"=",
	},
})

/ 131313	.

/ we zien in de console van chrome,
delete

/  nu de echte delete,


/ onveranderd,
$ vi index.html

<!DOCTYPE html>
<html >
<head>
	<script src="angular.js"></script>
	<script src="index.js"></script>
</head>
<body ng-app="heroApp" >
	<hero-list></hero-list>
</body>
</html>

$ vi index.js

angular.module("heroApp",[])

.component("heroList",{
	template:`
		<b>Heroes</b>
		<br>
		<hero-detail ng-repeat="hero_ in list" hero="hero_" on-delete="$ctrl.deleteHero(hero_)"></hero-detail> 
											
											/ deleteHero is in ctrl, dus $ctrl.deleteHero, en list is in de model ($scope), dus list
	`,
	controller:function($scope){
		var ctrl=this
		$scope.list=[{
			name:"Foo Bar",
			locate:"Gee Str"
		},{
			name:"Eric Velden",
			locate:"Train Utrecht"
		},
		],
		this.deleteHero=function(hero){
			var i=$scope.list.indexOf(hero)    / list is in $scope,
			if(i>=0){
				$scope.list.splice(i,1)
			}
		}
	}
})
.component("heroDetail",{
	template:`
		<hr>
		<div>
			Name: {{$ctrl.hero.name}}<br>                     / hero is in de controller, we moeten $ctrl use in templates
			Location: {{$ctrl.hero.name}}<br>
			<button ng-click="$ctrl.delete()">Delete</button>	/ delete is in de controller, daarom $ctrl.delete	,
		</div>
	`,
	controller:function($scope){
		this.delete=function(){
			this.onDelete({hero:this.hero})   / hero is in de controller, 
												/ onDelete(this.hero) is ook OK TODO
		}
	},
	bindings:{
		hero:"=",              / hero is in de controller
		onDelete:"&",
	},
})

/ 1313	. 

/ SAMENVATTING PROPERTIES

/ een hero-details gaat over een hero. Met attr hero="hero_" geeft je hero-details de hero, 

<hero-list>          / hier zit de list van hero's
	<hero-detail hero="hero_">    / hero-detail krijgt de hero van zijn parent, via die attribute
	
/ het staat ook goed in js, 
/ alles wat rechts van het ='s  staat in <hero-detail> staat hier , in heroList, links van = zijn properties in heroDetails (en dat moet ook omdat het properties van heroDetails zijn), waarvan gezegd wordt in bindings dat de value uit de parent komt; dat klopt, want de hero zit in heroList,

/ dus met bindings geeft je aan: de data is niet hier, maar in de parent, 
/ en net zo voor functies: onDelete is ook niet in hero-details, maar in de parent: on-delete="$ctrl.deleteHero(hero__)", dus deleteHero op de hero__, de hero waar de heroDetails op is; de functie is daar waar de data is, 

/ we zien bij de call op functies dat de args de property names (keys) zijn, hero__ en hero$, prop$, value$, 



.component("heroList",{
	template:`
		<hero-detail ng-repeat="hero_ in list" hero="hero_" on-delete="$ctrl.deleteHero(hero__)" on-update="$ctrl.updateHero(hero$,prop$,value$)"></hero-detail>
	`,
	controller:function($scope){
		$scope.list=[{
			name:"Foo Bar",
			locate:"Gee Str"
		},{
			name:"Eric Velden",
			locate:"Train Utrecht"
		},
		]
		this.deleteHero=function(hero){
			var i=$scope.list.indexOf(hero)
			if(i>=0){
				$scope.list.splice(i,1)
			}
		}
		this.updateHero=function(hero,prop,value){
			hero[prop]=value
		}
		
	}
})
.component("heroDetail",{
	template:`
		<hr>
		<div>
			Name: {{$ctrl.hero.name}}<br>
			Location: <editableField field-value="$ctrl.hero.name" field-type="text"  on-update="$ctrl.update('location',value)"</editable-field><br>													
			<button ng-click="$ctrl.delete()">Delete</button>
		</div>
	`,
	controller:function($scope){
		this.delete=function(){
			this.onDelete({hero__:this.hero})
		}
		this.update=function(prop,value){
			this.onUpdate({hero$:this.hero,prop$:prop,value$:value})
		}
	},
	bindings:{
		hero:"=",
		onDelete:"&",
		onUpdate:"&",
	},
})

/ Einde SAMENVATTING PROPERTIES

/ 1313	. 

/ Final 

$ vi index.html

<!DOCTYPE html>
<html >
<head>
<script src="angular.js"></script>
<script src="index.js"></script>
</head>

<body ng-app="heroApp" >
	<hero-list></hero-list>
</body>
</html>

$ vi index.js

angular.module("heroApp",[])

.component("heroList",{
	template:`
		<b>Heroes</b>
		<br>
		<hero-detail ng-repeat="hero_ in list" hero="hero_" on-delete="$ctrl.deleteHero(hero_)" on-update="$ctrl.updateHero(hero,prop,value)"></hero-detail>
	`,
	controller:function($scope){
		$scope.list=[{
			name:"Foo Bar",
			locate:"Gee Str"
		},{
			name:"Eric Velden",
			locate:"Train Utrecht"
		},
		]
		this.deleteHero=function(hero){
			var i=$scope.list.indexOf(hero)
			if(i>=0){
				$scope.list.splice(i,1)
			}
		}
		this.updateHero=function(hero,prop,value){
			hero[prop]=value
		}
		
	}
})
.component("heroDetail",{
	template:`
		<hr>
		<div>
			Name: {{$ctrl.hero.name}}<br>
			Location: <editable-field field-value="$ctrl.hero.location" field-type="text"  on-update="$ctrl.update('location',value)"></editable-field><br>													
			<button ng-click="$ctrl.delete()">Delete</button>
		</div>
	`,
	controller:function($scope){
		this.delete=function(){
			this.onDelete({hero:this.hero})
		}
		this.update=function(prop,value){
			this.onUpdate({hero:this.hero,prop:prop,value:value})
		}
	},
	bindings:{
		hero:"=",
		onDelete:"&",
		onUpdate:"&",
	},
})
.component("editableField",{
	template:`
		<span ng-switch="$ctrl.editMode">
			<input ng-switch-when="true" type="{{$ctrl.fieldType}}" ng-model="$ctrl.fieldValue">
			<span ng-switch-default>{{$ctrl.fieldValue}}</span>
		</span>
		<button ng-click="$ctrl.handleModeChange()">{{$ctrl.editMode?"Save":"Edit"}}</button>
		<button ng-if="$ctrl.editMode" ng-click="$ctrl.reset()">Reset</button>
		
	`,
	controller:function($scope){
		this.editMode=false
		this.$onInit=function(){
			this.fieldValueCopy=this.fieldValue
			if(!this.fieldType){
				this.fieldType="text"
			}
		}
		this.reset=function(){
			this.fieldValue=this.fieldValueCopy
		}
		this.delete=function(){
			this.onDelete({hero:this.hero})
		}
		this.handleModeChange=function(){
			if(this.editMode){
				this.onUpdate({value:this.fieldValue})
				this.fieldValueCopy=this.fieldValue
			}
			this.editMode=!this.editMode
		}
	},
	bindings:{
		fieldValue:"=",
		fieldType:"@?",
		onUpdate:"&",
	},
})







/ Einde ANGULAR1

/ PYTHON

/ kijk,
https://www.youtube.com/watch?v=9by46AAqz70&feature=push-u-sub&attr_tag=slJW8UBYzYGuPwmi-6
Jake VanderPlas

http://scikit-learn.org/stable/
/ machine learning

SciPy: Matlab
PyData: R					/ Pandas

/ 7	 .

Conda
	Miniconda
	Anaconda
/ we hebben nu ook een python installed, next die van de system,

$ conda install numpy scipy panda matplotlib jupyter

/ sandboxes, py2.7 is de name,
$ conda create -n py2.7 python=2.7 numpy=1.3 scipy
$ source activate python2.7
$ conda env list

/ 7	.

/ pip	,

/ pip installs python packages within every environment
/ conda  installs any package within conda environment: je kunt ook node of R install,
/ see blog post : Conda, myths and misconceptions : van jakevdp.github.io/blog/2016/08/25/conda-myths-and-misconceptions

$ conda install jupyter notebook
$ jupyter notebook
/ file based access in your browser

/ Python datascience handbook van Jake VanderPlas,

/ JupyterLab : IDE

/ 13	 .

$ conda install numpy
/ base of scikit or pandas

import numpy as np
x=np.arange(10)
print(x)
print(3*x+7)

M=np.random.rand(5,10)
u,s,v=np.linalg.svd(M)
print(s)

x=np.random.rand(100)
np.fft.fft(x)
print(X[:4])

/ 13	. 

/ schrijf geen for loops zoals in C, in CPython,  maar use : vectorization in NumPy	,

x=np.random.rand(10000000)

%%timeit
y=np.empty(x.shape)
for(i in range(len(x)):
	y[i]=2*x[i]+3
	
/ 1 loop, best of 3: 6.4 sec per loop

/ dit is CPython

/ Maar in NumPy:
	y=2*x+3
	
/ 10 loops, best op 3: 58.6 ms per loop

/ PyCon 2015 , Losing your loops, Fast numerical computation in Python

/ 13	. 

/ Labeled data

/ Pandas

/ Pandas:
/ DataFrame obj, which is like a NumPy array, but has labeled rows and columns,
/ and relational operators

import pandas as pd
df=pd.DataFrame({'x':[1,2,3],'y':[4,5,6]})
print(df)

  x y
0 1 4
1 2 5
2 3 6

/ in NumPy typed data and dense arrays, but in Pandas arrays have labeled rows and columns and indices	,

/ add a column:
df['x+2y']=df['x']+2*df['y']
print(df)

  x y x+2y
0 1 4 9
1 2 5 12
2 3 6 14

/ we zien de indices links,

/ 1313	. 

/ Pandas kan ook read from disk:

/ Horrible in NumPy, loadText, loadGenFromText functions,



# contents of data.csv
name, id
peter, 321
paul, 605
mary, 444

df=pd.read_csv('data.csv')
print(df)

  name  id
0 peter 321
1 paul 	605
2 mary 	444  

/ 1313	. 

/ SQL like, 

/ Kan NIET in SciPy,

df=pd.DataFrame({'id':['A','B','A','B'],'val':[1,2,3,4]})
print(df)
  id val
0 A 1
1 B 2
2 A 3
3 B 4

grouped=df.groupby('id').sum()
print(grouped)

id val
A 4
B 6
/ Geen indices? TODO

/ 13	. 

/ visualization, 

$ conda install matplotlib

/ matplotlib is replaced for MatLab,

import numpy as np
import matplotlib.pyplot as plt
x=np.linspace(0,10,1000)
plt.plot(x,np.sin(x))
plt.plot(x,np.cos(x))

/ 1313	.

/ visualization beyond Matplotlib...

/ visualization of data frames: use Pandas
Pandas offers a simplified matplotlib interface: Pandas produces Matplotlib plot, without using the Matplotlib api,

data=pd.read_csv('iris.csv')
data.plot.scatter('petalLength','petalWidth')  / dit zijn 2 column names
/ je ziet punten plotted, en de names langs de assen,

/ 1313	. 

/ another visualization beyond Matplotlib...

/ Seaborn for statistical data visualization

seaborn.pairplot(data, hue='species')

/ 1313	. 

/ another visualization beyond Matplotlib...

/ Bokeh: interactive visualization in the browser

p=figure()
p.circle(iris.petalLength, iris.sepalLength)
show(p)


/
 1313	. 

/ another visualization beyond Matplotlib...

/ Plotly: modern platform for data science

from plotly.graph_objs import Scatter
from plotly.offline import iplot
p=Scatter(x=iris.petalLength, y=iris.sepalLength, node='markers')
iplot({p})

 1313	. 

/ another visualization beyond Matplotlib...

/ plotnine: grammar of graphics in Python

/ not mature yet, but promising,

/ replacement of R ggplot library: gives ggplot api to give Matplotlib plots

(ggplot(mtcars,aes('wt','mpg',color='factor(gear)'))
+geom_point())
+stat_smooth(method='lm')
+facet_wrap('~gear'))

/ 1313	. 

/ There is also altera
/ TODO

/ 1313	. 

/ PyCon 2017 , Python's visualization landscape 
/ on youtube 
/ TODO

/ 13

/ numerical algorithms: SciPy

$ conda install scipy

/ wrapper around fortran's Netlib & related libraries

/ for physics,

scipy.sparse
scipy.interpolate
scipy.integrate
sicpy.spatial
scipy.stats
scipy.optimize
scipy.linalg
scipy.special
scipy.fttpack

import matplotlib.pyplot as plt
import numpy as np
from scipy import special,optimize

x=np.linspace(0,10,1000)
opt=optimize.minimize(special.j1,x0=3)
plt.plot(x,special.j1(x))
plt.plot(opt.x,special.j1(opt.x),marker='o',color='red')

/ min of first order Bessel function,

/ 13	. 

/ machine learning

$ conda install scikit-learn

/ Make some noisy 2D data for which we can fit a model:

x=10*np.random.rand(100)
y=np.sin(x)+0.1*np.random.randn(100)
plt.plot(x,y,'.k')

/ fit a line (curve TODO)

from sklearn.ensemble import RandomForestRegressor
model=RandomForestRegressor()

model.fit(x[:,np.newaxis],y)
xfit=np.linspace(-1,11,1000)
yfit=model.predict(xfit[:,np.newaxis])

plt.plot(x,y,'.k')
plt.plot(xfit,yfit)

/ change model implementation, 

from sklearn.svm import SVR       / verandert
model=SVR()                        / verandert

model.fit(x[:,np.newaxis],y)          / hier en hieronder hetzelfde
xfit=np.linspace(-1,11,1000)
yfit=model.predict(xfit[:,np.newaxis])

plt.plot(x,y,'.k')
plt.plot(xfit,yfit)

scikit-learn : provides a common api for the most common learning methods

/ 13	. 

/ parallel

$ conda install dask

/ in NumPy doe je,

import numpy as np
a=np.random.randn(1000)
b=a*4
b_min=b.min()
print(b_min)

/ in dask,

import dask.array as da
a2=ds.from_array(a,chunks=200)
b2=a2*4
b2_min=b2.min()
print(b2_min)

-------------
dask.array<amin-aggregate,shape=(),dtype=float64,chunksize=()>
b2_min.compute()
/ TODO

/ 13	. 

$ conda install numba

/ Numba is a bytecode compiler that can convert Python code to fast LLVM code targeting a CPU of GPU

/ big for loops moet je niet doen, use NumPy, maar sommige for loops kun je niet daar naartoe vertalen,

def fib(n):
	a,b=0,1
	for i in range(n):
		a,b=b,a+b
	return a
%timeit fib(1000) # ipython "timeit magic"
100 loops, best of 3: 2.73 ms per loop

/ voeg numba toe,

import numba
@numba.jit
def fib(n):
	a,b=0,1
	for i in range(n):
		a,b=b,a+b
	return a
%timeit fib(1000) # ipython "timeit magic"
100000 loops, best of 3: 6.06 microsec per loop

numba achieves this by doing just-in-time compilation (JIT) of the Python function into LLVM byte-code

/ used door DataShader
https://github.com/bokeh/datashader

/ 13	. 

$ conda install cython

/ cython is a superset of Python language that can be compiled to fast C code.

/ eerst kleine verbetering:

%%cython
def fib(n):
	a,b=0,1
	for i in range(n):
		a,b=b,a+b
	return a
%timeit fib(10000)

100 loops; best of 3 :2.42 ms per loop

/ Cython compiles the code to C, giving marginal speedups without even changing the code
/ 10% speedup

/ nu grote verbetering,
/ voeg types toe:

%%cython
def fib(n):
	cdef int a,b=0,1
	for i in range(n):
		a,b=b,a+b
	return a
%timeit fib(10000)

100000 loops, best of 3 : 5.93 microsec per loop
/ 500% speedup

/ Using cython's syntactic sugar to specify types for the compiler leads to much better performance
/ libsvm in scikit-learn is een C library, cython is used to interface those C libraries


/ Einde PYTHON


/ JENKINS

/ we download jenkins-2.60.3.zip,
/ als we deze extract, zien we jenkins.msi, we kunnen direct hierop click	,
C:\Program Files (x86)\Jenkins\

/ we komen in 
http://localhost:8080/login?from=%2F

Unlock Jenkins
To ensure Jenkins is securely set up by the administrator, a password has been written to the log (not sure where to find it?) and this file on the server: 
C:\Program Files (x86)\Jenkins\secrets\initialAdminPassword
Please copy the password from either location and paste it below.
f1fa391abebb477b9530f48ee48da9b2
/ de file C:\Program Files (x86)\Jenkins\secrets\initialAdminPassword is removed	,

/ we hebben suggested plugins installed, 
/ TODO Hoe kunnen we zien welke dat zijn?

/ Create First Admin User
admin
viLange17
Eric Van der Velden
eric.vander.velden@sogeti.com

We start Jenkins.
afmelden
/ log weer in met 
admin
viLange17












/ Einde JENKINS

/ PIP

https://www.youtube.com/watch?v=jnpC_Ib_lbc&t=202s
https://www.youtube.com/watch?v=U2ZN104hIcc

$ pip help install

$ pip search Pympler
$ pip install Pympler
$ pip list
/ list all installed packages

/ $ pip list shows also the version number of the packages.
/ how can you know this is the latest version?

$ pip list --outdated 
/ of
$ pip list -o
setuptools (Current: 12.0.5 Latest: 15.0 
/ doe daarom :
$ pip install -U setuptools

$ pip freeze
Pympler==0.4
/ waarom staat hier setuptools en pip niet bij?
/ TODO
$ pip freeze >requirements.txt

/ Iemand anders kan de packages in deze requirements.txt install:
$ pip install -r requirements.txt

$ pip freeze --local | grep -v '^\-e' | cut -d = -f 1 | xargs -n1 pip install -U

















/ Einde PIP

/ VIRTUALENV

/ See
https://www.youtube.com/watch?v=N5vscPTWKOk

/ seperate different python environments for different projects,
/ different projects maybe use different versions of django,
/ je kunt niet een global django upgrade, want verschillende projects hebben misschien een zekere versie van django nodig,

$ pip list
/ lists global packages

$ mkdir Environments
$ cd !$
$ virtualenv project1_env
New python executable in project1_env/bin/python
Installing setuptools, pip...done.
$ source project1_env/bin/activate
/ we zijn nu in deze env,
$ which python
.../project_env1/bin/python
(project_env1)
$ pip list
pip (6.1.1)
setuptools (15.0)
(project1_env)
$ pip install numpy pytz psutil
$ pip freeze --local >requirements.txt
$ ls 
project_env1	requirements.txt 

/ we willen terug naar de global env,
$ deactivate
/ TODO which deactivate

/ de prompt (project1_env)_ is weg,
$ which python
/Users/coreyschafer/anaconda/bin/python

/ delete de env,
/ we hebben al deactivate, dus we kunnen,
$ rm -rf project_env1

/ maak env met onze requirements die we nog hebben,
$ ls 
requirements.txt
$ virualenv -p /usr/bin/python2.6 py26_env						/ weer een andere dan de anaconda van boven,
$ source py26_env/bin/activate
$ which python
.../py26_env/bin/python
$ python --version
Python 2.6.9
$ pip install -r requirements.txt
$ deactivate

/ you do not want to have your project files in the environments like py26_env, omdat je ze wh meeneemt naar een andere env,

$ pip install virtualenv





/ Einde VIRTUALENV

/ ANACONDA

/ anaconda is data-science platform , en is van Continuum Analytics
/ heeft python, conda (package manager, to manage environments), en numpy, scipy, en jupyter notebooks
/ er is ook Miniconda, een kleine Anaconda

/ na install
$ python
Python 3.5.2 | Anaconda 4.1.1 (x86_64) | 
>>> import numpy
>>> import matplotlib
>>> exit()


$ pip
/ we zien alle packages die met anaconda meekwamen. 
/ maar anaconda heeft ook conda, hiermee kun je niet python packages install,
$ conda --help
$ conda list
scipy 		0.17.1		np111py35_1
setuptools	23.0.0		py35_0
simplegeneric 0.8.1		py35_1
tk				8.5.18	0
xz				5.2.2	0
yaml			0.1.6	0
zlib			1.2.8	3

/ alle packages met py35 er in, zijn die we ook zien met pip,
/ TODO welke zijn installed met anaconda?
/ je kunt met pip of conda install doen,

/ conda kan env's maken, net als virtualenv, en kan meer,

$ conda create --name my_app flask sqlalchemy
/ it also installs tk, wheel, xz, zlib: non python packages,

/ on Windows
> activate my_app
/ on mac,
$ source activate my_app
/ we zien de prompt
(my_app)
$ pip list
/ we zien alleen local packages,
$ which python
.../my_app/bin/python
(my_app)

/ on windows
> deactivate
/ on mac
$ source deactivate

/ maak env die python 2.7 heeft,
$ conda create --name my_app27 python=2.7 flask sqlalchemy

$ source activate my_app27
$ python
Python 2.7.12 | Continuum Analytics | ...       / omdat we met conda hebben install, komt deze python ook uit Anaconda,
$ source deactivate

/ view env's 

$ conda env list
my_app					/Users/coreyschafer/anaconda/envs/my_app
my_app27				/Users/coreyschafer/anaconda/envs/my_app27
root			* 		/Users/coreyschafer/anaconda						/ * is activated

$ conda remove --name my_app --all

$ jupyter notebook





















/ Einde ANACONDA


/ VAADIN

https://www.youtube.com/watch?v=Lwhg3NrOLVA&t=21s


/ Einde VAADIN

/ ENCRYPTION

https://phys.org/news/2017-08-quantum-mechanics.html

/ Einde ENCRYPTION

/ DATA SCIENCE

https://www.datanami.com/2017/07/21/taking-data-scientist-data-science/


/ Einde DATA SCIENCE

/ PHYSICS

https://phys.org/news/2017-08-quantum-mechanics.html

/ Einde PHYSICS

/ MACHINE LEARNING

http://scikit-learn.org/stable/
https://www.continuum.io/downloads			/ anaconda
https://pandas.pydata.org/pandas-docs/stable/cookbook.html
https://github.com/jvns/pandas-cookbook
http://pandas.pydata.org/
http://nbviewer.jupyter.org/github/jvns/pandas-cookbook/blob/master/cookbook/Chapter%201%20-%20Reading%20from%20a%20CSV.ipynb


/ Einde MACHINE LEARNING

/ SCALA

/ zoek in coursera naar odersky,
https://www.coursera.org/learn/progfun1
/ click Enroll
/ sign up with Facebook
https://www.facebook.com/v2.4/dialog/oauth?app_id=823425307723964&channel_url=https%3A%2F%2Fstaticxx.facebook.com%2Fconnect%2Fxd_arbiter%2Fr%2F0sTQzbapM8j.js%3Fversion%3D42%23cb%3Df3abca8e86ba0a%26domain%3Dwww.coursera.org%26origin%3Dhttps%253A%252F%252Fwww.coursera.org%252Ff2496c5892dc198%26relation%3Dopener&client_id=823425307723964&display=popup&domain=www.coursera.org&e2e=%7B%7D&locale=en_US&origin=1&redirect_uri=https%3A%2F%2Fstaticxx.facebook.com%2Fconnect%2Fxd_arbiter%2Fr%2F0sTQzbapM8j.js%3Fversion%3D42%23cb%3Df383b13b408725%26domain%3Dwww.coursera.org%26origin%3Dhttps%253A%252F%252Fwww.coursera.org%252Ff2496c5892dc198%26relation%3Dopener%26frame%3Df8ad7bc737af4c&response_type=token%2Csigned_request&return_scopes=true&scope=public_profile%2Cemail%2Cuser_friends%2Cuser_education_history%2Cuser_work_history%2Cuser_birthday&sdk=joey&version=v2.4

Coursera ontvangt:
je openbaar profiel, vriendenlijst, e-mailadres, geboortedatum, arbeidsverleden en opleidingen. 
Dit bewerken
Doorgaan als Eric

You already have an account




/ Einde SCALA


Samsung Galaxy S7 Edge 32GB 4G Duos Black Onyx
Samsung Galaxy S8 Plus 64GB 4G Duos Midnight Black

/ TELEFOON

https://www.tele2.nl/mobiel/telefoons/samsung/galaxy-s7-edge-specificaties/?gclid=Cj0KCQjwlf_MBRDUARIsAD8Gj8CKjA5HHdPlx1SD6HBsUWMAaCN-LjF-bvXNHyfhy2_U45_C0VrB7AsaAoRbEALw_wcB&dclid=CLXx2Mbw8dUCFVCYdwodVAwFHg
https://www.tele2.nl/mobiel/telefoons/samsung/galaxy-s8-specificaties/?gclid=Cj0KCQjwlf_MBRDUARIsAD8Gj8DLAKlBHEkawIDYgV2K2Sdgcfb6Lo9LVyVrNqrohLf0yLaPJz7idzEaAp1wEALw_wcB&dclid=CJyo1Ovv8dUCFY4g0wodpCwKHw


/ Einde TELEFOON

/ JAVASCRIPT

/ lees,
https://stackoverflow.com/questions/18128323/if-you-are-not-using-a-dot-in-your-angularjs-models-you-are-doing-it-wrong

/ property in child object shadows the one in the parent,

$ vi inherit_in_js.html

<!DOCTYPE html>
<html >
<head>

<script>
(function(){
var parent=function(){
	this.x=7
	this.o={
		x:21
	}
}
var child=function(){
	this.y=13
}
child.prototype=new parent
var obj=new child
obj.x=4
obj.o.x=27
console.log(obj.x)
})()

</script>
</head>
<body>
</body>
</html>

/ we zien 


obj:child
	x:4
	y:13
	__proto__:parent
		o:{x: 27}
		x:7
		__proto__:Object

/ dus 
obj.x=4 maakt een property in de child, net zo goed als obj.o={} zou doen, maar dat doen we niet,
obj.o.x=27 creates geen object o, maar modifies obj.o, en die komt uit de parent,
/ als we zouden doen: obj.p.x=37, dan ERR: cannot set property x of undefined. 



/ Einde JAVASCRIPT

/ OAUTH

/ kijk,
https://www.youtube.com/watch?v=CPbvxxslDTU



/ Einde OAUTH

/ 13	 .

/ data science: Sap business objects:
https://www.ilionx.com/nl/contentpagina/sap-business-objects?gclid=Cj0KEQjwz_TMBRD0jY-RusGilOYBEiQAN-TuFHq7fKwBWDr5LjQ5eRYzBSS9-bbSI9zUwY8_zuF1-7YaAqZm8P8HAQ

/ 13	. 

/ Rath, Niranjan
jsonview: https://github.com/typicode/json-server
https://docs.oracle.com/cd/E24329_01/web.1211/e24376/ds_annotation.htm#JDBCP1043 
https://www.payara.fish/
https://stackoverflow.com/questions/266322/is-there-a-limit-to-the-length-of-a-get-request


/ 13	. 

/ VISUAL STUDIO, JAVASCRIPT

/ 

/ 7	. 

/ module.exports vs exports

/ Lees,
https://medium.freecodecamp.org/node-js-module-exports-vs-exports-ec7e254d63ac

/ we maken,
C:\Users\ervelden\my-node-examples\calc>

/ Lees,
https://www.wolfe.id.au/2014/02/01/getting-a-new-node-project-started-with-npm/


/ in visual studio code, 
File, Open folder
/ kies de calc dir hierboven,

$ vi calculator.js


var calc={
    add:function(a,b){
        return a+b
    }
}
module.exports=calc

/ of, 

module.exports={
    add:function(a,b){
        return a+b
    }
}

/ of, 

module.exports.add=function(a,b){
    return a+b
}

/ of, 

module.exports.add=(a,b)=>a+b

$ vi use-calculator.js

const calculator=require('./calculator.js')
console.log(calculator.add(2,2))

/ 7	. 

/ arrow functions

/ lees,
https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions
https://www.vinta.com.br/blog/2015/javascript-lambda-and-arrow-functions/



/ 7	. 

/ strict mode

/ lees,
https://www.w3schools.com/js/js_strict.asp

/ in visual studio code,

/ "use strict" wil beschermen tegen het maken van global vars.

/ 13	. 

$ vi strict.js

"use strict"
x=3.14
console.log(x)
/ met "use strict" ERR: ReferenceError: x is not defined
/ zonder "use strict" OK,

"use strict"
var x=3.14
console.log(x)
/ OK

/ 13	. 

/ hetzelfde voor functies,

$ vi strict.js

"use strict"
fun=function(){
	console.log("fun")
}
fun()
/ met "use strict", ERR: fun is not defined
/ zonder "use strict", OK

"use strict"
var fun=function(){
	console.log("fun")
}
fun()

/ 13	. 

/ dit heeft niets met "use strict" te maken:

/ 1313	. 

/ bij functies, 

fun()
fun=function(){
    console.log("fun")
}
/ ERR: function fun is not defined,


fun=function(){
    console.log("fun")
}
fun()
/ OK, zonder "use strict"

/ 1313	. 

console.log(x)
var x=3.14
/ prints: undefined
/ bij functies ERR

x=3.14
console.log(x)
/ zonder "use strict" OK, 

/ 13	.

/ "use strict" kan ook binnen een functie, 

x=3.14               // OK, want niet "use strict"
console.log(x)

fun=function(){         // OK, want niet "use strict"
    "use strict"
    y=3.14				// ERR, want "use strict", OK is: var y=3.14, y is een global var, en "use strict" wil daartegen beschermen,
    console.log(y)
}
fun() 

/ 7	.

/ lees,
https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions

/ 13	. 

function foo(){
    this.age=77
    setInterval(function(){
        this.age++								// this is een Timeout 
        console.log(this.age)					// NaN
    },3000)
}
new foo()

/ 13	. 

function bar(){
    this.age=77
    that=this
    setInterval(function(){
        this.age++
        console.log(this)
        console.log(this.age)
    },3000)
}
new bar()
Timeout {
  _called: true,
  _idleTimeout: 3000,
  _idlePrev: null,
  _idleNext: null,
  _idleStart: 3160,
  _onTimeout: [Function],
  _timerArgs: undefined,
  _repeat: 3000,
  age: NaN }
/ dus we zien dat this.age wel wordt set, maar is NaN
/ TODO

/ 13	

/ In a node script this===module.exports

/ lees,

https://howtonode.org/what-is-this
https://stackoverflow.com/questions/22770299/meaning-of-this-in-node-js-modules-and-functions         <--

/ 1313. 

$ vi calculator.js

console.log(this===module.exports)  / true
module.exports={                    / we replace module.exports with another object
    add:function(a,b){
        return a+b
    },
    min:function(a,b){
        return a-b
    }
}
console.log(this===module.exports)  / false

/ 1313	. 

/ we kunnen ook module.exports aanpassen,

console.log(this===module.exports)

module.exports.add=function(a,b){return a+b}
module.exports.min=function(a,b){return a-b}

console.log(this===module.exports)                 / true

/ 1313	. 

/ we kunnen ook,

this.add=function(a,b){return a+b}
this.min=function(a,b){return a-b}

/ maar we kunnen NIET, 

this={               
    add:function(a,b){
        return a+b
    },
    min:function(a,b){
        return a-b
    }
}

/ 1313	. 

/ use-calculator.js doet:

const calculator=require('./calculator.js')     /= module.exports uit calculator.js, dus {add:...,min:...}




/ 13	. 



/ 13	. 

function bar(){
    this.age=77
    that=this					// ERR met "use strict" , that is een global 	, met var that=this is that een local
    setInterval(function(){
        that.age++
        console.log(that)		// bar{age:78}, bar{age:79}, ...
        console.log(this.age)	// OK, 78, 79, ...
    },3000)
}
new bar()

/ 13	. 

function baz(){
    this.age=77
    setInterval(()=>{
        this.age++
        console.log(this.age)	
    },3000)
}
new baz()



/ 13	. 

/ met een lambda fct 

/ lees, 
https://www.vinta.com.br/blog/2015/javascript-lambda-and-arrow-functions/

var baz1=function(a,b){return a+b}
var baz2=(a,b)=>a+b
var baz3=(a,b)=>{return a+b}

console.log(baz1(2,3))
console.log(baz2(2,3))
console.log(baz3(2,3))
/ OK

/ Maar er zijn verschillen, 

/ 13	. 
https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions

var baz4=function(){return this}
console.log(baz4()===global)						/ true

var baz4=function(){"use strict";return this}
console.log(baz4()===global)						/ false, is baz4()===undefined

var baz5=()=>{"use strict";return this}				/ {}, met en zonder "use strict" TODO Wat is {}
console.log(baz5())

/ 13	. 

var foo1=function(a){
    this.a=a
    console.log(this)
}
var obj=new foo1(7);
foo1.apply(obj,[9])

/ we zien ,
foo1 { a: 7 }
foo1 { a: 9 }

/ 1313.

var foo2=(a)=>{
    this.a=a
    console.log(this)
}
var obj=new foo2(8) 		
/ ERR: foo2 is not a constructor

/ 13	. 

/ tussen {...} moet er altijd return staan, dus OK zijn:

module.exports.min=function(a,b){return a-b}
module.exports.mult=(a,b)=>a*b
module.exports.mult=(a,b)=>{return a*b}


/ 13	.

/ In een arrow function f is this bepaald. Dus met f.call(o,...) wordt o genegeerd, this is al bepaald. Hetzelfde voor f.apply,

/ lees,
https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions

$ vi strict.js

this.x=13
var gee=(a,b)=>this.x*a+b
console.log(gee(2,5))
console.log(gee.call({x:15},2,5))

/ we zien 
31
31

/ 13	. 

/ een arrow functie heeft geen arguments zoals normaal, als er toevallig een arguments is in zijn execution env, die hij insluit, dan neemt hij die,


var arguments={0:'bar',1:13}
console.log(arguments)       / { '0': 'bar', '1': 13 }
var hee=function(a,b){
    return arguments
}

console.log(hee('foo',7))     / { '0': 'foo', '1': 7 }
var hee2=(a,b)=>arguments
console.log(hee2('foo',7))      / { '0': 'bar', '1': 13 }

/ 13	. 

/ import , export in ts,

/ lees,
http://2ality.com/2014/09/es6-modules-final.html
https://developer.mozilla.org/nl/docs/Web/JavaScript/Reference/Statements/import
https://developer.mozilla.org/nl/docs/Web/JavaScript/Reference/Statements/export
https://spring.io/understanding/javascript-modules
http://exploringjs.com/es6/ch_modules.html
https://addyosmani.com/writing-modular-js/
https://www.tutorialspoint.com/es6/es6_modules.htm


/ in eigen node example, calculator,

/ het zien er toch naar uit dat in node exports===module.exports, en dat we dus ook exports kunnen use,

$ vi calculator.js

this.add=function(a,b){return a+b}
module.exports.min=function(a,b){return a-b}
exports.mult=(a,b)=>a*b

/ als we use-calculator.js in browser, via calculator.html die <script src="use-calculator.js"></script> doet, en we geven
file:///C:/Users/ervelden/my-node-examples/calc/calculator.html
/ dan zien we :
require is not defined
/ TODO (browserify?)

/ In Angular write je in ts import/export, en dat wordt compile naar require/exports,
/ ze hebben node ingebouwd, dus met Angular werkt require wel OK
/ TODO


/ 13	. 

/ lees, 
http://adrianmejia.com/blog/2016/08/12/Getting-started-with-Node-js-modules-require-exports-imports-npm-and-beyond/

	
You can think of each module as self-contained function like the following one:

Module Wrapper
(function (exports, require, module, __filename, __dirname) {
  module.exports = exports = {};
  // Your module code ...
});

/ WH we kunnen 
exports.f=...
/ want nu is er ook module.exports.f

/ maar we moeten NIET 
exports={f:...}, want omdat eerder module.exports=exports={}, komt f niet in module.exports, alleen in exports, die reset wordt met een ander object.

/ 13	. 

/ typescript

/ lees,
https://www.typescriptlang.org/



































/ Einde VISUAL STUDIO, JAVASCRIPT

/ DEEPLEARNING.JS

https://research.googleblog.com/2017/08/harness-power-of-machine-learning-in.html?utm_campaign=devshow_series_deeplearnjs_081817&utm_source=gdev&utm_medium=yt-desc

/ kijk, suggestie van google,
https://www.youtube.com/watch?v=-eyhCTvrEtE
/ google: deep learning backpropagation,
http://neuralnetworksanddeeplearning.com/chap2.html
https://medium.com/towards-data-science/back-propagation-414ec0043d7
-> (follow, sign in with twitter)
https://api.twitter.com/oauth/authenticate?oauth_token=r1WLzwAAAAAAHVn4AAABXfnEm4M&force_login=false
Authorize Medium to use your account?
This application will be able to:
Read Tweets from your timeline.
See who you follow, and follow new people.
Update your profile.
Post Tweets for you.
See your email address.
Will not be able to:
Access your direct messages.
See your Twitter password.

/ login in twitter met 
ejvandervelden
ericjvandervelden@gmail.com

/ 7	 

/ Kijk,
https://www.youtube.com/watch?v=EveYfHKXvfc

restricted  boltzmann machine 
Pre-training deep neural networks by supervised learning
autoencoders
nonlinear pca (component analysis)
deep boltzmann machines
convolutional



/ lees,
https://stats.stackexchange.com/questions/163600/pre-training-in-deep-convolutional-neural-network
http://ufldl.stanford.edu/tutorial/unsupervised/Autoencoders/
https://arxiv.org/pdf/1402.0119.pdf

/ Einde DEEPLEARNING.JS

/ HIBERNATE

/ 7	.

/ google: hibernate project with gradle

/ lees,
http://www.concretepage.com/hibernate-4/hibernate-4-annotation-example-with-gradle
http://www.concretepage.com/jsf-2/jsf-2-hibernate-4-integration-example-using-gradle
https://stackoverflow.com/questions/41683388/how-to-get-spring-hibernate-restful-web-service-and-gradle-working-together


/ 7	. 


C:\Users\ervelden\hibernate>git clone https://github.com/hibernate/hibernate-orm.git

/ lees,
https://docs.jboss.org/hibernate/orm/5.0/quickstart/html/#tutorial-native
/ we download,
 hibernate-tutorials.zip
 
 / we extract deze in
C:\Users\ervelden\eclipse\workspace-jee-hibernate\hibernate-tutorials> dir
18-01-2017  23:34    <DIR>          annotations
18-01-2017  23:34    <DIR>          basic
19-01-2017  00:14    <DIR>          entitymanager
19-01-2017  00:14    <DIR>          envers
18-01-2017  23:34    <DIR>          osgi
18-01-2017  23:34             2.619 pom.xml

/ 7	.			   
			   
 / we hebben ook een spring boot project create, 
 
 C:\Users\ervelden\eclipse\workspace-java-oxygen\hibernate>spring init --dependencies jpa,jdbc,postgresql --build gradle --extract
 / TODO
 
 / 7. 
 
 / tot nu toe:
 / jee-oxygen op workspace-java-oxygen: rest, spring boot, 
 
/ voor hibernate maken we workspace-jee-hibernate
/ en we extract hibernate-tutorials.zip in 
 C:\Users\ervelden\eclipse\workspace-jee-hibernate\hibernate-tutorials>
 / in deze dir is een pom.xml
 / we import als Maven project deze dir, 
/ we zien in eclipse de projects,
22-08-2017  15:05    <DIR>          annotations      / hibernate-tutorial-annotations
22-08-2017  15:05    <DIR>          basic              / hibernate-tutorial-hbm
22-08-2017  15:05    <DIR>          entitymanager     / hibernate-tutorial-entitymanager
22-08-2017  15:05    <DIR>          envers

/ in osgi
22-08-2017  15:05    <DIR>          managed-jpa
22-08-2017  15:05    <DIR>          unmanaged-jpa
22-08-2017  15:05    <DIR>          unmanaged-native

/ in eclipse zien we 
hibernate-tutorials
/ dit is de root dir, met de root pom.xml


 
 

 
 



/ Einde HIBERNATE

/ H2

/ de windows installer:
C:\Program Files (x86)\H2

/ server,
C:\Users\ervelden\eclipse\workspace-java-oxygen\hibernate> java -classpath "\Program Files (x86)\H2\bin\h2-1.4.196.jar" org.h2.tools.Server -tcp
TCP server running at tcp://10.234.18.225:9092 (only local connections)

/ client,
C:\Users\ervelden\h2>java -classpath "\Program Files (x86)\h2\bin\h2-1.4.196.jar" org.h2.tools.Shell
/ Hiermee maak je een db, ook de username, password,

Welcome to H2 Shell 1.4.196 (2017-06-10)
Exit with Ctrl+C
[Enter]   jdbc:h2:~/test
URL       jdbc:h2:./test
[Enter]   org.h2.Driver
Driver
[Enter]
User      sa
[Enter]   Hide
Password  sa
Connected
Commands are case insensitive; SQL statements end with ';'
help or ?      Display this help
list           Toggle result list / stack trace mode
maxwidth       Set maximum column width (default is 100)
autocommit     Enable or disable autocommit
history        Show the last 20 statements
quit or exit   Close the connection and exit

/ je kunt autocommit set met 
autocommit
/ of
set autocommit

sql>  autocommit false
Autocommit is now false
sql> set autocommit true;
(Update count: 0, 0 ms)
sql> autocommit
Usage: autocommit [true|false]
Autocommit is now true
sql> autocommit false
Autocommit is now false


/ Einde H2

package com.example.demo;

import org.junit.Test;
import org.junit.runner.RunWith;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.test.context.junit4.SpringRunner;

@RunWith(SpringRunner.class)
@SpringBootTest
public class DemoApplicationTests {

	@Test
	public void contextLoads() {
	}

}

/ OPEN in CHROME

/ m2mobi : use RxJava van Netflix
https://www.m2mobi.com/
https://medium.com/netflix-techblog/reactive-programming-in-the-netflix-api-with-rxjava-7811c3a1496a
https://spring.io/blog/2016/07/28/reactive-programming-with-spring-5-0-m1
https://angular.io/guide/template-syntax
https://jenkins.io/doc/book/getting-started/installing/
https://www.coursera.org/learn/neural-networks-deep-learning
https://www.youtube.com/watch?v=CJT8wPnmjTM                   / OTP in Elixer,
https://www.youtube.com/watch?v=F-7MX_Az6_4								/ Elixer's web framework
https://docs.angularjs.org/api/ng/service/$compile#directive-definition-object
https://gist.github.com/toddmotto/5b4de6c777d3e446e6410fdadb824522
https://www.youtube.com/user/angularjs
https://stackoverflow.com/questions/37818740/use-of-symbols-and-in-custom-directives-scope-binding-angula
https://stackoverflow.com/questions/12419619/whats-the-difference-between-ng-model-and-ng-bind
https://www.w3schools.com/angular/angular_directives.asp
https://github.com/angular/angular.js/wiki/Understanding-Scopes
https://coryrylan.com/blog/introduction-to-e2e-testing-with-the-angular-cli-and-protractor
http://howtodoinjava.com/spring/spring-restful/spring-rest-hello-world-xml-example/
https://askubuntu.com/questions/299870/http-post-and-get-using-curl-in-linux
https://www.youtube.com/watch?v=-eyhCTvrEtE									/ Ng with Hinton
http://www.concretepage.com/spring-boot/spring-boot-xml-configuration-example
http://www.javainterviewpoint.com/spring-rest-hello-world-example/
https://docs.spring.io/spring/docs/current/spring-framework-reference/htmlsingle/#mvc-ann-requestmapping-uri-templates
https://www.youtube.com/watch?v=EDB24onZxsA			/ reactive programming Josh Long
https://docs.spring.io/spring-boot/docs/current/reference/html/using-boot-using-springbootapplication-annotation.html
http://localhost:8080/reservations
https://eclipsesource.com/blogs/tutorials/egit-tutorial/           / Spring Data JPA
https://github.com/querydsl/apt-maven-plugin
https://github.com/spring-projects/spring-data-book/tree/1.0-book-release   / TODO


/ Deze houden we,
https://www.youtube.com/watch?v=9by46AAqz70&feature=push-u-sub&attr_tag=slJW8UBYzYGuPwmi-6
https://www.youtube.com/watch?v=3TT60EaeAHQ&list=PLG2vLZDgC_ZtmIBB5ERZE4EmMS__n_9GV&index=11
file:///C:/Users/ervelden/my-ng-apps/angular1/index.html
https://docs.angularjs.org/guide/component
mhttps://www.youtube.com/watch?v=CPbvxxslDTU
https://angular.io/tutorial/toh-pt2
https://docs.jboss.org/hibernate/orm/5.0/quickstart/html/#tutorial-native
https://spring.io/guides/tutorials/bookmarks/
https://medium.com/towards-data-science/back-propagation-414ec0043d7
https://www.linkedin.com/learning/building-a-full-stack-app-with-angular-2-plus-and-spring-boot/working-with-the-exercise-files
https://www.youtube.com/watch?v=sbPSjI4tt10&t=1859s       / Getting started with Spring Boot, Josh Long
https://spring.io/guides/gs/accessing-data-jpa/#initial
https://github.com/pkainulainen/spring-data-jpa-examples


/ Einde OPEN IN CHROME

/ JAVA LAMBDAS

/ jee-oxygen op workspace-jee-java8

/ lees,
https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html

/ lees,
https://docs.oracle.com/javase/tutorial/displayCode.html?code=https://docs.oracle.com/javase/tutorial/java/javaOO/examples/RosterTest.java
https://docs.oracle.com/javase/tutorial/displayCode.html?code=https://docs.oracle.com/javase/tutorial/java/javaOO/examples/Person.java

/ gradle project lambdas
/ my.own.Main class,

/ 13	. 

/ gradle test prints,

/ GRADLE
/ lees,
http://mrhaki.blogspot.nl/2014/10/gradle-goodness-show-standard-out-or.html
https://stackoverflow.com/questions/40954017/gradle-how-to-get-output-from-test-stderr-stdout-into-console

$ vi build.gradle
dependencies {
 
	compileOnly 'org.projectlombok:lombok:1.16.18'
    testImplementation 'junit:junit:4.12'
}
test {
    testLogging {
        // Make sure output from
        // standard out or error is shown
        // in Gradle output.
		dependsOn cleanTest              // we zien de prints altijd, 
        showStandardStreams = true
 
        // Or we use events method:
        // events 'standard_out', 'standard_error'
 
        // Or set property events:
        // events = ['standard_out', 'standard_error']
 
        // Instead of string values we can
        // use enum values:
        // events org.gradle.api.tasks.testing.logging.TestLogEvent.STANDARD_OUT,
        //        org.gradle.api.tasks.testing.logging.TestLogEvent.STANDARD_ERROR,
    }
}

/ 13	. 

/ Approach 1: Create Methods That Search for Members That Match One Characteristic

$ vi Roster.java

package my.own;

import java.util.List;

public class Roster {

	public static void printPersonsOlderThan(List<Person>roster,int age) {
		for(Person person:roster) {
			if(person.getAge()>=age) {
				person.printPerson();
			}
		}
	}

}

$ vi Person.java
package my.own;

import java.time.LocalDate;
import java.time.chrono.IsoChronology;
import java.util.logging.Logger;

import lombok.AllArgsConstructor;
import lombok.Data;
import lombok.NoArgsConstructor;

@Data
@AllArgsConstructor
@NoArgsConstructor
class Person{
	String name;
	LocalDate birthDay;
	Sex gender;
	String emailAddress;
	
	private static Logger logger=Logger.getLogger("Person");

	public int getAge() {
		return birthDay.until(IsoChronology.INSTANCE.dateNow()).getYears();
	}
	public void printPerson() {
		logger.info(this.toString());
	}
		
}

package my.own;

public enum Sex{
	MALE,FEMALE
}


$ vi RosterTest.java
package my.own;

import java.time.LocalDate;
import java.time.chrono.IsoChronology;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;

import org.junit.Assert;
import org.junit.Before;
import org.junit.Test;

public class RosterTest {
	
	private List<Person> roster;
	private LocalDate localDate;
	private LocalDate localDate2;


	@Before
	public void init() {
		roster=new ArrayList<Person>();
		
		localDate=LocalDate.now();
		// equals
		localDate2=IsoChronology.INSTANCE.dateNow();
	
		Person person1=new Person("Foo1",localDate.minusYears(1),Sex.FEMALE,"foo1@home.nl");
		Person person2=new Person("Foo2",localDate.minusYears(2),Sex.FEMALE,"foo2@home.nl");
		Person person3=new Person("Foo3",localDate.minusYears(3),Sex.FEMALE,"foo3@home.nl");
		Person person4=new Person("Foo4",localDate.minusYears(4),Sex.FEMALE,"foo4@home.nl");
		roster=Arrays.asList(person1,person2,person3,person4);
	}
	
	@Test
	public void testIsoChronology() {
		Assert.assertEquals(localDate, localDate2);
	}
	
	@Test
	public void testLocalDates() {
		LocalDate min1=localDate.minusYears(1);
		LocalDate min2=localDate.minusYears(2);
		LocalDate min3=localDate.minusYears(3);
		LocalDate min4=localDate.minusYears(4);
		
		int age1=min1.until(localDate).getYears();
		int age2=min2.until(localDate).getYears();
		int age3=min3.until(localDate).getYears();
		int age4=min4.until(localDate).getYears();
		
		Assert.assertTrue(age3>=3);
	}
	
	@Test
	public void test() {
		Roster.printPersonsOlderThan(roster, 2);
	}

}

/ als we de test task run, zien we ,

my.own.RosterTest > test1 STANDARD_ERROR
    Aug 30, 2017 3:56:47 AM my.own.Person printPerson
    INFO: Person(name=Foo2, birthDay=2015-08-30, gender=FEMALE, emailAddress=foo2@home.nl)
    Aug 30, 2017 3:56:47 AM my.own.Person printPerson
    INFO: Person(name=Foo3, birthDay=2014-08-30, gender=FEMALE, emailAddress=foo3@home.nl)
    Aug 30, 2017 3:56:47 AM my.own.Person printPerson
    INFO: Person(name=Foo4, birthDay=2013-08-30, gender=FEMALE, emailAddress=foo4@home.nl)
	
	
/ 13	. 

/ Approach 3: Specify Search Criteria Code in a Local Class

$ vi CheckPerson.java

package my.own;

public interface CheckPerson {
	boolean test(Person person);
}

$ vi CheckPersonEligibleForSelectiveService.java

package my.own;

public class CheckPersonEligibleForSelectiveService implements CheckPerson {

	@Override
	public boolean test(Person person) {
		return person.getGender()==Sex.FEMALE && person.getAge()>=2 && person.getAge()<=3;
	}

}

$ vi Roster.java

public class Roster {

	public static void printPersons(List<Person>roster,CheckPerson checkPerson) {
		for(Person person:roster) {
			if(checkPerson.test(person)) {
				person.printPerson();
			}
		}
	}

}

$ vi RosterTest.java

public class RosterTest {

	@Test
	public void test3() {
		CheckPerson checkPerson=new CheckPersonEligibleForSelectiveService();
		Roster.printPersons(roster, checkPerson);
	}
}

/ we zien 	,

my.own.RosterTest > test3 STANDARD_ERROR
    Aug 30, 2017 3:56:47 AM my.own.Person printPerson
    INFO: Person(name=Foo2, birthDay=2015-08-30, gender=FEMALE, emailAddress=foo2@home.nl)
    Aug 30, 2017 3:56:47 AM my.own.Person printPerson
    INFO: Person(name=Foo3, birthDay=2014-08-30, gender=FEMALE, emailAddress=foo3@home.nl)
	
/ klopt,


/ Approach 4: Specify Search Criteria Code in an Anonymous Class

$ vi RosterTest.java

	@Test
	public void test4() {
		Roster.printPersons(roster, new CheckPerson() {
			
			@Override
			public boolean test(Person person) {
				return person.getGender()==Sex.FEMALE && person.getAge()>=2 && person.getAge()<=3;
			}
		});
	}
	
/ we zien, 

my.own.RosterTest > test4 STANDARD_ERROR
    Aug 30, 2017 4:25:52 AM my.own.Person printPerson
    INFO: Person(name=Foo2, birthDay=2015-08-30, gender=FEMALE, emailAddress=foo2@home.nl)
    Aug 30, 2017 4:25:52 AM my.own.Person printPerson
    INFO: Person(name=Foo3, birthDay=2014-08-30, gender=FEMALE, emailAddress=foo3@home.nl)
	
/ Approach 5: Specify Search Criteria Code with a Lambda Expression

$ vi RosterTester.java

public class RosterTest {

	@Test
	public void test5() {
		Roster.printPersons(roster, (person)->person.getGender()==Sex.FEMALE && person.getAge()>=2 && person.getAge()<=3);
	}
}

/ we zien, 

my.own.RosterTest > test5 STANDARD_ERROR
    Aug 30, 2017 4:32:39 AM my.own.Person printPerson
    INFO: Person(name=Foo2, birthDay=2015-08-30, gender=FEMALE, emailAddress=foo2@home.nl)
    Aug 30, 2017 4:32:39 AM my.own.Person printPerson
    INFO: Person(name=Foo3, birthDay=2014-08-30, gender=FEMALE, emailAddress=foo3@home.nl)

/ Hoe werkt dit, want Roster.printPersons verwacht als 2de arg een CheckPerson,
/ TODO

/ Approach 6: Use Standard Functional Interfaces with Lambda Expressions

/ use Predicate ipv CheckPerson,

$ vi Roster.java

public static void printPersons(List<Person>roster,CheckPerson checkPerson) {
		for(Person person:roster) {
			if(checkPerson.test(person)) {
				person.printPerson();
			}
		}
	}
	public static void printPersonsWithPredicate(List<Person>roster,Predicate<Person>predicate) {
		for(Person person:roster) {
			if(predicate.test(person)) {
				person.printPerson();
			}
		}
	}
	
$ vi RosterTester.java

	@Test
	public void test5() {
		Roster.printPersons(roster, (person)->person.getGender()==Sex.FEMALE && person.getAge()>=2 && person.getAge()<=3);
	}
	@Test
	public void test6() {
		Roster.printPersonsWithPredicate(roster, (person)->person.getGender()==Sex.FEMALE && person.getAge()>=2 && person.getAge()<=3);
	}
	
/ we zien, 
my.own.RosterTest > test6 STANDARD_ERROR
    Aug 30, 2017 5:27:15 AM my.own.Person printPerson
    INFO: Person(name=Foo2, birthDay=2015-08-30, gender=FEMALE, emailAddress=foo2@home.nl)
    Aug 30, 2017 5:27:15 AM my.own.Person printPerson
    INFO: Person(name=Foo3, birthDay=2014-08-30, gender=FEMALE, emailAddress=foo3@home.nl)
	
/ Approach 7: Use Lambda Expressions Throughout Your Application

$ vi Roster.java

	public static void processPersons(List<Person>roster,Predicate<Person>predicate,Consumer<Person>consumer) {
		for(Person person:roster) {
			if(predicate.test(person)) {
				consumer.accept(person);
			}
		}
	}
}

$ vi RosterTester.java

	public static void processPersons(List<Person>roster,Predicate<Person>predicate,Consumer<Person>consumer) {
		for(Person person:roster) {
			if(predicate.test(person)) {
				consumer.accept(person);
			}
		}
	}
}

/ we zien, 
my.own.RosterTest > test7 STANDARD_ERROR
    Aug 30, 2017 6:07:19 AM my.own.Person printPerson
    INFO: Person(name=Foo2, birthDay=2015-08-30, gender=FEMALE, emailAddress=foo2@home.nl)
    Aug 30, 2017 6:07:19 AM my.own.Person printPerson
    INFO: Person(name=Foo3, birthDay=2014-08-30, gender=FEMALE, emailAddress=foo3@home.nl)
	
/ 7a	. 

$ vi Roster.java

	public static void processPersonsWithFunction(List<Person>roster,Predicate<Person>predicate,Function<Person, String>function,Consumer<String>consumer) {										/ Consumer<String>, zonet Consumer<Person>
		for(Person person:roster) {
			if(predicate.test(person)) {
				String data=function.apply(person);
				consumer.accept(data);
			}
		}
	}
}

$ vi RosterTester.java
	@Test
	public void test7a() {
		Roster.processPersonsWithFunction(roster, (person)->person.getGender()==Sex.FEMALE && person.getAge()>=2 && person.getAge()<=3, (p)->p.getEmailAddress()	, email->System.out.println(email));
	}

/ we zien deze print helemaal bovenaan	, 
/ TODO

my.own.RosterTester > test7a STANDARD_OUT
    foo2@home.nl
    foo3@home.nl

my.own.RosterTester > test1 STANDARD_ERROR
    Aug 30, 2017 6:46:12 AM my.own.Person printPerson
    INFO: Person(name=Foo2, birthDay=2015-08-30, gender=FEMALE, emailAddress=foo2@home.nl)
    Aug 30, 2017 6:46:12 AM my.own.Person printPerson
    INFO: Person(name=Foo3, birthDay=2014-08-30, gender=FEMALE, emailAddress=foo3@home.nl)
    Aug 30, 2017 6:46:12 AM my.own.Person printPerson
    INFO: Person(name=Foo4, birthDay=2013-08-30, gender=FEMALE, emailAddress=foo4@home.nl)
...

/ predicate is filter, consumer is action, 

/ Approach 8: Use Generics More Extensively

/ we maken processPersonsWithFunction generic: processElements,
/ de test functie verandert niet, behalve dat hij anders heet,

$ vi Roster.java

	public static void processPersonsWithFunction(List<Person>roster,Predicate<Person>predicate,Function<Person, String>function,Consumer<String>consumer) {
		for(Person person:roster) {
			if(predicate.test(person)) {
				String data=function.apply(person);
				consumer.accept(data);
			}
		}
	}

	public static <X,Y>void processElements(Iterable<X>source,Predicate<X>predicate,Function<X, Y>function,Consumer<Y>consumer) {
		for(X x:source) {
			if(predicate.test(x)) {
				Y y=function.apply(x);
				consumer.accept(y);
			}
		}
	}
	
$ vi RosterTester.java

	@Test
	public void tests7a() {
		Roster.processPersonsWithFunction(roster, (person)->person.getGender()==Sex.FEMALE && person.getAge()>=2 && person.getAge()<=3, (p)->p.getEmailAddress()	, email->System.out.println(email));
	}
	@Test
	public void test8() {
		Roster.processElements(roster, (person)->person.getGender()==Sex.FEMALE && person.getAge()>=2 && person.getAge()<=3, (p)->p.getEmailAddress()	, email->System.out.println(email));
	}
	
/ we zien, 

my.own.RosterTester > test8 STANDARD_OUT
    foo2@home.nl
    foo3@home.nl
	
/ we hadden al de tijd Iterable<Person> kunnen use ipv List<Person> als 1ste arg van de Roster functions,

/ we zien dat java.util.logging.Logger naar STANDARD_ERR prints, 
/ TODO

/ Approach 9: Use Aggregate Operations That Accept Lambda Expressions as Parameters 

$ vi RosterTester.java

	@Test
	public void test9() {
		roster
			.stream()
			.filter((person)->person.getGender()==Sex.FEMALE && person.getAge()>=2 && person.getAge()<=3)
			.map((person)->person.getEmailAddress())
			.forEach((email)->System.out.println(email));
	}
	
/ we hoeven dus geen fct aan Roster toe te voegen,

/ we zien,
my.own.RosterTester > test9 STANDARD_OUT
    foo2@home.nl
    foo3@home.nl
	
/ 13	. 

/ we kunnen () weglaten rond (person)	, dus
	person->person.getGender()==Sex.FEMALE && person.getAge()>=2 && person.getAge()<=3
ipv
	(person)->person.getGender()==Sex.FEMALE && person.getAge()>=2 && person.getAge()<=3

/ bijv,

	@Test
	public void test8() {
		Roster.processElements(roster, person->person.getGender()==Sex.FEMALE && person.getAge()>=2 && person.getAge()<=3, (p)->p.getEmailAddress()	, email->System.out.println(email));
	}
	@Test
	public void test9() {
		roster
			.stream()
			.filter(person->person.getGender()==Sex.FEMALE && person.getAge()>=2 && person.getAge()<=3)
			.map(person->person.getEmailAddress())
			.forEach(email->System.out.println(email));
	}

/ 13	. 
	
The operations filter, map, and forEach are aggregate operations. Aggregate operations process elements from a stream, not directly from a collection (which is the reason why the first method invoked in this example is stream). A stream is a sequence of elements. Unlike a collection, it is not a data structure that stores elements. Instead, a stream carries values from a source, such as collection, through a pipeline. A pipeline is a sequence of stream operations, which in this example is filter- map-forEach. In addition, aggregate operations typically accept lambda expressions as parameters, enabling you to customize how they behave.

/ 13	. 

/ Voor de Roster methods kunnen we roster een Iterable<Person> laten zijn, want we doen alleen
	for(Person person:roster) {

/ maar voor .stream() hebben we Collection<Person> nodig, daarom cast we roster naar Collection<Person> 	,



public class RosterTester {
	private Iterable<Person>roster;
	private Predicate<Person>predicate;
	
	@Test
	public void test9() {
		((Collection<Person>)roster)
			.stream()
			
/ 13	. 

/ We begrijpen iets niet:

public class Roster {
	public static void printPersons(Iterable<Person>roster,CheckPerson checkPerson) {
		for(Person person:roster) {
			if(checkPerson.test(person)) {
				person.printPerson();
			}
		}
	}
	public static void printPersonsWithPredicate(Iterable<Person>roster,Predicate<Person>predicate) {
		for(Person person:roster) {
			if(predicate.test(person)) {
				person.printPerson();
			}
		}
	}

public class RosterTester{
	@Test
	public void test5() {
		Roster.printPersons(roster, person->person.getGender()==Sex.FEMALE && person.getAge()>=2 && person.getAge()<=3);
	}
	@Test
	public void test5alt() {
		Roster.printPersons(roster, (CheckPerson)predicate);  // cast ERR,
	}
	@Test
	public void test6() {
		Roster.printPersonsWithPredicate(roster, person->person.getGender()==Sex.FEMALE && person.getAge()>=2 && person.getAge()<=3);
	}
	@Test
	public void test6alt() {
		Roster.printPersonsWithPredicate(roster, predicate);
	}
	
/ test5 is OK, dus de Predicate<Person> wordt op de een of andere manier een CheckPerson, want dat is het 2de arg van printPersons. Maar expliciet de cast is ERR, en test5alt fails,
/ of is 
/ test6alt is OK,

/ Lees	, 
https://dzone.com/articles/writing-clean-predicates-java

/ In test6alt zien we bijvoorbeeld dat predicate is (dus hier zien we een type die Predicate<Person> implements,
	my.own.RosterTester$$Lambda$11/798244209@86be70a
	
/ 13	. 

/ FINAL LAMBDAS

$ vi Roster.java

package my.own;

import java.util.List;
import java.util.function.Consumer;
import java.util.function.Function;
import java.util.function.Predicate;

public class Roster {

	public static void printPersonsOlderThan(Iterable<Person>roster,int age) {
		for(Person person:roster) {
			if(person.getAge()>=age) {
				person.printPerson();
			}
		}
	}
	public static void printPersons(Iterable<Person>roster,CheckPerson checkPerson) {
		for(Person person:roster) {
			if(checkPerson.test(person)) {
				person.printPerson();
			}
		}
	}
	public static void printPersonsWithPredicate(Iterable<Person>roster,Predicate<Person>predicate) {
		for(Person person:roster) {
			if(predicate.test(person)) {
				person.printPerson();
			}
		}
	}
	
	public static void processPersons(Iterable<Person>roster,Predicate<Person>predicate,Consumer<Person>consumer) {
		for(Person person:roster) {
			if(predicate.test(person)) {
				consumer.accept(person);
			}
		}
	}
	public static void processPersonsWithFunction(Iterable<Person>roster,Predicate<Person>predicate,Function<Person, String>function,Consumer<String>consumer) {
		for(Person person:roster) {
			if(predicate.test(person)) {
				String data=function.apply(person);
				consumer.accept(data);
			}
		}
	}
	public static <X,Y>void processElements(Iterable<X>source,Predicate<X>predicate,Function<X, Y>function,Consumer<Y>consumer) {
		for(X x:source) {
			if(predicate.test(x)) {
				Y y=function.apply(x);
				consumer.accept(y);
			}
		}
	}
}

$ vi RosterTester.java

package my.own;

import java.time.LocalDate;
import java.time.chrono.IsoChronology;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.Collection;
import java.util.List;
import java.util.function.Predicate;

import org.junit.Assert;
import org.junit.Before;
import org.junit.Test;

public class RosterTester {
	
	private Iterable<Person> roster;
	
	private LocalDate localDate;
	private LocalDate localDate2;
	
	private Predicate<Person>predicate;


	@Before
	public void init() {
		
		localDate=LocalDate.now();
		// equals
		localDate2=IsoChronology.INSTANCE.dateNow();
	
		Person person1=new Person("Foo1",localDate.minusYears(1),Sex.FEMALE,"foo1@home.nl");
		Person person2=new Person("Foo2",localDate.minusYears(2),Sex.FEMALE,"foo2@home.nl");
		Person person3=new Person("Foo3",localDate.minusYears(3),Sex.FEMALE,"foo3@home.nl");
		Person person4=new Person("Foo4",localDate.minusYears(4),Sex.FEMALE,"foo4@home.nl");
		roster=Arrays.asList(person1,person2,person3,person4);
		predicate=person->person.getGender()==Sex.FEMALE && person.getAge()>=2 && person.getAge()<=3;
	}
	
	@Test
	public void testIsoChronology() {
		Assert.assertEquals(localDate, localDate2);
	}
	
	@Test
	public void testLocalDates() {
		LocalDate min1=localDate.minusYears(1);
		LocalDate min2=localDate.minusYears(2);
		LocalDate min3=localDate.minusYears(3);
		LocalDate min4=localDate.minusYears(4);
		
		int age1=min1.until(localDate).getYears();
		int age2=min2.until(localDate).getYears();
		int age3=min3.until(localDate).getYears();
		int age4=min4.until(localDate).getYears();
		
		Assert.assertTrue(age3>=3);
	}
	
	@Test
	public void test1() {
		Roster.printPersonsOlderThan(roster, 2);
	}

	@Test
	public void test3() {
		CheckPerson checkPerson=new CheckPersonEligibleForSelectiveService();
		Roster.printPersons(roster, checkPerson);
	}
	
	@Test
	public void test4() {
		Roster.printPersons(roster, new CheckPerson() {
			
			@Override
			public boolean test(Person person) {
				return person.getGender()==Sex.FEMALE && person.getAge()>=2 && person.getAge()<=3;
			}
		});
	}
	
	@Test
	public void test5() {
		Roster.printPersons(roster, person->person.getGender()==Sex.FEMALE && person.getAge()>=2 && person.getAge()<=3);
	}
	@Test
	public void test5alt() {
		boolean impls=predicate instanceof Predicate<Person>;
		Assert.assertTrue(impls);
//		Roster.printPersons(roster, (CheckPerson)predicate);		// cast ERR, TODO
	}
	@Test
	public void test6() {
		Roster.printPersonsWithPredicate(roster, person->person.getGender()==Sex.FEMALE && person.getAge()>=2 && person.getAge()<=3);
	}
	@Test
	public void test6alt() {
		Roster.printPersonsWithPredicate(roster, predicate);
	}
	@Test
	public void test7() {
		Roster.processPersons(roster, person->person.getGender()==Sex.FEMALE && person.getAge()>=2 && person.getAge()<=3, (p)->p.printPerson());
	}
	@Test
	public void test7alt() {
		Roster.processPersonsWithFunction(roster, person->person.getGender()==Sex.FEMALE && person.getAge()>=2 && person.getAge()<=3, (p)->p.getEmailAddress()	, email->System.out.println(email));
	}
	@Test
	public void test8() {
		Roster.processElements(roster, person->person.getGender()==Sex.FEMALE && person.getAge()>=2 && person.getAge()<=3, (p)->p.getEmailAddress()	, email->System.out.println(email));
	}
	@Test
	public void test9() {
		((Collection<Person>)roster)
			.stream()
			.filter(person->person.getGender()==Sex.FEMALE && person.getAge()>=2 && person.getAge()<=3)
			.map(person->person.getEmailAddress())
			.forEach(email->System.out.println(email));
	}
}




/ Einde FINAL LAMBDAS
	
	
/ 13	. 

/ als we F3 geven op een JDK type, bijv List, dan zien we:  rt.jar has no source attachment,

/ lees, 
https://stackoverflow.com/questions/1157597/attach-the-java-source-code

/ we maken een andere JRE in eclipse: C:\Program Files\Java\jdk1.8.0_144
/ op een gegeven moment hebben we: JavaSE-1.8 (jdk1.8.0_144)

/ als we nu F3 op List, dan vallen we in de source code, 

/ 13	. 

/ List heeft geen stream method, maar Collection wel,

public interface List<E> extends Collection<E> {
	
public interface Collection<E> extends Iterable<E> {
    default Stream<E> stream() {
        return StreamSupport.stream(spliterator(), false);
    }

/ Wat is een default method?
/ Dit is een method van een interface, en geen abstract method, maar een concrete, die je normaal in een class schrijft. Een implementing class hoeft deze method dus niet te implements, maar kan dat wel,

$ vi DefaultTester.java

package my.own;

import org.junit.Test;

import org.junit.Assert;

public class DefaultTester extends RosterTester {

	@Test
	public void test() {
		String s=new C().fun();
		Assert.assertEquals("fun", s);
		String s2=new C().fun2();
		Assert.assertEquals("fun2", s2);
	}
}
interface I {
	String str();
	void fct();
	default String fun() {
		return "fun";
	}
	default String fun2() {
		return "fun2";
	}
}
class C implements I{
	@Override
	public String str() {
		return "str";
	}
	@Override
	public void fct() {
		System.out.println("fct");
		
	}
	@Override
	public String fun2() {
		return I.super.fun2();
	}
}

/ we kunnen in src/test/java DefaultTester.java er ook bij set, samen met RosterTester, 
/ als we de test gradle task run, worden de @Test methods in beide files exec, 




/ Einde JAVA LAMBDAS

/ JAVA METHOD REFERENCES

/ Lees	,
https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html

/ we maken in gradle project 'lambdas' MethodReferenceTester.java,



/ Einde JAVA METHOD REFERENCES


/ JAVA STREAMS

https://docs.oracle.com/javase/tutorial/collections/streams/



/ Einde JAVA STREAMS

/ SOAP SPRING BOOT SPRING-WS

/ Lees	, 
https://spring.io/guides/gs/producing-web-service/

/ jee-oxygen, workspace-jee-ws, 

/ we maken een dir guide\ in deze workspace,


C:\Users\ervelden\eclipse\workspace-jee-ws\guide>spring init --dependencies web-services --build gradle --extract
Using service at https://start.spring.io
/ import in eclipse

/ we willen de jdk1.8.0_144, 
/ right click guide project, build path, libraries,
/ we zien: JRE System Library [JavaSE-1.8], Edit
/ we zien: Execution environment: JavaSE-1.8 (jre1.8.0_144)
/ we moeten eerst een JRE toevoegen, voordat we JavaSE-1.8 kunnen veranderen, click 'Installed JREs...',
/ click daar 'Add...', en select \Program Files\Java\jdk1.8.0_144, Apply and close,
/ terug bij JRE System Library, click nu Environments,
/ click JavaSE-1.8, nu zien we rechts 2 entries: jdk1.8.0_144 en jre1.8.0_144, kies jdk1.8.0_144,

/ we zien 

$ vi build.gradle

buildscript {
	ext {
		springBootVersion = '1.5.6.RELEASE'
	}
	repositories {
		mavenCentral()
	}
	dependencies {
		classpath("org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}")
	}
}

apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'org.springframework.boot'

version = '0.0.1-SNAPSHOT'
sourceCompatibility = 1.8

repositories {
	mavenCentral()
}


dependencies {
	compile('org.springframework.boot:spring-boot-starter-web-services')
	testCompile('org.springframework.boot:spring-boot-starter-test')
}

/ we edit de dependencies,

dependencies {
	compile('org.springframework.boot:spring-boot-starter-web-services')
	testCompile('org.springframework.boot:spring-boot-starter-test')
	compile("wsdl4j:wsdl4j:1.6.1")
    jaxb("org.glassfish.jaxb:jaxb-xjc:2.2.11")
    compile(files(genJaxb.classesDir).builtBy(genJaxb))
}

/ Lees,
http://gdpotter.com/2017/08/14/jaxb-gradle-config/
/ TODO


/ we maken in src/main/resources,

$ vi countries.xsd

<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:tns="http://spring.io/guides/gs-producing-web-service"
           targetNamespace="http://spring.io/guides/gs-producing-web-service" elementFormDefault="qualified">

    <xs:element name="getCountryRequest">
        <xs:complexType>
            <xs:sequence>
                <xs:element name="name" type="xs:string"/>
            </xs:sequence>
        </xs:complexType>
    </xs:element>

    <xs:element name="getCountryResponse">
        <xs:complexType>
            <xs:sequence>
                <xs:element name="country" type="tns:country"/>
            </xs:sequence>
        </xs:complexType>
    </xs:element>

    <xs:complexType name="country">
        <xs:sequence>
            <xs:element name="name" type="xs:string"/>
            <xs:element name="population" type="xs:int"/>
            <xs:element name="capital" type="xs:string"/>
            <xs:element name="currency" type="tns:currency"/>
        </xs:sequence>
    </xs:complexType>

    <xs:simpleType name="currency">
        <xs:restriction base="xs:string">
            <xs:enumeration value="GBP"/>
            <xs:enumeration value="EUR"/>
            <xs:enumeration value="PLN"/>
        </xs:restriction>
    </xs:simpleType>
</xs:schema>

/ we voegen toe aan build.gradle,

targetCompatibility = 1.8

configurations{
	jaxb
}

jar{
	baseName='gs-producing-web-service'
	version='0.1.0'
	from genJaxb.classesDir
}

//////////////////
/ VOLGORDE IN BUILD.GRADLE

/ In build.gradle moeten we op de volgorde letten:

/ 7	. 

/ omdat in dependencies jaxb staat, moet configurations{jaxb} voor dependencies,

configurations{
	jaxb
}
dependencies {
	compile('org.springframework.boot:spring-boot-starter-web-services')
	testCompile('org.springframework.boot:spring-boot-starter-test')
	compile("wsdl4j:wsdl4j:1.6.1")
    jaxb "org.glassfish.jaxb:jaxb-xjc:2.2.11"
    compile(files(genJaxb.classesDir).builtBy(genJaxb))
}

/ 7	. 

/ omdat genJaxb in jar{...} staat, moet de def van de task genJaxb voor jar{...}

task genJaxb{
	ext.sourcesDir="${buildDir}/generated-sources/jaxb"
	ext.classesDir="${buildDir}/classes/jaxb"
	ext.schema="src/main/resources/countries.xsd"
	
	outputs.dir classesDir
	
	doLast(){
		project ant{
			taskdef name:"xjc",classname:"com.sun.tools.xjc.XJCTask",
					classpath:configurations.jaxb.asPath
			mkdir(dir:sourcesDir)
			mkdir(dir:classesDir)
			xjc(destdir:sourcesDir,schema:schema){
				arg(value:"-wsdl")
				produces(dir:sourcesDir,includes:"**/*.java")
			}
			javac(destdir:classesDir,source:"1.8",target:"1.8",debug:"true",
					debugLevel:"lines,vars,source",classpath:configuations.jaxb.asPath){
				src(path:sourcesDir)
				include(name:"**/*.java")
				include(name:"*.java")
			}
			copy(todir:classesDir){
				fileset(dir:sourcesDir,erroronmissingdir:false){
					exclude(name:"**/*.java")
				}
			}
		}
	}
}

jar{
	baseName='gs-producing-web-service'
	version='0.1.0'
	from genJaxb.classesDir
}
	

/ Einde VOLGORDE IN BUILD.GRADLE

/ MORGENOCHTEND

/ 7	. 

/ we download de source,
C:\Users\ervelden\eclipse\workspace-jee-ws>git clone https://github.com/spring-guides/gs-producing-web-service.git




/ Einde SOAP SPRING BOOT SPRING-WS

/ XJC

https://www.thoughts-on-java.org/generate-your-jaxb-classes-in-second/

C:\Users\ervelden\java\xjc>notepad schema.xsd

<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<xs:schema version="1.0" xmlns:xs="http://www.w3.org/2001/XMLSchema">

  <xs:element name="author" type="author"/>

  <xs:element name="book" type="book"/>

  <xs:complexType name="author">
    <xs:sequence>
      <xs:element name="firstName" type="xs:string" minOccurs="0"/>
      <xs:element name="lastName" type="xs:string" minOccurs="0"/>
    </xs:sequence>
  </xs:complexType>

  <xs:complexType name="book">
    <xs:sequence>
      <xs:element ref="author" minOccurs="0"/>
      <xs:element name="pages" type="xs:int"/>
      <xs:element name="publicationDate" type="xs:dateTime" minOccurs="0"/>
      <xs:element name="title" type="xs:string" minOccurs="0"/>
    </xs:sequence>
  </xs:complexType>
</xs:schema>

/ we zien de def van 2 elems, en hun 2 types,


C:\Users\ervelden\java\xjc> mkdir src

C:\Users\ervelden\java\xjc> xjc -d src -p my.own.xjc.result schema.xsd
parsing a schema...
compiling a schema...
my\own\xjc\result\Author.java
my\own\xjc\result\Book.java
my\own\xjc\result\ObjectFactory.java

C:\Users\ervelden\java\xjc> notepad++ Author.java

//
// This file was generated by the JavaTM Architecture for XML Binding(JAXB) Reference Implementation, v2.2.8-b130911.1802 
// See <a href="http://java.sun.com/xml/jaxb">http://java.sun.com/xml/jaxb</a> 
// Any modifications to this file will be lost upon recompilation of the source schema. 
// Generated on: 2017.08.31 at 08:16:12 AM GMT+01:00 
//


package my.own.xjc.result;

import javax.xml.bind.annotation.XmlAccessType;
import javax.xml.bind.annotation.XmlAccessorType;
import javax.xml.bind.annotation.XmlType;


/**
 * <p>Java class for author complex type.
 * 
 * <p>The following schema fragment specifies the expected content contained within this class.
 * 
 * <pre>
 * &lt;complexType name="author">
 *   &lt;complexContent>
 *     &lt;restriction base="{http://www.w3.org/2001/XMLSchema}anyType">
 *       &lt;sequence>
 *         &lt;element name="firstName" type="{http://www.w3.org/2001/XMLSchema}string" minOccurs="0"/>
 *         &lt;element name="lastName" type="{http://www.w3.org/2001/XMLSchema}string" minOccurs="0"/>
 *       &lt;/sequence>
 *     &lt;/restriction>
 *   &lt;/complexContent>
 * &lt;/complexType>
 * </pre>
 * 
 * 
 */
@XmlAccessorType(XmlAccessType.FIELD)
@XmlType(name = "author", propOrder = {
    "firstName",
    "lastName"
})
public class Author {

    protected String firstName;
    protected String lastName;

    /**
     * Gets the value of the firstName property.
     * 
     * @return
     *     possible object is
     *     {@link String }
     *     
     */
    public String getFirstName() {
        return firstName;
    }

    /**
     * Sets the value of the firstName property.
     * 
     * @param value
     *     allowed object is
     *     {@link String }
     *     
     */
    public void setFirstName(String value) {
        this.firstName = value;
    }

    /**
     * Gets the value of the lastName property.
     * 
     * @return
     *     possible object is
     *     {@link String }
     *     
     */
    public String getLastName() {
        return lastName;
    }

    /**
     * Sets the value of the lastName property.
     * 
     * @param value
     *     allowed object is
     *     {@link String }
     *     
     */
    public void setLastName(String value) {
        this.lastName = value;
    }

}

$ vi Book.java

//
// This file was generated by the JavaTM Architecture for XML Binding(JAXB) Reference Implementation, v2.2.8-b130911.1802 
// See <a href="http://java.sun.com/xml/jaxb">http://java.sun.com/xml/jaxb</a> 
// Any modifications to this file will be lost upon recompilation of the source schema. 
// Generated on: 2017.08.31 at 08:16:12 AM GMT+01:00 
//


package my.own.xjc.result;

import javax.xml.bind.annotation.XmlAccessType;
import javax.xml.bind.annotation.XmlAccessorType;
import javax.xml.bind.annotation.XmlSchemaType;
import javax.xml.bind.annotation.XmlType;
import javax.xml.datatype.XMLGregorianCalendar;


/**
 * <p>Java class for book complex type.
 * 
 * <p>The following schema fragment specifies the expected content contained within this class.
 * 
 * <pre>
 * &lt;complexType name="book">
 *   &lt;complexContent>
 *     &lt;restriction base="{http://www.w3.org/2001/XMLSchema}anyType">
 *       &lt;sequence>
 *         &lt;element ref="{}author" minOccurs="0"/>
 *         &lt;element name="pages" type="{http://www.w3.org/2001/XMLSchema}int"/>
 *         &lt;element name="publicationDate" type="{http://www.w3.org/2001/XMLSchema}dateTime" minOccurs="0"/>
 *         &lt;element name="title" type="{http://www.w3.org/2001/XMLSchema}string" minOccurs="0"/>
 *       &lt;/sequence>
 *     &lt;/restriction>
 *   &lt;/complexContent>
 * &lt;/complexType>
 * </pre>
 * 
 * 
 */
@XmlAccessorType(XmlAccessType.FIELD)
@XmlType(name = "book", propOrder = {
    "author",
    "pages",
    "publicationDate",
    "title"
})
public class Book {

    protected Author author;
    protected int pages;
    @XmlSchemaType(name = "dateTime")
    protected XMLGregorianCalendar publicationDate;
    protected String title;

    /**
     * Gets the value of the author property.
     * 
     * @return
     *     possible object is
     *     {@link Author }
     *     
     */
    public Author getAuthor() {
        return author;
    }

    /**
     * Sets the value of the author property.
     * 
     * @param value
     *     allowed object is
     *     {@link Author }
     *     
     */
    public void setAuthor(Author value) {
        this.author = value;
    }

    /**
     * Gets the value of the pages property.
     * 
     */
    public int getPages() {
        return pages;
    }

    /**
     * Sets the value of the pages property.
     * 
     */
    public void setPages(int value) {
        this.pages = value;
    }

    /**
     * Gets the value of the publicationDate property.
     * 
     * @return
     *     possible object is
     *     {@link XMLGregorianCalendar }
     *     
     */
    public XMLGregorianCalendar getPublicationDate() {
        return publicationDate;
    }

    /**
     * Sets the value of the publicationDate property.
     * 
     * @param value
     *     allowed object is
     *     {@link XMLGregorianCalendar }
     *     
     */
    public void setPublicationDate(XMLGregorianCalendar value) {
        this.publicationDate = value;
    }

    /**
     * Gets the value of the title property.
     * 
     * @return
     *     possible object is
     *     {@link String }
     *     
     */
    public String getTitle() {
        return title;
    }

    /**
     * Sets the value of the title property.
     * 
     * @param value
     *     allowed object is
     *     {@link String }
     *     
     */
    public void setTitle(String value) {
        this.title = value;
    }

}

$ vi ObjectFactory.java

//
// This file was generated by the JavaTM Architecture for XML Binding(JAXB) Reference Implementation, v2.2.8-b130911.1802 
// See <a href="http://java.sun.com/xml/jaxb">http://java.sun.com/xml/jaxb</a> 
// Any modifications to this file will be lost upon recompilation of the source schema. 
// Generated on: 2017.08.31 at 08:16:12 AM GMT+01:00 
//


package my.own.xjc.result;

import javax.xml.bind.JAXBElement;
import javax.xml.bind.annotation.XmlElementDecl;
import javax.xml.bind.annotation.XmlRegistry;
import javax.xml.namespace.QName;


/**
 * This object contains factory methods for each 
 * Java content interface and Java element interface 
 * generated in the my.own.xjc.result package. 
 * <p>An ObjectFactory allows you to programatically 
 * construct new instances of the Java representation 
 * for XML content. The Java representation of XML 
 * content can consist of schema derived interfaces 
 * and classes representing the binding of schema 
 * type definitions, element declarations and model 
 * groups.  Factory methods for each of these are 
 * provided in this class.
 * 
 */
@XmlRegistry
public class ObjectFactory {

    private final static QName _Author_QNAME = new QName("", "author");
    private final static QName _Book_QNAME = new QName("", "book");

    /**
     * Create a new ObjectFactory that can be used to create new instances of schema derived classes for package: my.own.xjc.result
     * 
     */
    public ObjectFactory() {
    }

    /**
     * Create an instance of {@link Author }
     * 
     */
    public Author createAuthor() {
        return new Author();
    }

    /**
     * Create an instance of {@link Book }
     * 
     */
    public Book createBook() {
        return new Book();
    }

    /**
     * Create an instance of {@link JAXBElement }{@code <}{@link Author }{@code >}}
     * 
     */
    @XmlElementDecl(namespace = "", name = "author")
    public JAXBElement<Author> createAuthor(Author value) {
        return new JAXBElement<Author>(_Author_QNAME, Author.class, null, value);
    }

    /**
     * Create an instance of {@link JAXBElement }{@code <}{@link Book }{@code >}}
     * 
     */
    @XmlElementDecl(namespace = "", name = "book")
    public JAXBElement<Book> createBook(Book value) {
        return new JAXBElement<Book>(_Book_QNAME, Book.class, null, value);
    }

}






/ Einde XJC

/ SOAP AXIS

/ 13	. 

/ Lees	, 
http://gdpotter.com/2017/08/14/jaxb-gradle-config/
https://www.thoughts-on-java.org/generate-your-jaxb-classes-in-second/

/ Lees,
https://www.tutorialspoint.com/soap/soap_resources.htm
Apache SOAP
http://axis.apache.org/axis/

GLUE from the Web Methods
...

/ nu axis2, ipv axis
/ lees,
 http://axis.apache.org/axis2/java/core/docs/quickstartguide.html
 
 / 13	. 
 

/ Einde SOAP AXIS


/ TOMCAT

/ we install Tomcat, met 
32-bit/64-bit Windows Service Installer (pgp, md5, sha1)

/ we kiezen ook,
Host manager          / nu krijgt admin ook de admin-gui role straks,
Examples

Server shutdown port 8005
HTTP/1.1 Connector port 8080
AJP/1.3 Connector port 8009
Windows service name Tomcat8
Create shortcut for all users: Check
Tomcat administrator login:
admin
s3cret
Roles: admin-gui,manager-gui

Java SE:
C:\Program Files\Java\jdk1.8.0_144      / hij had select: C:\Program Files\Java\jre1.8.0_144

/ destination folder:
C:\Program Files\Apache Software Foundation\Tomcat 8.5

/ we zien, 

C:\Program Files\Apache Software Foundation\Tomcat 8.5>dir
 Volume in drive C is System
 Volume Serial Number is 90D0-8A5A

 Directory of C:\Program Files\Apache Software Foundation\Tomcat 8.5

31-08-2017  08:01    <DIR>          .
31-08-2017  08:01    <DIR>          ..
31-08-2017  08:01    <DIR>          bin
31-08-2017  08:03    <DIR>          conf
31-08-2017  08:01    <DIR>          lib
02-08-2017  23:36            58.153 LICENSE
31-08-2017  08:03    <DIR>          logs
02-08-2017  23:36             1.774 NOTICE
02-08-2017  23:36             7.241 RELEASE-NOTES
31-08-2017  08:01    <DIR>          temp
02-08-2017  23:36            21.630 tomcat.ico
02-08-2017  23:36            73.704 Uninstall.exe
31-08-2017  08:01    <DIR>          webapps
31-08-2017  08:03    <DIR>          work
               5 File(s)        162.502 bytes
               9 Dir(s)  49.690.230.784 bytes free
			   
/ we zien dat manager-gui OK is, thuis hadden we manager-script, 
/ admin-gui werkt ook ,
/ we zien op localhost:8080 2 buttons: 
manager app
host manager


$ notepad++ conf\tomcat-users.xml

<?xml version='1.0' encoding='cp1252'?>
<!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<tomcat-users xmlns="http://tomcat.apache.org/xml"
              xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              xsi:schemaLocation="http://tomcat.apache.org/xml tomcat-users.xsd"
              version="1.0">
<user username="admin" password="s3cret" roles="admin-gui,manager-gui" />
<!--
  NOTE:  By default, no user is included in the "manager-gui" role required
  to operate the "/manager/html" web application.  If you wish to use this app,
  you must define such a user - the username and password are arbitrary. It is
  strongly recommended that you do NOT use one of the users in the commented out
  section below since they are intended for use with the examples web
  application.
-->
<!--
  NOTE:  The sample user and role entries below are intended for use with the
  examples web application. They are wrapped in a comment and thus are ignored
  when reading this file. If you wish to configure these users for use with the
  examples web application, do not forget to remove the <!.. ..> that surrounds
  them. You will also need to set the passwords to something appropriate.
-->
<!--
  <role rolename="tomcat"/>
  <role rolename="role1"/>
  <user username="tomcat" password="<must-be-changed>" roles="tomcat"/>
  <user username="both" password="<must-be-changed>" roles="tomcat,role1"/>
  <user username="role1" password="<must-be-changed>" roles="role1"/>
-->
</tomcat-users>

/ START TOMCAT

/ Lees,
https://tomcat.apache.org/tomcat-8.5-doc/
/ links zien we 
User guide
2) Set up
https://tomcat.apache.org/tomcat-8.5-doc/setup.html
/ we zien Windows
/ Daar zien we Windows Service-HOWTO
https://tomcat.apache.org/tomcat-8.5-doc/windows-service-howto.html




/ 7	. 

/ start, Configure Tomcat
/ we zien nieuw window, kies General
/ click Start
/ we zien in procexp, Sysinternals
Tomcat8.exe
Tomcat8w.exe

/ 7	.

/ op command line:

C:\Program Files\Apache Software Foundation\Tomcat 8.5>bin\catalina.bat  jpda run
C:\Program Files\Apache Software Foundation\Tomcat 8.5>bin\catalina.bat jpda run
Using CATALINA_BASE:   "C:\Program Files\Apache Software Foundation\Tomcat 8.5"
Using CATALINA_HOME:   "C:\Program Files\Apache Software Foundation\Tomcat 8.5"
Using CATALINA_TMPDIR: "C:\Program Files\Apache Software Foundation\Tomcat 8.5\temp"
Using JRE_HOME:        "C:\Program Files\Java\jdk1.8.0_144"
Using CLASSPATH:       "C:\Program Files\Apache Software Foundation\Tomcat 8.5\bin\bootstrap.jar;C:\Program Files\Apache Softwar
e Foundation\Tomcat 8.5\bin\tomcat-juli.jar"
Listening for transport dt_socket at address: 8000
31-Aug-2017 07:26:35.844 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version:        Apache Tomcat/
8.5.20
31-Aug-2017 07:26:35.844 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server built:          Aug 2 2017 21:
35:49 UTC
31-Aug-2017 07:26:35.844 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server number:         8.5.20.0
31-Aug-2017 07:26:35.844 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Name:               Windows 7
31-Aug-2017 07:26:35.844 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Version:            6.1
31-Aug-2017 07:26:35.844 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Architecture:          amd64
31-Aug-2017 07:26:35.844 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Java Home:             C:\Program Fil
es\Java\jdk1.8.0_144\jre
31-Aug-2017 07:26:35.844 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Version:           1.8.0_144-b01
31-Aug-2017 07:26:35.844 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Vendor:            Oracle Corpora
tion
31-Aug-2017 07:26:35.844 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_BASE:         C:\Program Fil
es\Apache Software Foundation\Tomcat 8.5
31-Aug-2017 07:26:35.844 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_HOME:         C:\Program Fil
es\Apache Software Foundation\Tomcat 8.5
31-Aug-2017 07:26:35.844 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.lo
gging.config.file=C:\Program Files\Apache Software Foundation\Tomcat 8.5\conf\logging.properties
31-Aug-2017 07:26:35.844 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.lo
gging.manager=org.apache.juli.ClassLoaderLogManager
31-Aug-2017 07:26:35.844 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djdk.tls.ephe
meralDHKeySize=2048
31-Aug-2017 07:26:35.860 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.protoco
l.handler.pkgs=org.apache.catalina.webresources
31-Aug-2017 07:26:35.860 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -agentlib:jdwp
=transport=dt_socket,address=localhost:8000,server=y,suspend=n
31-Aug-2017 07:26:35.860 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.bas
e=C:\Program Files\Apache Software Foundation\Tomcat 8.5
31-Aug-2017 07:26:35.860 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.hom
e=C:\Program Files\Apache Software Foundation\Tomcat 8.5
31-Aug-2017 07:26:35.860 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.io.tmpd
ir=C:\Program Files\Apache Software Foundation\Tomcat 8.5\temp
31-Aug-2017 07:26:35.860 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent The APR based Apache Tomcat Na
tive library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Fil
es\Java\jdk1.8.0_144\bin;C:\WINDOWS\Sun\Java\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\ProgramData\Oracle\Java\javapath;C:\Program F
iles (x86)\Intel\iCLS Client\;C:\Program Files\Intel\iCLS Client\;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\WIN
DOWS\System32\WindowsPowerShell\v1.0\;C:\WINDOWS\System32\WindowsPowerShell\v1.0\;C:\Program Files\Intel\Intel(R) Management Eng
ine Components\DAL;C:\Program Files (x86)\Intel\Intel(R) Management Engine Components\DAL;C:\Program Files\Intel\Intel(R) Manage
ment Engine Components\IPT;C:\Program Files (x86)\Intel\Intel(R) Management Engine Components\IPT;C:\Program Files\nodejs\;C:\WI
NDOWS\System32\WindowsPowerShell\v1.0\;C:\Program Files\Git\cmd;C:\Program Files\Java\jdk1.8.0_144\bin;C:\Users\ervelden\AppData
\Roaming\npm;C:\Program Files (x86)\Microsoft VS Code\bin;C:\Program Files\Notepad++;C:\Users\ervelden\bin\spring-1.5.6.RELEASE\
bin;\Users\ervelden\bin\ProcessExplorer;\Users\ervelden\bin\curl-7.55.0-win64-mingw\bin;.]
31-Aug-2017 07:26:35.969 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler ["http-nio-8080"]
31-Aug-2017 07:26:36.219 INFO [main] org.apache.tomcat.util.net.NioSelectorPool.getSharedSelector Using a shared selector for se
rvlet write/read
31-Aug-2017 07:26:36.234 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler ["ajp-nio-8009"]
31-Aug-2017 07:26:36.234 INFO [main] org.apache.tomcat.util.net.NioSelectorPool.getSharedSelector Using a shared selector for se
rvlet write/read
31-Aug-2017 07:26:36.234 INFO [main] org.apache.catalina.startup.Catalina.load Initialization processed in 671 ms
31-Aug-2017 07:26:36.250 INFO [main] org.apache.catalina.core.StandardService.startInternal Starting service [Catalina]
31-Aug-2017 07:26:36.250 INFO [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet Engine: Apache Tomca
t/8.5.20
31-Aug-2017 07:26:36.265 INFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web appli
cation directory [C:\Program Files\Apache Software Foundation\Tomcat 8.5\webapps\docs]
31-Aug-2017 07:26:36.531 INFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web a
pplication directory [C:\Program Files\Apache Software Foundation\Tomcat 8.5\webapps\docs] has finished in [266] ms
31-Aug-2017 07:26:36.531 INFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web appli
cation directory [C:\Program Files\Apache Software Foundation\Tomcat 8.5\webapps\examples]
31-Aug-2017 07:26:36.811 INFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web a
pplication directory [C:\Program Files\Apache Software Foundation\Tomcat 8.5\webapps\examples] has finished in [280] ms
31-Aug-2017 07:26:36.811 INFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web appli
cation directory [C:\Program Files\Apache Software Foundation\Tomcat 8.5\webapps\host-manager]
31-Aug-2017 07:26:36.858 INFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web a
pplication directory [C:\Program Files\Apache Software Foundation\Tomcat 8.5\webapps\host-manager] has finished in [47] ms
31-Aug-2017 07:26:36.858 INFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web appli
cation directory [C:\Program Files\Apache Software Foundation\Tomcat 8.5\webapps\manager]
31-Aug-2017 07:26:36.874 INFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web a
pplication directory [C:\Program Files\Apache Software Foundation\Tomcat 8.5\webapps\manager] has finished in [16] ms
31-Aug-2017 07:26:36.874 INFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web appli
cation directory [C:\Program Files\Apache Software Foundation\Tomcat 8.5\webapps\ROOT]
31-Aug-2017 07:26:36.905 INFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web a
pplication directory [C:\Program Files\Apache Software Foundation\Tomcat 8.5\webapps\ROOT] has finished in [31] ms
31-Aug-2017 07:26:36.905 INFO [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler ["http-nio-8080"]
31-Aug-2017 07:26:36.905 INFO [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler ["ajp-nio-8009"]
31-Aug-2017 07:26:36.905 INFO [main] org.apache.catalina.startup.Catalina.start Server startup in 680 ms

/ Einde START TOMCAT

/ Intermezzo

/ thuis Tomcat config,

<role rolename="manager-script"/>
<user username="tomcat"password="s3cret" roles="manager-script"/>
</tomcat-users>

$ vi ~/.m2/settings.xml
<settings>
	<servers>
		<server>
			<id>tomcat</id>
			<username>tomcat</username>
			<password>s3cret</password>
		</server>
	</servers>
</settings>

/ Einde Intermezzo

/ Einde TOMCAT

/ GIT

/ over maven , git tag
https://stackoverflow.com/questions/42720795/how-to-set-tag-for-maven-release

Your pom is probably on version 1.3-SNAPSHOT

mvn release:prepare
Will update the version to 1.3, create the git tag "artifactid-version" in your case my-project-1.3, then set the version in your pom to 1.4-SNAPSHOT for the next iteration.

To fix your problem delete the tag see How to delete a git remote tag? then run mvn release:prepare again.

You may need to set your version back to 1.3-SNAPSHOT, this can be done with

mvn versions:set -DnewVersion=1.3-SNAPSHOT
Or just edit you pom/poms.

/ lees,
https://stackoverflow.com/questions/41750646/maven-release-plugin-and-git-tagging-style

While I didn't find documentation on this question (maybe it exists out there), I did a trial run. Create a local GIT repository with a simple POM and do a maven release:prepare. When I run git show $MYTAG on the resulting tag, git output contains "Tagger" data which suggests it is an annotated tag.

/ Lees,
https://www.avisi.nl/blog/2012/02/15/maven-release-plugin-setup-guide-for-git/

<build> 
	<plugins> ... 
		<plugin> 
			<groupId>org.apache.maven.plugins</groupId> 
			<artifactId>maven-release-plugin</artifactId> 
			<version>2.2.1</version> 
			<executions> 
				<execution> 
					<id>default</id> 
					<goals> 
						<goal>perform</goal> 
					</goals> 
					<configuration> 
						<pomFileName>
							<your_project>/pom.xml
						</pomFileName> 
					</configuration> 
				</execution> 
			</executions> 
		</plugin> ... 
	</plugins>
</build>

/ Einde GIT

/ Maven

/ lees,
https://spring.io/guides/gs/producing-web-service/

$ vi pom.xml

<plugin>
	<groupId>org.codehaus.mojo</groupId>
	<artifactId>jaxb2-maven-plugin</artifactId>
	<version>1.6</version>
	<executions>
		<execution>
			<id>xjc</id>
			<goals>
				<goal>xjc</goal>
			</goals>
		</execution>
	</executions>
	<configuration>
		<schemaDirectory>${project.basedir}/src/main/resources/</schemaDirectory>
		<outputDirectory>${project.basedir}/src/main/java</outputDirectory>
		<clearOutputDir>false</clearOutputDir>
	</configuration>
</plugin>

/ lees,
http://www.avajava.com/tutorials/lessons/how-do-i-create-a-hello-world-goal-for-a-maven-plugin.html
http://www.avajava.com/tutorials/lessons/how-do-i-attach-a-plugin-goal-to-a-particular-phase-of-a-maven-lifecycle.html

/ lees,
http://www.mojohaus.org/jaxb2-maven-plugin/Documentation/v2.3.1/example_xjc_basic.html


/ Einde Maven

/ WILDFLY

/ we hebben download wildfly-10.1.0.Final.zip, en we extract hem in \Users\ervelden\bin,

C:\Users\ervelden\bin\wildfly-10.1.0.Final\bin>standalone.bat



/ Einde WILDFLY

/ JBOSSTOOLS FORGE WILDFLY SWARM

/ kijk,
https://www.youtube.com/watch?v=ebcnOopZFWs
/ lees,
https://tools.jboss.org/documentation/howto/forge.htmlhttps://wildfly-swarm.gitbooks.io/wildfly-swarm-users-guide/getting-started/tooling/forge-addon.html

/ lees,
https://github.com/forge/wildfly-swarm-addon

/ lees,
http://forge.jboss.org/

/ google, project type wildfly swarm microservice
/ lees,
https://dzone.com/articles/develop-a-microservice-with-forge-wildfly-swarm-an-1
/ lees,
http://wildfly-swarm.io/

/ ctrl+4
/ Forge/Manage, Install an addon from git
url: https://github.com/forge/wildfly-swarm-addon.git

/ lees,
http://blog.eisele.net/2015/10/wildfly-swarm-jax-rs-microservice-on-docker.html

/ 7	. 

https://www.youtube.com/watch?v=ebcnOopZFWs

/ ctrl+4
/ onder Forge/Manage
Install an addon from GIT, to forge 									/ we install dus een addon to forge,
url: https://github.com/forge/wildfly-swarm-addon.git

/ je kunt filter op wat je ziet in ctrl+4,
forge

/ omdat we in eclipse.ini hebben gezegd dat -vm jdk1.8.0_144 is (jdk dus ipv jre)	, kan hij compile,	

/ als we ctrl+4
Project: New
/dan zien we nu de extra entry,
Wildfly Swarm


/ we zien bij Install addon from git:


[INFO] Scanning for projects...
[INFO] Inspecting build with total of 1 modules...
[INFO] Installing Nexus Staging features:
[INFO]   ... total of 1 executions of maven-deploy-plugin replaced with nexus-staging-maven-plugin
[INFO] 
[INFO] [1m------------------------------------------------------------------------[m
[INFO] [1mBuilding wildfly-swarm 2017.8.2-SNAPSHOT[m
[INFO] [1m------------------------------------------------------------------------[m
[INFO] 
[INFO] [1m--- [0;32mmaven-clean-plugin:3.0.0:clean[m [1m(default-clean)[m @ [36mwildfly-swarm[0;1m ---[m
[INFO] 
[INFO] [1m--- [0;32mmaven-enforcer-plugin:1.4.1:enforce[m [1m(enforce-java-version)[m @ [36mwildfly-swarm[0;1m ---[m
[INFO] 
[INFO] [1m--- [0;32mmaven-enforcer-plugin:1.4.1:enforce[m [1m(enforce-maven-version)[m @ [36mwildfly-swarm[0;1m ---[m
[INFO] 
[INFO] [1m--- [0;32mbuildnumber-maven-plugin:1.4:create[m [1m(get-scm-revision)[m @ [36mwildfly-swarm[0;1m ---[m
[INFO] Executing: cmd.exe /X /C "git rev-parse --verify HEAD"
[INFO] Working directory: C:\Users\ervelden\AppData\Local\Temp\tmpdir6387031468665632935
[INFO] Storing buildNumber: f4812184b5f35608c718f3efd8be40c93fdd0286 at timestamp: 1504252739636
[INFO] Storing buildScmBranch: master
[INFO] 
[INFO] [1m--- [0;32mmaven-resources-plugin:3.0.1:resources[m [1m(default-resources)[m @ [36mwildfly-swarm[0;1m ---[m
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] [1m--- [0;32mmaven-compiler-plugin:3.6.0:compile[m [1m(default-compile)[m @ [36mwildfly-swarm[0;1m ---[m
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 14 source files to C:\Users\ervelden\AppData\Local\Temp\tmpdir6387031468665632935\target\classes
[INFO] 
[INFO] [1m--- [0;32mmaven-resources-plugin:3.0.1:testResources[m [1m(default-testResources)[m @ [36mwildfly-swarm[0;1m ---[m
[INFO] Not copying test resources
[INFO] 
[INFO] [1m--- [0;32mmaven-compiler-plugin:3.6.0:testCompile[m [1m(default-testCompile)[m @ [36mwildfly-swarm[0;1m ---[m
[INFO] Not compiling test sources
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 4 source files to C:\Users\ervelden\AppData\Local\Temp\tmpdir6387031468665632935\target\test-classes
[INFO] 
[INFO] [1m--- [0;32mmaven-surefire-plugin:2.19.1:test[m [1m(default-test)[m @ [36mwildfly-swarm[0;1m ---[m
Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/maven-surefire-common/2.19.1/maven-surefire-common-2.19.1.pom
Progress (1): 2.2/7.3 kB
Progress (1): 4.9/7.3 kB
Progress (1): 7.3 kB    
                    
Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/maven-surefire-common/2.19.1/maven-surefire-common-2.19.1.pom (7.3 kB at 34 kB/s)
Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/plugin-tools/maven-plugin-annotations/3.3/maven-plugin-annotations-3.3.pom
Progress (1): 1.6 kB
                    
Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/plugin-tools/maven-plugin-annotations/3.3/maven-plugin-annotations-3.3.pom (1.6 kB at 48 kB/s)
Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/plugin-tools/maven-plugin-tools/3.3/maven-plugin-tools-3.3.pom

                   
Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/plugin-tools/maven-plugin-tools/3.3/maven-plugin-tools-3.3.pom (13 kB at 264 kB/s)
Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-api/2.19.1/surefire-api-2.19.1.pom
 
                    
Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-api/2.19.1/surefire-api-2.19.1.pom (3.5 kB at 37 kB/s)
Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-booter/2.19.1/surefire-booter-2.19.1.pom
  
                    
Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-booter/2.19.1/surefire-booter-2.19.1.pom (3.2 kB at 36 kB/s)
Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/reporting/maven-reporting-api/3.0/maven-reporting-api-3.0.pom

                    
Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/reporting/maven-reporting-api/3.0/maven-reporting-api-3.0.pom (2.4 kB at 38 kB/s)
Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/maven-surefire-common/2.19.1/maven-surefire-common-2.19.1.jar
Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/plugin-tools/maven-plugin-annotations/3.3/maven-plugin-annotations-3.3.jar
Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-api/2.19.1/surefire-api-2.19.1.jar
Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/reporting/maven-reporting-api/3.0/maven-reporting-api-3.0.jar
Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-booter/2.19.1/surefire-booter-2.19.1.jar

                                                        
Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/maven-surefire-common/2.19.1/maven-surefire-common-2.19.1.jar (293 kB at 1.7 MB/s)
  
Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/plugin-tools/maven-plugin-annotations/3.3/maven-plugin-annotations-3.3.jar (14 kB at 69 kB/s)
Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/reporting/maven-reporting-api/3.0/maven-reporting-api-3.0.jar (11 kB at 53 kB/s)

                               
Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-booter/2.19.1/surefire-booter-2.19.1.jar (46 kB at 206 kB/s)

                    
Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-api/2.19.1/surefire-api-2.19.1.jar (196 kB at 703 kB/s)
[INFO] Tests are skipped.
[INFO] 
[INFO] [1m--- [0;32mmaven-jar-plugin:3.0.2:jar[m [1m(default-jar)[m @ [36mwildfly-swarm[0;1m ---[m
Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/maven-archiver/3.1.1/maven-archiver-3.1.1.pom

                    
Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/maven-archiver/3.1.1/maven-archiver-3.1.1.pom (4.3 kB at 69 kB/s)
Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/shared/maven-shared-utils/3.0.1/maven-shared-utils-3.0.1.pom

                    
Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/shared/maven-shared-utils/3.0.1/maven-shared-utils-3.0.1.pom (4.6 kB at 73 kB/s)
Downloading: https://repo.maven.apache.org/maven2/org/codehaus/plexus/plexus-archiver/3.3/plexus-archiver-3.3.pom

Downloaded: https://repo.maven.apache.org/maven2/org/codehaus/plexus/plexus-archiver/3.3/plexus-archiver-3.3.pom (5.3 kB at 61 kB/s)
Downloading: https://repo.maven.apache.org/maven2/org/codehaus/plexus/plexus-io/2.7.1/plexus-io-2.7.1.pom

                    
Downloaded: https://repo.maven.apache.org/maven2/org/codehaus/plexus/plexus-io/2.7.1/plexus-io-2.7.1.pom (4.9 kB at 75 kB/s)
Downloading: https://repo.maven.apache.org/maven2/org/apache/commons/commons-compress/1.11/commons-compress-1.11.pom

                   
Downloaded: https://repo.maven.apache.org/maven2/org/apache/commons/commons-compress/1.11/commons-compress-1.11.pom (13 kB at 135 kB/s)
Downloading: https://repo.maven.apache.org/maven2/org/iq80/snappy/snappy/0.4/snappy-0.4.pom

                   
Downloaded: https://repo.maven.apache.org/maven2/org/iq80/snappy/snappy/0.4/snappy-0.4.pom (15 kB at 186 kB/s)
Downloading: https://repo.maven.apache.org/maven2/org/tukaani/xz/1.5/xz-1.5.pom

                    
Downloaded: https://repo.maven.apache.org/maven2/org/tukaani/xz/1.5/xz-1.5.pom (1.9 kB at 24 kB/s)
Downloading: https://repo.maven.apache.org/maven2/org/codehaus/plexus/plexus-archiver/3.4/plexus-archiver-3.4.pom
   
                    
Downloaded: https://repo.maven.apache.org/maven2/org/codehaus/plexus/plexus-archiver/3.4/plexus-archiver-3.4.pom (5.3 kB at 121 kB/s)
Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/maven-archiver/3.1.1/maven-archiver-3.1.1.jar
Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/shared/maven-shared-utils/3.0.1/maven-shared-utils-3.0.1.jar
Downloading: https://repo.maven.apache.org/maven2/org/apache/commons/commons-compress/1.11/commons-compress-1.11.jar
Downloading: https://repo.maven.apache.org/maven2/org/codehaus/plexus/plexus-archiver/3.4/plexus-archiver-3.4.jar
Downloading: https://repo.maven.apache.org/maven2/org/codehaus/plexus/plexus-io/2.7.1/plexus-io-2.7.1.jar
                                                   
Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/maven-archiver/3.1.1/maven-archiver-3.1.1.jar (24 kB at 370 kB/s)

                                           
Downloading: https://repo.maven.apache.org/maven2/org/iq80/snappy/snappy/0.4/snappy-0.4.jar
Downloaded: https://repo.maven.apache.org/maven2/org/codehaus/plexus/plexus-io/2.7.1/plexus-io-2.7.1.jar (86 kB at 1.7 MB/s)
Downloading: https://repo.maven.apache.org/maven2/org/tukaani/xz/1.5/xz-1.5.jar
                                                                 
Downloaded: https://repo.maven.apache.org/maven2/org/tukaani/xz/1.5/xz-1.5.jar (100 kB at 490 kB/s)

                                                         
Downloaded: https://repo.maven.apache.org/maven2/org/iq80/snappy/snappy/0.4/snappy-0.4.jar (58 kB at 285 kB/s)

Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/shared/maven-shared-utils/3.0.1/maven-shared-utils-3.0.1.jar (154 kB at 583 kB/s)

                                 
Downloaded: https://repo.maven.apache.org/maven2/org/codehaus/plexus/plexus-archiver/3.4/plexus-archiver-3.4.jar (187 kB at 599 kB/s)

                    
Downloaded: https://repo.maven.apache.org/maven2/org/apache/commons/commons-compress/1.11/commons-compress-1.11.jar (426 kB at 1.1 MB/s)
[INFO] Building jar: C:\Users\ervelden\AppData\Local\Temp\tmpdir6387031468665632935\target\wildfly-swarm-addon.jar
[INFO] 
[INFO] [1m--- [0;32mmaven-source-plugin:3.0.1:jar-no-fork[m [1m(attach-sources)[m @ [36mwildfly-swarm[0;1m ---[m
[INFO] Building jar: C:\Users\ervelden\AppData\Local\Temp\tmpdir6387031468665632935\target\wildfly-swarm-addon-sources.jar
[INFO] 
[INFO] [1m--- [0;32mmaven-jar-plugin:3.0.2:jar[m [1m(create-forge-addon)[m @ [36mwildfly-swarm[0;1m ---[m
[INFO] Building jar: C:\Users\ervelden\AppData\Local\Temp\tmpdir6387031468665632935\target\wildfly-swarm-addon-forge-addon.jar
[INFO] 
[INFO] [1m--- [0;32mmaven-install-plugin:2.5.2:install[m [1m(default-install)[m @ [36mwildfly-swarm[0;1m ---[m
Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/shared/maven-shared-utils/0.4/maven-shared-utils-0.4.pom
Progress (1): 2.1/4.0 kB
Progress (1): 4.0 kB    
                    
Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/shared/maven-shared-utils/0.4/maven-shared-utils-0.4.pom (4.0 kB at 36 kB/s)
Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/shared/maven-shared-utils/0.4/maven-shared-utils-0.4.jar
Downloading: https://repo.maven.apache.org/maven2/org/codehaus/plexus/plexus-utils/3.0.15/plexus-utils-3.0.15.jar

                             
Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/shared/maven-shared-utils/0.4/maven-shared-utils-0.4.jar (155 kB at 960 kB/s)
Downloaded: https://repo.maven.apache.org/maven2/org/codehaus/plexus/plexus-utils/3.0.15/plexus-utils-3.0.15.jar (239 kB at 1.3 MB/s)
[INFO] Installing C:\Users\ervelden\AppData\Local\Temp\tmpdir6387031468665632935\target\wildfly-swarm-addon.jar to C:\Users\ervelden\.m2\repository\org\jboss\forge\addon\wildfly-swarm\2017.8.2-SNAPSHOT\wildfly-swarm-2017.8.2-SNAPSHOT.jar
[INFO] Installing C:\Users\ervelden\AppData\Local\Temp\tmpdir6387031468665632935\pom.xml to C:\Users\ervelden\.m2\repository\org\jboss\forge\addon\wildfly-swarm\2017.8.2-SNAPSHOT\wildfly-swarm-2017.8.2-SNAPSHOT.pom
[INFO] Installing C:\Users\ervelden\AppData\Local\Temp\tmpdir6387031468665632935\target\wildfly-swarm-addon-sources.jar to C:\Users\ervelden\.m2\repository\org\jboss\forge\addon\wildfly-swarm\2017.8.2-SNAPSHOT\wildfly-swarm-2017.8.2-SNAPSHOT-sources.jar
[INFO] Installing C:\Users\ervelden\AppData\Local\Temp\tmpdir6387031468665632935\target\wildfly-swarm-addon-forge-addon.jar to C:\Users\ervelden\.m2\repository\org\jboss\forge\addon\wildfly-swarm\2017.8.2-SNAPSHOT\wildfly-swarm-2017.8.2-SNAPSHOT-forge-addon.jar
[INFO] [1m------------------------------------------------------------------------[m
[INFO] [1;32mBUILD SUCCESS[m
[INFO] [1m------------------------------------------------------------------------[m
[INFO] Total time: 10.081 s
[INFO] Finished at: 2017-09-01T08:59:07+01:00
[INFO] Final Memory: 147M/287M
[INFO] [1m------------------------------------------------------------------------[m

/ 13	. 

/ ctrl-4, Project Generation/Project New
Project name: demo
Top level package: demo.org				/ TODO
Project type: Wildfly Swarm
Use target project root				/ TODO
Stack: JavaEE 7
Next
Http Port:8080
Fraction List
JAX-RS
Finish

/ we zien demo project,
/ hier zit alleen HelloWorldEndpoint.java en pom.xml in,

$ vi HelloWorldEndpoint.java

package org.demo.rest;

import javax.ws.rs.Path;
import javax.ws.rs.core.Response;
import javax.ws.rs.GET;
import javax.ws.rs.Produces;

@Path("/hello")
public class HelloWorldEndpoint {

	@GET
	@Produces("text/plain")
	public Response doGet() {
		return Response.ok("Hello from WildFly Swarm!").build();
	}
}

/ In Spring werken ze met @RequestMapping(method=RequestMethod.GET, value="/...")

/ 13	. 

/ Net als op de video 
https://www.youtube.com/watch?v=ebcnOopZFWs
/ maken we zelf ook een REST endpoint,
ctrl+4
filter op rest
Java EE/JAX-RS   REST:New Endpoint

/ in het 1ste window doen we NIETS,
Application path: /rest
Configuration strategy: Application class
Target package: org.demo.rest
Class name: RestApplication

/ in het 2de window,
Package name: org.demo.rest
Type name: MyEndpoint
Methods: GET

/ we zien nu 
MyEndpoint.java
RestApplication.java       / TODO

$ vi RestApplication.java

package org.demo.rest;

import javax.ws.rs.core.Application;
import javax.ws.rs.ApplicationPath;

@ApplicationPath("/rest")
public class RestApplication extends Application {
}

$ vi MyEndpoint.java

package org.demo.rest;

import javax.ws.rs.Path;
import javax.ws.rs.core.Response;
import javax.ws.rs.GET;
import javax.ws.rs.Produces;

@Path("/my")
public class MyEndpoint {

	@GET
	@Produces("text/plain")
	public Response doGet() {
		return Response.ok("method doGet invoked").build();
	}
}

/ 13	. 

/ ctrl-4, Wildfly Swarm: New Main Class

Package name: org.demo
Type name: Main

$ vi Main.java

package org.demo;

import org.wildfly.swarm.Swarm;

public class Main {

	public static void main(String[] args) throws Exception {
		Swarm swarm = new Swarm();
		swarm.start();
		swarm.deploy();
	}
}

/ 13	. 

/ als we right click Main.java, en run as application, dan ERR:
Failed to resolve artifact 'xalan:serializer:2.7.1.jbossorg-2'

/ Dit is een Gradle message, 

/ zoek naar string in file,
C:\Users\ervelden\eclipse\workspace-jbosstools-jee-oxygen\demo>findstr /s /c:"static void" *.*
src\main\java\org\demo\Main.java:       public static void main(String[] args) throws Exception {

/ als je op deze manier zoekt naar 'artifact name', want dat zagen we ergens in de ERR messages, dan vinden we niets,


/ 13	. 

/ we zagen dit ergens op stackoverflow, maar helpt niet voor :  right click Main.java, run as application 

  <repositories>
  	<repository>
  		<id></id>
  		<name></name>
  		<url>https://maven.repository.redhat.com/nexus/content/repositories/releases/</url>
  	</repository>
  	<repository>
  		<id></id>
  		<name></name>
  		<url>https://maven.repository.redhat.com/nexus/content/repositories/thirdparty-releases/</url>
  	</repository>
  	
  </repositories>
  
/ 13	. 

/ right click project demo, of pom.xml (NIET Main.java)	, 
$ mvn clean verify

/ Door verify gaat hij alles download, ook xalan, 

[INFO] Scanning for projects...
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building demo 1.0.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ demo ---
[INFO] Deleting C:\Users\ervelden\eclipse\workspace-jbosstools-jee-oxygen\demo\target
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ demo ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 0 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ demo ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 4 source files to C:\Users\ervelden\eclipse\workspace-jbosstools-jee-oxygen\demo\target\classes
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ demo ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 0 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ demo ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.12.4:test (default-test) @ demo ---
[INFO] 
[INFO] --- maven-war-plugin:2.2:war (default-war) @ demo ---
[INFO] Packaging webapp
[INFO] Assembling webapp [demo] in [C:\Users\ervelden\eclipse\workspace-jbosstools-jee-oxygen\demo\target\demo]
[INFO] Processing war project
[INFO] Copying webapp resources [C:\Users\ervelden\eclipse\workspace-jbosstools-jee-oxygen\demo\src\main\webapp]
[INFO] Webapp assembled in [219 msecs]
[INFO] Building war: C:\Users\ervelden\eclipse\workspace-jbosstools-jee-oxygen\demo\target\demo.war
[INFO] 
[INFO] --- wildfly-swarm-plugin:2017.8.1:package (default) @ demo ---
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/wildfly/swarm/tools/2017.8.1/tools-2017.8.1.pom
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/wildfly/swarm/tools/2017.8.1/tools-2017.8.1.pom (3 KB at 5.8 KB/sec)
[INFO] Downloading: https://repo.maven.apache.org/maven2/net/lingala/zip4j/zip4j/1.3.2/zip4j-1.3.2.pom
[INFO] Downloaded: https://repo.maven.apache.org/maven2/net/lingala/zip4j/zip4j/1.3.2/zip4j-1.3.2.pom (922 B at 14.5 KB/sec)
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/eclipse/aether/aether-util/1.0.0.v20140518/aether-util-1.0.0.v20140518.pom
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/eclipse/aether/aether-util/1.0.0.v20140518/aether-util-1.0.0.v20140518.pom (3 KB at 27.5 KB/sec)
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/eclipse/aether/aether/1.0.0.v20140518/aether-1.0.0.v20140518.pom
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/eclipse/aether/aether/1.0.0.v20140518/aether-1.0.0.v20140518.pom (30 KB at 267.7 KB/sec)
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/eclipse/aether/aether-api/1.0.0.v20140518/aether-api-1.0.0.v20140518.pom
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/eclipse/aether/aether-api/1.0.0.v20140518/aether-api-1.0.0.v20140518.pom (2 KB at 29.9 KB/sec)
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/wildfly/swarm/tools/2017.8.1/tools-2017.8.1.jar
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/wildfly/swarm/tools/2017.8.1/tools-2017.8.1.jar (52 KB at 542.1 KB/sec)
[INFO] Downloading: https://repo.maven.apache.org/maven2/net/lingala/zip4j/zip4j/1.3.2/zip4j-1.3.2.jar
[INFO] Downloaded: https://repo.maven.apache.org/maven2/net/lingala/zip4j/zip4j/1.3.2/zip4j-1.3.2.jar (129 KB at 632.0 KB/sec)
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/eclipse/aether/aether-util/1.0.0.v20140518/aether-util-1.0.0.v20140518.jar
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/eclipse/aether/aether-util/1.0.0.v20140518/aether-util-1.0.0.v20140518.jar (143 KB at 828.0 KB/sec)
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/eclipse/aether/aether-api/1.0.0.v20140518/aether-api-1.0.0.v20140518.jar
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/eclipse/aether/aether-api/1.0.0.v20140518/aether-api-1.0.0.v20140518.jar (134 KB at 1210.0 KB/sec)
[WARNING] 
------
Custom main() usage is intended to be deprecated in a future release and is no longer supported, 
please refer to http://reference.wildfly-swarm.io for YAML configuration that replaces it.
------
Resolving 148 out of 206 artifacts
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/jboss/common/jboss-common-beans/2.0.0.Final/jboss-common-beans-2.0.0.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/jboss/common/jboss-common-beans/2.0.0.Final/jboss-common-beans-2.0.0.Final.jar (63 KB at 27.3 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/wildfly-naming/10.1.0.Final/wildfly-naming-10.1.0.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/wildfly-naming/10.1.0.Final/wildfly-naming-10.1.0.Final.jar (253 KB at 222.8 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/core/wildfly-deployment-repository/2.2.1.Final/wildfly-deployment-repository-2.2.1.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/core/wildfly-deployment-repository/2.2.1.Final/wildfly-deployment-repository-2.2.1.Final.jar (30 KB at 42.6 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/jboss/invocation/jboss-invocation/1.4.1.Final/jboss-invocation-1.4.1.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/jboss/invocation/jboss-invocation/1.4.1.Final/jboss-invocation-1.4.1.Final.jar (74 KB at 104.1 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/jboss/xnio/xnio-nio/3.4.3.Final/xnio-nio-3.4.3.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/jboss/xnio/xnio-nio/3.4.3.Final/xnio-nio-3.4.3.Final.jar (115 KB at 53.3 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/jboss/jboss-remote-naming/2.0.4.Final/jboss-remote-naming-2.0.4.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/jboss/jboss-remote-naming/2.0.4.Final/jboss-remote-naming-2.0.4.Final.jar (163 KB at 202.2 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/ch/qos/cal10n/cal10n-api/0.8.1/cal10n-api-0.8.1.jar
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/slf4j/jcl-over-slf4j/1.7.7.jbossorg-1/jcl-over-slf4j-1.7.7.jbossorg-1.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/slf4j/jcl-over-slf4j/1.7.7.jbossorg-1/jcl-over-slf4j-1.7.7.jbossorg-1.jar (17 KB at 11.1 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/jboss/xnio/xnio-api/3.4.3.Final/xnio-api-3.4.3.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/jboss/xnio/xnio-api/3.4.3.Final/xnio-api-3.4.3.Final.jar (529 KB at 330.1 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/io/undertow/jastow/jastow/2.0.1.Final/jastow-2.0.1.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/io/undertow/jastow/jastow/2.0.1.Final/jastow-2.0.1.Final.jar (607 KB at 456.0 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/jboss/remoting/jboss-remoting/4.0.21.Final/jboss-remoting-4.0.21.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/jboss/remoting/jboss-remoting/4.0.21.Final/jboss-remoting-4.0.21.Final.jar (271 KB at 315.4 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/jboss/slf4j/slf4j-jboss-logmanager/1.0.3.GA/slf4j-jboss-logmanager-1.0.3.GA.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/jboss/slf4j/slf4j-jboss-logmanager/1.0.3.GA/slf4j-jboss-logmanager-1.0.3.GA.jar (11 KB at 15.2 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/xerces/xercesImpl/2.11.0.SP5/xercesImpl-2.11.0.SP5.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/xerces/xercesImpl/2.11.0.SP5/xercesImpl-2.11.0.SP5.jar (1767 KB at 1026.5 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/glassfish/jaxb/codemodel/2.2.11.jbossorg-1/codemodel-2.2.11.jbossorg-1.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/glassfish/jaxb/codemodel/2.2.11.jbossorg-1/codemodel-2.2.11.jbossorg-1.jar (149 KB at 98.8 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/jboss/security/jboss-negotiation-common/3.0.2.Final/jboss-negotiation-common-3.0.2.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/jboss/security/jboss-negotiation-common/3.0.2.Final/jboss-negotiation-common-3.0.2.Final.jar (41 KB at 47.2 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/core/wildfly-controller/2.2.1.Final/wildfly-controller-2.2.1.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/core/wildfly-controller/2.2.1.Final/wildfly-controller-2.2.1.Final.jar (1814 KB at 949.5 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/jboss/security/jboss-negotiation-extras/3.0.2.Final/jboss-negotiation-extras-3.0.2.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/jboss/security/jboss-negotiation-extras/3.0.2.Final/jboss-negotiation-extras-3.0.2.Final.jar (44 KB at 63.6 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/core/wildfly-process-controller/2.2.1.Final/wildfly-process-controller-2.2.1.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/core/wildfly-process-controller/2.2.1.Final/wildfly-process-controller-2.2.1.Final.jar (126 KB at 166.8 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/core/wildfly-protocol/2.2.1.Final/wildfly-protocol-2.2.1.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/core/wildfly-protocol/2.2.1.Final/wildfly-protocol-2.2.1.Final.jar (101 KB at 146.1 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/jboss/threads/jboss-threads/2.2.1.Final/jboss-threads-2.2.1.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/jboss/threads/jboss-threads/2.2.1.Final/jboss-threads-2.2.1.Final.jar (122 KB at 172.8 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/codehaus/jackson/jackson-jaxrs/1.9.13/jackson-jaxrs-1.9.13.jar
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/joda-time/joda-time/2.7/joda-time-2.7.jar
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/com/sun/xml/bind/external/rngom/2.2.11.jbossorg-1/rngom-2.2.11.jbossorg-1.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/com/sun/xml/bind/external/rngom/2.2.11.jbossorg-1/rngom-2.2.11.jbossorg-1.jar (305 KB at 136.8 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/jboss/metadata/jboss-metadata-ear/10.0.0.Final/jboss-metadata-ear-10.0.0.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/jboss/metadata/jboss-metadata-ear/10.0.0.Final/jboss-metadata-ear-10.0.0.Final.jar (67 KB at 95.1 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/glassfish/jaxb/jaxb-xjc/2.2.11.jbossorg-1/jaxb-xjc-2.2.11.jbossorg-1.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/glassfish/jaxb/jaxb-xjc/2.2.11.jbossorg-1/jaxb-xjc-2.2.11.jbossorg-1.jar (1017 KB at 629.6 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/core/wildfly-platform-mbean/2.2.1.Final/wildfly-platform-mbean-2.2.1.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/core/wildfly-platform-mbean/2.2.1.Final/wildfly-platform-mbean-2.2.1.Final.jar (123 KB at 177.6 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/jboss/jboss-vfs/3.2.12.Final/jboss-vfs-3.2.12.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/jboss/jboss-vfs/3.2.12.Final/jboss-vfs-3.2.12.Final.jar (141 KB at 199.8 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/common/wildfly-common/1.1.0.Final/wildfly-common-1.1.0.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/common/wildfly-common/1.1.0.Final/wildfly-common-1.1.0.Final.jar (49 KB at 71.1 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/picketbox/picketbox/4.9.6.Final/picketbox-4.9.6.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/picketbox/picketbox/4.9.6.Final/picketbox-4.9.6.Final.jar (926 KB at 798.1 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/core/wildfly-remoting/2.2.1.Final/wildfly-remoting-2.2.1.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/core/wildfly-remoting/2.2.1.Final/wildfly-remoting-2.2.1.Final.jar (206 KB at 284.6 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/jboss/resteasy/resteasy-client/3.0.19.Final/resteasy-client-3.0.19.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/jboss/resteasy/resteasy-client/3.0.19.Final/resteasy-client-3.0.19.Final.jar (152 KB at 219.8 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/jboss/resteasy/resteasy-jackson2-provider/3.0.19.Final/resteasy-jackson2-provider-3.0.19.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/jboss/resteasy/resteasy-jackson2-provider/3.0.19.Final/resteasy-jackson2-provider-3.0.19.Final.jar (14 KB at 20.3 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/jboss/logmanager/log4j-jboss-logmanager/1.1.2.Final/log4j-jboss-logmanager-1.1.2.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/jboss/logmanager/log4j-jboss-logmanager/1.1.2.Final/log4j-jboss-logmanager-1.1.2.Final.jar (483 KB at 558.2 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/xalan/serializer/2.7.1.jbossorg-2/serializer-2.7.1.jbossorg-2.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/xalan/serializer/2.7.1.jbossorg-2/serializer-2.7.1.jbossorg-2.jar (279 KB at 333.5 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/jboss/resteasy/resteasy-jaxrs/3.0.19.Final/resteasy-jaxrs-3.0.19.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/jboss/resteasy/resteasy-jaxrs/3.0.19.Final/resteasy-jaxrs-3.0.19.Final.jar (870 KB at 713.0 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/apache/httpcomponents/httpasyncclient/4.1/httpasyncclient-4.1.jar
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/jboss/resteasy/async-http-servlet-3.0/3.0.19.Final/async-http-servlet-3.0-3.0.19.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/jboss/resteasy/async-http-servlet-3.0/3.0.19.Final/async-http-servlet-3.0-3.0.19.Final.jar (21 KB at 14.2 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/picketbox/picketbox-commons/1.0.0.final/picketbox-commons-1.0.0.final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/picketbox/picketbox-commons/1.0.0.final/picketbox-commons-1.0.0.final.jar (21 KB at 31.2 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/core/wildfly-version/2.2.1.Final/wildfly-version-2.2.1.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/core/wildfly-version/2.2.1.Final/wildfly-version-2.2.1.Final.jar (16 KB at 23.4 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/glassfish/jaxb/jaxb-runtime/2.2.11.jbossorg-1/jaxb-runtime-2.2.11.jbossorg-1.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/glassfish/jaxb/jaxb-runtime/2.2.11.jbossorg-1/jaxb-runtime-2.2.11.jbossorg-1.jar (1009 KB at 531.1 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/com/sun/istack/istack-commons-tools/2.21/istack-commons-tools-2.21.jar
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/xalan/xalan/2.7.1.jbossorg-2/xalan-2.7.1.jbossorg-2.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/xalan/xalan/2.7.1.jbossorg-2/xalan-2.7.1.jbossorg-2.jar (3178 KB at 724.9 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/core/wildfly-core-security/2.2.1.Final/wildfly-core-security-2.2.1.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/core/wildfly-core-security/2.2.1.Final/wildfly-core-security-2.2.1.Final.jar (15 KB at 20.6 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/com/sun/xsom/xsom/20140925/xsom-20140925.jar
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/io/undertow/undertow-websockets-jsr/1.4.0.Final/undertow-websockets-jsr-1.4.0.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/io/undertow/undertow-websockets-jsr/1.4.0.Final/undertow-websockets-jsr-1.4.0.Final.jar (164 KB at 85.5 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/core/wildfly-io/2.2.1.Final/wildfly-io-2.2.1.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/core/wildfly-io/2.2.1.Final/wildfly-io-2.2.1.Final.jar (46 KB at 66.4 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/jboss/marshalling/jboss-marshalling/1.4.11.Final/jboss-marshalling-1.4.11.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/jboss/marshalling/jboss-marshalling/1.4.11.Final/jboss-marshalling-1.4.11.Final.jar (221 KB at 195.2 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/apache/httpcomponents/httpcore/4.4.1/httpcore-4.4.1.jar
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/jboss/jboss-dmr/1.3.0.Final/jboss-dmr-1.3.0.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/jboss/jboss-dmr/1.3.0.Final/jboss-dmr-1.3.0.Final.jar (95 KB at 49.6 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/jboss/spec/javax/servlet/jsp/jboss-jsp-api_2.3_spec/1.0.1.Final/jboss-jsp-api_2.3_spec-1.0.1.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/jboss/spec/javax/servlet/jsp/jboss-jsp-api_2.3_spec/1.0.1.Final/jboss-jsp-api_2.3_spec-1.0.1.Final.jar (58 KB at 82.1 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/security/wildfly-elytron/1.0.2.Final/wildfly-elytron-1.0.2.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/security/wildfly-elytron/1.0.2.Final/wildfly-elytron-1.0.2.Final.jar (188 KB at 183.7 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/core/wildfly-threads/2.2.1.Final/wildfly-threads-2.2.1.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/core/wildfly-threads/2.2.1.Final/wildfly-threads-2.2.1.Final.jar (128 KB at 51.2 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/glassfish/jaxb/jaxb-core/2.2.11.jbossorg-1/jaxb-core-2.2.11.jbossorg-1.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/glassfish/jaxb/jaxb-core/2.2.11.jbossorg-1/jaxb-core-2.2.11.jbossorg-1.jar (150 KB at 170.8 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/jboss/stdio/jboss-stdio/1.0.2.GA/jboss-stdio-1.0.2.GA.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/jboss/stdio/jboss-stdio/1.0.2.GA/jboss-stdio-1.0.2.GA.jar (19 KB at 25.6 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/jboss/sasl/jboss-sasl/1.0.5.Final/jboss-sasl-1.0.5.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/jboss/sasl/jboss-sasl/1.0.5.Final/jboss-sasl-1.0.5.Final.jar (92 KB at 120.7 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/glassfish/jaxb/jaxb-jxc/2.2.11.jbossorg-1/jaxb-jxc-2.2.11.jbossorg-1.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/glassfish/jaxb/jaxb-jxc/2.2.11.jbossorg-1/jaxb-jxc-2.2.11.jbossorg-1.jar (117 KB at 155.3 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/apache/httpcomponents/httpclient/4.5/httpclient-4.5.jar
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/apache/httpcomponents/httpcore-nio/4.4.1/httpcore-nio-4.4.1.jar
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/wildfly-undertow/10.1.0.Final/wildfly-undertow-10.1.0.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/wildfly-undertow/10.1.0.Final/wildfly-undertow-10.1.0.Final.jar (686 KB at 253.2 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/jboss/spec/javax/servlet/jstl/jboss-jstl-api_1.2_spec/1.1.3.Final/jboss-jstl-api_1.2_spec-1.1.3.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/jboss/spec/javax/servlet/jstl/jboss-jstl-api_1.2_spec/1.1.3.Final/jboss-jstl-api_1.2_spec-1.1.3.Final.jar (440 KB at 500.6 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/core/wildfly-logging/2.2.1.Final/wildfly-logging-2.2.1.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/core/wildfly-logging/2.2.1.Final/wildfly-logging-2.2.1.Final.jar (427 KB at 490.9 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/jboss/metadata/jboss-metadata-web/10.0.0.Final/jboss-metadata-web-10.0.0.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/jboss/metadata/jboss-metadata-web/10.0.0.Final/jboss-metadata-web-10.0.0.Final.jar (433 KB at 499.4 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/jboss/marshalling/jboss-marshalling-river/1.4.11.Final/jboss-marshalling-river-1.4.11.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/jboss/marshalling/jboss-marshalling-river/1.4.11.Final/jboss-marshalling-river-1.4.11.Final.jar (81 KB at 114.3 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/jboss/security/jboss-negotiation-ntlm/3.0.2.Final/jboss-negotiation-ntlm-3.0.2.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/jboss/security/jboss-negotiation-ntlm/3.0.2.Final/jboss-negotiation-ntlm-3.0.2.Final.jar (15 KB at 21.0 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/wildfly-jaxrs/10.1.0.Final/wildfly-jaxrs-10.1.0.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/wildfly-jaxrs/10.1.0.Final/wildfly-jaxrs-10.1.0.Final.jar (55 KB at 79.2 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/apache/httpcomponents/httpmime/4.5/httpmime-4.5.jar
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/codehaus/jackson/jackson-xc/1.9.13/jackson-xc-1.9.13.jar
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/jboss/spec/javax/security/jacc/jboss-jacc-api_1.5_spec/1.0.0.Final/jboss-jacc-api_1.5_spec-1.0.0.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/jboss/spec/javax/security/jacc/jboss-jacc-api_1.5_spec/1.0.0.Final/jboss-jacc-api_1.5_spec-1.0.0.Final.jar (35 KB at 17.8 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/com/fasterxml/jackson/datatype/jackson-datatype-jsr310/2.7.4/jackson-datatype-jsr310-2.7.4.jar
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/com/sun/istack/istack-commons-runtime/2.21/istack-commons-runtime-2.21.jar
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/codehaus/woodstox/woodstox-core-asl/4.4.1/woodstox-core-asl-4.4.1.jar
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/core/wildfly-controller-client/2.2.1.Final/wildfly-controller-client-2.2.1.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/core/wildfly-controller-client/2.2.1.Final/wildfly-controller-client-2.2.1.Final.jar (207 KB at 101.4 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/com/github/relaxng/relaxngDatatype/2011.1/relaxngDatatype-2011.1.jar
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/jboss/resteasy/resteasy-jackson-provider/3.0.19.Final/resteasy-jackson-provider-3.0.19.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/jboss/resteasy/resteasy-jackson-provider/3.0.19.Final/resteasy-jackson-provider-3.0.19.Final.jar (8 KB at 5.2 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/jboss/resteasy/resteasy-jaxb-provider/3.0.19.Final/resteasy-jaxb-provider-3.0.19.Final.jar
sep 01, 2017 11:50:59 AM okhttp3.internal.platform.Platform log
WARNING: A connection to https://repository.jboss.org/ was leaked. Did you forget to close a response body? To see where this was allocated, set the OkHttpClient logger level to FINE: Logger.getLogger(OkHttpClient.class.getName()).setLevel(Level.FINE);
sep 01, 2017 11:50:59 AM okhttp3.internal.platform.Platform log
WARNING: A connection to https://repository.jboss.org/ was leaked. Did you forget to close a response body? To see where this was allocated, set the OkHttpClient logger level to FINE: Logger.getLogger(OkHttpClient.class.getName()).setLevel(Level.FINE);
sep 01, 2017 11:50:59 AM okhttp3.internal.platform.Platform log
WARNING: A connection to https://repository.jboss.org/ was leaked. Did you forget to close a response body? To see where this was allocated, set the OkHttpClient logger level to FINE: Logger.getLogger(OkHttpClient.class.getName()).setLevel(Level.FINE);
sep 01, 2017 11:50:59 AM okhttp3.internal.platform.Platform log
WARNING: A connection to https://repository.jboss.org/ was leaked. Did you forget to close a response body? To see where this was allocated, set the OkHttpClient logger level to FINE: Logger.getLogger(OkHttpClient.class.getName()).setLevel(Level.FINE);
sep 01, 2017 11:50:59 AM okhttp3.internal.platform.Platform log
WARNING: A connection to https://repository.jboss.org/ was leaked. Did you forget to close a response body? To see where this was allocated, set the OkHttpClient logger level to FINE: Logger.getLogger(OkHttpClient.class.getName()).setLevel(Level.FINE);
sep 01, 2017 11:50:59 AM okhttp3.internal.platform.Platform log
WARNING: A connection to https://repository.jboss.org/ was leaked. Did you forget to close a response body? To see where this was allocated, set the OkHttpClient logger level to FINE: Logger.getLogger(OkHttpClient.class.getName()).setLevel(Level.FINE);
sep 01, 2017 11:50:59 AM okhttp3.internal.platform.Platform log
WARNING: A connection to https://repository.jboss.org/ was leaked. Did you forget to close a response body? To see where this was allocated, set the OkHttpClient logger level to FINE: Logger.getLogger(OkHttpClient.class.getName()).setLevel(Level.FINE);
sep 01, 2017 11:50:59 AM okhttp3.internal.platform.Platform log
WARNING: A connection to https://repository.jboss.org/ was leaked. Did you forget to close a response body? To see where this was allocated, set the OkHttpClient logger level to FINE: Logger.getLogger(OkHttpClient.class.getName()).setLevel(Level.FINE);
sep 01, 2017 11:50:59 AM okhttp3.internal.platform.Platform log
WARNING: A connection to https://repository.jboss.org/ was leaked. Did you forget to close a response body? To see where this was allocated, set the OkHttpClient logger level to FINE: Logger.getLogger(OkHttpClient.class.getName()).setLevel(Level.FINE);
sep 01, 2017 11:50:59 AM okhttp3.internal.platform.Platform log
WARNING: A connection to https://repository.jboss.org/ was leaked. Did you forget to close a response body? To see where this was allocated, set the OkHttpClient logger level to FINE: Logger.getLogger(OkHttpClient.class.getName()).setLevel(Level.FINE);
sep 01, 2017 11:50:59 AM okhttp3.internal.platform.Platform log
WARNING: A connection to https://repository.jboss.org/ was leaked. Did you forget to close a response body? To see where this was allocated, set the OkHttpClient logger level to FINE: Logger.getLogger(OkHttpClient.class.getName()).setLevel(Level.FINE);
sep 01, 2017 11:50:59 AM okhttp3.internal.platform.Platform log
WARNING: A connection to https://repository.jboss.org/ was leaked. Did you forget to close a response body? To see where this was allocated, set the OkHttpClient logger level to FINE: Logger.getLogger(OkHttpClient.class.getName()).setLevel(Level.FINE);
sep 01, 2017 11:50:59 AM okhttp3.internal.platform.Platform log
WARNING: A connection to https://repository.jboss.org/ was leaked. Did you forget to close a response body? To see where this was allocated, set the OkHttpClient logger level to FINE: Logger.getLogger(OkHttpClient.class.getName()).setLevel(Level.FINE);
sep 01, 2017 11:50:59 AM okhttp3.internal.platform.Platform log
WARNING: A connection to https://repository.jboss.org/ was leaked. Did you forget to close a response body? To see where this was allocated, set the OkHttpClient logger level to FINE: Logger.getLogger(OkHttpClient.class.getName()).setLevel(Level.FINE);
sep 01, 2017 11:50:59 AM okhttp3.internal.platform.Platform log
WARNING: A connection to https://repository.jboss.org/ was leaked. Did you forget to close a response body? To see where this was allocated, set the OkHttpClient logger level to FINE: Logger.getLogger(OkHttpClient.class.getName()).setLevel(Level.FINE);
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/jboss/resteasy/resteasy-jaxb-provider/3.0.19.Final/resteasy-jaxb-provider-3.0.19.Final.jar (78 KB at 78.1 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/jboss/msc/jboss-msc/1.2.6.Final/jboss-msc-1.2.6.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/jboss/msc/jboss-msc/1.2.6.Final/jboss-msc-1.2.6.Final.jar (226 KB at 197.0 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/jboss/security/jboss-negotiation-spnego/3.0.2.Final/jboss-negotiation-spnego-3.0.2.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/jboss/security/jboss-negotiation-spnego/3.0.2.Final/jboss-negotiation-spnego-3.0.2.Final.jar (34 KB at 46.8 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/apache/james/apache-mime4j/0.6/apache-mime4j-0.6.jar
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/jboss/metadata/jboss-metadata-common/10.0.0.Final/jboss-metadata-common-10.0.0.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/jboss/metadata/jboss-metadata-common/10.0.0.Final/jboss-metadata-common-10.0.0.Final.jar (460 KB at 193.6 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/javax/activation/activation/1.1.1/activation-1.1.1.jar
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/jboss/resteasy/resteasy-cdi/3.0.19.Final/resteasy-cdi-3.0.19.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/jboss/resteasy/resteasy-cdi/3.0.19.Final/resteasy-cdi-3.0.19.Final.jar (29 KB at 18.0 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/jboss/logging/jul-to-slf4j-stub/1.0.1.Final/jul-to-slf4j-stub-1.0.1.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/jboss/logging/jul-to-slf4j-stub/1.0.1.Final/jul-to-slf4j-stub-1.0.1.Final.jar (4 KB at 4.7 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/picketbox/picketbox-infinispan/4.9.6.Final/picketbox-infinispan-4.9.6.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/picketbox/picketbox-infinispan/4.9.6.Final/picketbox-infinispan-4.9.6.Final.jar (23 KB at 33.8 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/core/wildfly-server/2.2.1.Final/wildfly-server-2.2.1.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/core/wildfly-server/2.2.1.Final/wildfly-server-2.2.1.Final.jar (1259 KB at 584.8 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/glassfish/jaxb/txw2/2.2.11.jbossorg-1/txw2-2.2.11.jbossorg-1.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/glassfish/jaxb/txw2/2.2.11.jbossorg-1/txw2-2.2.11.jbossorg-1.jar (68 KB at 95.9 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/core/wildfly-request-controller/2.2.1.Final/wildfly-request-controller-2.2.1.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/core/wildfly-request-controller/2.2.1.Final/wildfly-request-controller-2.2.1.Final.jar (37 KB at 54.9 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/codehaus/woodstox/stax2-api/3.1.4/stax2-api-3.1.4.jar
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/core/wildfly-self-contained/2.2.1.Final/wildfly-self-contained-2.2.1.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/core/wildfly-self-contained/2.2.1.Final/wildfly-self-contained-2.2.1.Final.jar (9 KB at 5.6 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/core/wildfly-core-security-api/2.2.1.Final/wildfly-core-security-api-2.2.1.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/core/wildfly-core-security-api/2.2.1.Final/wildfly-core-security-api-2.2.1.Final.jar (5 KB at 4.7 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/jboss/classfilewriter/jboss-classfilewriter/1.1.2.Final/jboss-classfilewriter-1.1.2.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/jboss/classfilewriter/jboss-classfilewriter/1.1.2.Final/jboss-classfilewriter-1.1.2.Final.jar (112 KB at 113.5 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/jboss/staxmapper/1.2.0.Final/staxmapper-1.2.0.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/jboss/staxmapper/1.2.0.Final/staxmapper-1.2.0.Final.jar (36 KB at 52.2 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/eclipse/jdt/core/compiler/ecj/4.5.1/ecj-4.5.1.jar
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/jboss/spec/javax/security/auth/message/jboss-jaspi-api_1.1_spec/1.0.0.Final/jboss-jaspi-api_1.1_spec-1.0.0.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/jboss/spec/javax/security/auth/message/jboss-jaspi-api_1.1_spec/1.0.0.Final/jboss-jaspi-api_1.1_spec-1.0.0.Final.jar (34 KB at 18.8 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/core/wildfly-domain-management/2.2.1.Final/wildfly-domain-management-2.2.1.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/core/wildfly-domain-management/2.2.1.Final/wildfly-domain-management-2.2.1.Final.jar (816 KB at 472.2 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/wildfly-ee/10.1.0.Final/wildfly-ee-10.1.0.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/wildfly-ee/10.1.0.Final/wildfly-ee-10.1.0.Final.jar (568 KB at 438.2 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/io/undertow/undertow-servlet/1.4.0.Final/undertow-servlet-1.4.0.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/io/undertow/undertow-servlet/1.4.0.Final/undertow-servlet-1.4.0.Final.jar (497 KB at 481.0 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/wildfly-security/10.1.0.Final/wildfly-security-10.1.0.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/wildfly-security/10.1.0.Final/wildfly-security-10.1.0.Final.jar (282 KB at 333.4 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/wildfly-web-common/10.1.0.Final/wildfly-web-common-10.1.0.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/wildfly-web-common/10.1.0.Final/wildfly-web-common-10.1.0.Final.jar (48 KB at 68.3 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/core/wildfly-network/2.2.1.Final/wildfly-network-2.2.1.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/core/wildfly-network/2.2.1.Final/wildfly-network-2.2.1.Final.jar (42 KB at 58.8 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/com/fasterxml/jackson/datatype/jackson-datatype-jdk8/2.7.4/jackson-datatype-jdk8-2.7.4.jar
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/jboss/spec/javax/xml/bind/jboss-jaxb-api_2.2_spec/1.0.4.Final/jboss-jaxb-api_2.2_spec-1.0.4.Final.jar
[INFO] Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/jboss/spec/javax/xml/bind/jboss-jaxb-api_2.2_spec/1.0.4.Final/jboss-jaxb-api_2.2_spec-1.0.4.Final.jar (103 KB at 45.4 KB/sec)
[INFO] Downloading: https://repository.jboss.org/nexus/content/groups/public/org/glassfish/javax.enterprise.concurrent/1.0/javax.enterprise.concurrent-1.0.jar
[INFO] Downloading: https://repo.maven.apache.org/maven2/ch/qos/cal10n/cal10n-api/0.8.1/cal10n-api-0.8.1.jar
[INFO] Downloaded: https://repo.maven.apache.org/maven2/ch/qos/cal10n/cal10n-api/0.8.1/cal10n-api-0.8.1.jar (38 KB at 149.2 KB/sec)
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/codehaus/jackson/jackson-jaxrs/1.9.13/jackson-jaxrs-1.9.13.jar
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/codehaus/jackson/jackson-jaxrs/1.9.13/jackson-jaxrs-1.9.13.jar (18 KB at 190.5 KB/sec)
[INFO] Downloading: https://repo.maven.apache.org/maven2/joda-time/joda-time/2.7/joda-time-2.7.jar
[INFO] Downloaded: https://repo.maven.apache.org/maven2/joda-time/joda-time/2.7/joda-time-2.7.jar (576 KB at 1098.2 KB/sec)
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/httpcomponents/httpasyncclient/4.1/httpasyncclient-4.1.jar
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/apache/httpcomponents/httpasyncclient/4.1/httpasyncclient-4.1.jar (173 KB at 1225.4 KB/sec)
[INFO] Downloading: https://repo.maven.apache.org/maven2/com/sun/istack/istack-commons-tools/2.21/istack-commons-tools-2.21.jar
[INFO] Downloaded: https://repo.maven.apache.org/maven2/com/sun/istack/istack-commons-tools/2.21/istack-commons-tools-2.21.jar (25 KB at 318.6 KB/sec)
[INFO] Downloading: https://repo.maven.apache.org/maven2/com/sun/xsom/xsom/20140925/xsom-20140925.jar
[INFO] Downloaded: https://repo.maven.apache.org/maven2/com/sun/xsom/xsom/20140925/xsom-20140925.jar (403 KB at 2857.3 KB/sec)
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/httpcomponents/httpcore/4.4.1/httpcore-4.4.1.jar
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/apache/httpcomponents/httpcore/4.4.1/httpcore-4.4.1.jar (315 KB at 2537.8 KB/sec)
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/httpcomponents/httpclient/4.5/httpclient-4.5.jar
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/apache/httpcomponents/httpclient/4.5/httpclient-4.5.jar (711 KB at 3759.3 KB/sec)
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/httpcomponents/httpcore-nio/4.4.1/httpcore-nio-4.4.1.jar
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/apache/httpcomponents/httpcore-nio/4.4.1/httpcore-nio-4.4.1.jar (348 KB at 3186.8 KB/sec)
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/httpcomponents/httpmime/4.5/httpmime-4.5.jar
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/apache/httpcomponents/httpmime/4.5/httpmime-4.5.jar (40 KB at 640.9 KB/sec)
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/codehaus/jackson/jackson-xc/1.9.13/jackson-xc-1.9.13.jar
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/codehaus/jackson/jackson-xc/1.9.13/jackson-xc-1.9.13.jar (27 KB at 562.7 KB/sec)
[INFO] Downloading: https://repo.maven.apache.org/maven2/com/fasterxml/jackson/datatype/jackson-datatype-jsr310/2.7.4/jackson-datatype-jsr310-2.7.4.jar
[INFO] Downloaded: https://repo.maven.apache.org/maven2/com/fasterxml/jackson/datatype/jackson-datatype-jsr310/2.7.4/jackson-datatype-jsr310-2.7.4.jar (87 KB at 1109.5 KB/sec)
[INFO] Downloading: https://repo.maven.apache.org/maven2/com/sun/istack/istack-commons-runtime/2.21/istack-commons-runtime-2.21.jar
[INFO] Downloaded: https://repo.maven.apache.org/maven2/com/sun/istack/istack-commons-runtime/2.21/istack-commons-runtime-2.21.jar (23 KB at 365.5 KB/sec)
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/codehaus/woodstox/woodstox-core-asl/4.4.1/woodstox-core-asl-4.4.1.jar
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/codehaus/woodstox/woodstox-core-asl/4.4.1/woodstox-core-asl-4.4.1.jar (475 KB at 3737.2 KB/sec)
[INFO] Downloading: https://repo.maven.apache.org/maven2/com/github/relaxng/relaxngDatatype/2011.1/relaxngDatatype-2011.1.jar
[INFO] Downloaded: https://repo.maven.apache.org/maven2/com/github/relaxng/relaxngDatatype/2011.1/relaxngDatatype-2011.1.jar (16 KB at 242.5 KB/sec)
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/james/apache-mime4j/0.6/apache-mime4j-0.6.jar
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/apache/james/apache-mime4j/0.6/apache-mime4j-0.6.jar (337 KB at 3091.4 KB/sec)
[INFO] Downloading: https://repo.maven.apache.org/maven2/javax/activation/activation/1.1.1/activation-1.1.1.jar
[INFO] Downloaded: https://repo.maven.apache.org/maven2/javax/activation/activation/1.1.1/activation-1.1.1.jar (68 KB at 869.0 KB/sec)
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/codehaus/woodstox/stax2-api/3.1.4/stax2-api-3.1.4.jar
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/codehaus/woodstox/stax2-api/3.1.4/stax2-api-3.1.4.jar (159 KB at 2549.6 KB/sec)
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/eclipse/jdt/core/compiler/ecj/4.5.1/ecj-4.5.1.jar
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/eclipse/jdt/core/compiler/ecj/4.5.1/ecj-4.5.1.jar (2338 KB at 3941.5 KB/sec)
[INFO] Downloading: https://repo.maven.apache.org/maven2/com/fasterxml/jackson/datatype/jackson-datatype-jdk8/2.7.4/jackson-datatype-jdk8-2.7.4.jar
[INFO] Downloaded: https://repo.maven.apache.org/maven2/com/fasterxml/jackson/datatype/jackson-datatype-jdk8/2.7.4/jackson-datatype-jdk8-2.7.4.jar (26 KB at 422.5 KB/sec)
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/glassfish/javax.enterprise.concurrent/1.0/javax.enterprise.concurrent-1.0.jar
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/glassfish/javax.enterprise.concurrent/1.0/javax.enterprise.concurrent-1.0.jar (55 KB at 877.1 KB/sec)
[INFO] Repackaging .war: C:\Users\ervelden\eclipse\workspace-jbosstools-jee-oxygen\demo\target\demo.war
[INFO] Repackaged .war: C:\Users\ervelden\eclipse\workspace-jbosstools-jee-oxygen\demo\target\demo.war
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 01:56 min
[INFO] Finished at: 2017-09-01T11:51:32+01:00
[INFO] Final Memory: 30M/335M
[INFO] ------------------------------------------------------------------------

/ 13	. 

C:\Program Files (x86)\Jenkins\jenkins.exe
C:\Program Files\Apache Software Foundation\Tomcat 8.5\bin\Tomcat8w.exe

/ we hadden jenkins.exe kill, maar toch zien we nog,
"C:\Program Files (x86)\Jenkins\jre\bin\java" -Xrs -Xmx256m -Dhudson.lifecycle=hudson.lifecycle.WindowsServiceLifecycle -jar "C:\Program Files (x86)\Jenkins\jenkins.war" --httpPort=8080 --webroot="C:\Program Files (x86)\Jenkins\war"
/ TODO

/ grep,
$ tasklist | findstr jenkins
/ NIETS, 
$ tasklist | findstr tomcat
/ NIETS

mvn exec:exec -Dexec.executable="maven" [-Dexec.workingdir="/tmp"] -Dexec.args="-X myproject:dist"
mvn exec:java -Dexec.mainClass="com.example.Main" [-Dexec.args="argument1"] ...

/ 13	. 

/ right click Main.java, run as application,

/ of lees,
https://wildfly-swarm.gitbooks.io/wildfly-swarm-users-guide/getting-started/tooling/maven-plugin.html

$ mvn clean wildfly-swarm:run

Fri Sep 01 12:27:38 GMT+01:00 2017 INFO [org.wildfly.swarm.bootstrap] (main) Dependencies not bundled; resolving from M2REPO.
2017-09-01 12:27:40,067 INFO  [org.wildfly.swarm] (main) WFSWARM0013: Installed fraction:                  Logging - STABLE          org.wildfly.swarm:logging:2017.8.1
2017-09-01 12:27:40,067 INFO  [org.wildfly.swarm] (main) WFSWARM0013: Installed fraction:                 Undertow - STABLE          org.wildfly.swarm:undertow:2017.8.1
2017-09-01 12:27:40,067 INFO  [org.wildfly.swarm] (main) WFSWARM0013: Installed fraction:                   JAX-RS - STABLE          org.wildfly.swarm:jaxrs:2017.8.1
2017-09-01 12:27:41,834 INFO  [org.jboss.msc] (main) JBoss MSC version 1.2.6.Final
2017-09-01 12:27:41,896 INFO  [org.jboss.as] (MSC service thread 1-6) WFLYSRV0049: WildFly Swarm 2017.8.1 (WildFly Core 2.2.1.Final) starting
2017-09-01 12:27:41,946 INFO  [org.wildfly.swarm] (MSC service thread 1-6) WFSWARM0019: Install MSC service for command line args: []
2017-09-01 12:27:42,539 INFO  [org.jboss.as.security] (ServerService Thread Pool -- 10) WFLYSEC0002: Activating Security Subsystem
2017-09-01 12:27:42,539 INFO  [org.jboss.as.naming] (ServerService Thread Pool -- 12) WFLYNAM0001: Activating Naming Subsystem
2017-09-01 12:27:42,539 INFO  [org.jboss.as.security] (MSC service thread 1-4) WFLYSEC0001: Current PicketBox version=4.9.6.Final
2017-09-01 12:27:42,539 INFO  [org.wildfly.extension.io] (ServerService Thread Pool -- 16) WFLYIO001: Worker 'default' has auto-configured to 16 core threads with 128 task threads based on your 8 available processors
2017-09-01 12:27:42,554 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0003: Undertow 1.4.11.Final starting
2017-09-01 12:27:42,570 INFO  [org.jboss.as.naming] (MSC service thread 1-6) WFLYNAM0003: Starting Naming Service
2017-09-01 12:27:42,601 INFO  [org.xnio] (MSC service thread 1-8) XNIO version 3.4.3.Final
2017-09-01 12:27:42,601 INFO  [org.xnio.nio] (MSC service thread 1-8) XNIO NIO Implementation Version 3.4.3.Final
2017-09-01 12:27:42,663 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-5) WFLYUT0012: Started server default-server.
2017-09-01 12:27:42,788 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-6) WFLYUT0006: Undertow HTTP listener default listening on [0:0:0:0:0:0:0:0]:8080
2017-09-01 12:27:42,851 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0025: WildFly Swarm 2017.8.1 (WildFly Core 2.2.1.Final) started in 1049ms - Started 70 of 77 services (14 services are lazy, passive or on-demand)
2017-09-01 12:27:43,430 INFO  [org.wildfly.swarm.runtime.deployer] (main) deploying 0ceaccec-4af5-49a5-9988-9bc5d1c4388a.war
2017-09-01 12:27:43,445 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-2) WFLYSRV0027: Starting deployment of "0ceaccec-4af5-49a5-9988-9bc5d1c4388a.war" (runtime-name: "0ceaccec-4af5-49a5-9988-9bc5d1c4388a.war")
2017-09-01 12:27:44,326 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0018: Host default-host starting
2017-09-01 12:27:44,561 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 4) RESTEASY002225: Deploying javax.ws.rs.core.Application: class org.demo.rest.RestApplication
2017-09-01 12:27:44,577 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 4) WFLYUT0021: Registered web context: /
2017-09-01 12:27:44,623 INFO  [org.jboss.as.server] (main) WFLYSRV0010: Deployed "0ceaccec-4af5-49a5-9988-9bc5d1c4388a.war" (runtime-name : "0ceaccec-4af5-49a5-9988-9bc5d1c4388a.war")


/ geef
http://localhost:8080/rest/hello
Hello from WildFly Swarm!
http://localhost:8080/rest/my

/ 13	. 

/ right click project, debug as ...
/ Kan dit ook met 
$ maven clean wildfly-swarm:run

/ 13	. 

/ lees,
https://wildfly-swarm.gitbooks.io/wildfly-swarm-users-guide/configuration_properties.html

/ we zijn in jbosstools-jee-oxygen eclipse, en workspace-jbosstools-jee-oxygen

/ 13	. 

https://www.youtube.com/watch?v=47730LFtemY


/ 13	. 

/ kijk,
https://www.youtube.com/watch?v=5BvJVAlZyvo

/ we install forge op de command line,

/ 13	. 

https://www.youtube.com/watch?v=iBJ8FlUA3ok&t=288s


/ Einde JBOSSTOOLS FORGE WILDFLY SWARM

/ JBOSSTOOLS FORGE WILDFLY SWARM

/ 7	. 

/ kijk,
https://www.youtube.com/watch?v=5BvJVAlZyvo

/ we install forge op de command line,

/ we download de zip file, en als we unzip zien we een folder, dus we kunnen extract in \Users\ervelden\bin

C:\Users\ervelden\bin>dir
24-07-2017  15:45    <DIR>          forge-distribution-3.7.2.Final
11-08-2017  13:12    <DIR>          ProcessExplorer
27-07-2017  07:27    <DIR>          spring-1.5.6.RELEASE

/ we voegen de bin dir toe aan het User path,

/ we start forge in de 'root' dir, de appl dir wordt create, en forge stapt daar meteen in ,
C:\Users\ervelden\eclipse\workspace-jbosstools-jee-oxygen>forge

/ 1313	. 

/ op de oude manier, create war, deploy in wildfly

/ use view 'Forge Console', dan hoeven project niet te import in eclipse,

[workspace-jbosstools-jee-oxygen]$ project-new --named dvxuk --stack JAVA_EE_7
***SUCCESS*** Project named 'dvxuk' has been created.
***SUCCESS*** Stack 'Java EE 7' installed in project
[dvxuk]$
/ we import dit Maven project in eclipse, jee-oxygen, op workspace-jbosstools-jee-oxygen,
/ er is nog niets, behalve een pom.xml,

$ vi pom.xml

  <groupId>org.dvxuk</groupId>
  <artifactId>dvxuk</artifactId>
  <version>1.0.0-SNAPSHOT</version>
  <packaging>war</packaging>                   / we gaan in gewone wildfly deploy, 
  <build>
    <finalName>dvxuk</finalName>
  </build>
  <dependencies>
    <dependency>
      <groupId>javax</groupId>
      <artifactId>javaee-api</artifactId>			/ the appl want to use java ee 7
      <scope>provided</scope>
    </dependency>
  </dependencies>
  <dependencyManagement>
    <dependencies>
      <dependency>
        <groupId>javax</groupId>
        <artifactId>javaee-api</artifactId>
        <version>7.0</version>
        <scope>provided</scope>
      </dependency>
    </dependencies>
  </dependencyManagement>
  
[dvxuk]$ rest-new-endpoint --named HelloEndpoint --path hello --methods GET  // --methods GET is default, kun je weglaten,
										// --path hello kun je ook weglaten, wordt herleid tot hello vanwege name HelloEndpoint
***SUCCESS*** JAX-RS has been installed.
***SUCCESS*** REST org.dvxuk.rest.HelloEndpoint was created
[HelloEndpoint.java]$


$ vi RestApplication.java

package org.dvxuk.rest;

import javax.ws.rs.core.Application;
import javax.ws.rs.ApplicationPath;

@ApplicationPath("/rest")
public class RestApplication extends Application {
}

$ vi HelloEndpoint.java

package org.dvxuk.rest;

import javax.ws.rs.Path;
import javax.ws.rs.core.Response;
import javax.ws.rs.GET;
import javax.ws.rs.Produces;

@Path("/hello")
public class HelloEndpoint {

	@GET
	@Produces("text/plain")
	public Response doGet() {
		return Response.ok("method doGet invoked").build();
	}
}

/ de pom is onveranderd,

/ 13	. 

/ We kunnen de appl build op 2 manieren, direct met maven in eclipse of in forge,

/ 1313	. 

/ in eclipse maken we run config
clean package

/ run, en refresh dvx project, 
/ we zien dvx.war in target/

/ 1313	. 


[RtdEndpoint.java]$ build
[INFO] Scanning for projects...
[INFO]
[INFO] ------------------------------------------------------------------------
[INFO] Building rtd 1.0.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO]
[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ rtd ---
[INFO] Deleting C:\Users\ervelden\eclipse\workspace-jbosstools-jee-oxygen\rtd\target
[INFO]
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ rtd ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 0 resource
[INFO]
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ rtd ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 2 source files to C:\Users\ervelden\eclipse\workspace-jbosstools-jee-oxygen\rtd\target\classes
[INFO]
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ rtd ---
[INFO] Not copying test resources
[INFO]
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ rtd ---
[INFO] Not compiling test sources
[INFO]
[INFO] --- maven-surefire-plugin:2.12.4:test (default-test) @ rtd ---
[INFO] Tests are skipped.
[INFO]
[INFO] --- maven-war-plugin:2.2:war (default-war) @ rtd ---
[INFO] Packaging webapp
[INFO] Assembling webapp [rtd] in [C:\Users\ervelden\eclipse\workspace-jbosstools-jee-oxygen\rtd\target\rtd]
[INFO] Processing war project
[INFO] Copying webapp resources [C:\Users\ervelden\eclipse\workspace-jbosstools-jee-oxygen\rtd\src\main\webapp]
[INFO] Webapp assembled in [32 msecs]
[INFO] Building war: C:\Users\ervelden\eclipse\workspace-jbosstools-jee-oxygen\rtd\target\rtd.war
[INFO]
[INFO] --- maven-install-plugin:2.4:install (default-install) @ rtd ---
[INFO] Installing C:\Users\ervelden\eclipse\workspace-jbosstools-jee-oxygen\rtd\target\rtd.war to C:\Users\ervelden\.m2\repository\org\rtd\rtd\1.0.0-SNAPSHOT\rtd-1.0.0-SNAPSHOT.war
[INFO] Installing C:\Users\ervelden\eclipse\workspace-jbosstools-jee-oxygen\rtd\pom.xml to C:\Users\ervelden\.m2\repository\org\rtd\rtd\1.0.0-SNAPSHOT\rtd-1.0.0-SNAPSHOT.pom
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 1.208 s
[INFO] Finished at: 2017-09-06T09:45:23+01:00
[INFO] Final Memory: 46M/160M
[INFO] ------------------------------------------------------------------------
***SUCCESS*** Build Success

/ TODO Waarom $ maven clean install? $ maven clean package is toch genoeg?

/ 13	. 

/ deploy in gewone wildfly, 



/ deze gaan we deploy in wildfly met GUI
/ we start met standalone.bat wilfly in  \Users\ervelden\bin\wildfly-10.1.0.Final\bin,

/ geef 
localhost:8080
/ OK
/ we click link 'Administration console', maar krijgen ERR page,
http://localhost:9990/error/index_win.html

C:\Users\ervelden\bin\wildfly-10.1.0.Final\bin> add-user.bat

What type of user do you wish to add?
 a) Management User (mgmt-users.properties)
 b) Application User (application-users.properties)
(a):

Enter the details of the new user to add.
Using realm 'ManagementRealm' as discovered from the existing property files.
Username (admin) : ericj
Password recommendations are listed below. To modify these restrictions edit the add-user.properties configuration file.
 - The password should be different from the username
 - The password should not be one of the following restricted values {root, admin, administrator}
 - The password should contain at least 8 characters, 1 alphabetic character(s), 1 digit(s), 1 non-alphanumeric symbol(s
Password :
vi_lang17
Re-enter Password :
What groups do you want this user to belong to? (Please enter a comma separated list, or leave blank for none)[  ]:
About to add user 'ericj' for realm 'ManagementRealm'
Is this correct yes/no? yes
Added user 'ericj' to file 'C:\Users\ervelden\bin\wildfly-10.1.0.Final\standalone\configuration\mgmt-users.properties'
Added user 'ericj' to file 'C:\Users\ervelden\bin\wildfly-10.1.0.Final\domain\configuration\mgmt-users.properties'
Added user 'ericj' with groups  to file 'C:\Users\ervelden\bin\wildfly-10.1.0.Final\standalone\configuration\mgmt-groups.propert
ies'
Added user 'ericj' with groups  to file 'C:\Users\ervelden\bin\wildfly-10.1.0.Final\domain\configuration\mgmt-groups.properties'

Is this new user going to be used for one AS process to connect to another AS process?
e.g. for a slave host controller connecting to the master or for a Remoting connection for server to server EJB calls.
yes/no? yes
To represent the user add the following to the server-identities definition <secret value="dmlfbGFuZzE3" />
Press any key to continue . . .
/ TODO

/ click 'Try again', we komen op 
localhost:9990/console/App.html
/ we zien login window,
ericj
vi_lang17
/ Gelukt, 

/ click in horizontal menu boven op Deployments, of click in main window bij Deployments op start,
http://localhost:9990/console/App.html#standalone-deployments
/ click Add, check Upload new deployment, Next, 
...
Verify upload,
Name: dvx.war
Runtime name: dvx.war
Enable: check
Finish

/ geef,
localhost:8080/dvx/rest/my
method doGet invoked,

/ Lees,
https://docs.jboss.org/author/display/WFLY10/Application+deployment
/ hoe deploy met cli

/ Hoe in wildfly web console redeploy war?
/ TODO
/ Lees,
https://www.mkyong.com/maven/maven-deploy-web-application-to-wildfly/


$ vi pom.xml

<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
  <modelVersion>4.0.0</modelVersion>
  <groupId>org.dvx</groupId>
  <artifactId>dvx</artifactId>
  <version>1.0.0-SNAPSHOT</version>
  <packaging>war</packaging>
  <build>
    <finalName>dvx</finalName>
  </build>
  <dependencies>
    <dependency>
      <groupId>javax</groupId>
      <artifactId>javaee-api</artifactId>
      <scope>provided</scope>
    </dependency>
  </dependencies>
  <dependencyManagement>
    <dependencies>
      <dependency>
        <groupId>javax</groupId>
        <artifactId>javaee-api</artifactId>
        <version>7.0</version>
        <scope>provided</scope>
      </dependency>
    </dependencies>
  </dependencyManagement>
  <properties>
    <failOnMissingWebXml>false</failOnMissingWebXml>
    <maven.compiler.source>1.8</maven.compiler.source>
    <maven.compiler.target>1.8</maven.compiler.target>
    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
  </properties>
</project>


/ 13	. 


/ ipv dat we een war deploy in een appl server, gaan we nu alles in een uber jar stoppen: de appl en de parts of the appl server die we nodig hebben, zoals JAX-RS,

/ fraction Wildfly Swarm,
Java EE
Netflix OSS (Ribbon, Hystrix, RxJava)
Spring
LogStash
Swagger

/ 1313	. 

/ nu op de nieuwe manier, de andere kant op,

/ de appl, rest endpoint verandert niet, daar gaan we mee verder, 

/ shutdown wildfly,


/ we zijn dus in 
[HelloEndpoint.java]$

[HelloEndpoint.java]$ wildfly-swarm-setup --context-path dvxuk
***SUCCESS*** WildFly Swarm is now set up! Enjoy!

/ we zien een plugin wildfly-swarm-plugin, en de dependency bom-all

$ vi pom.xml

<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
  <modelVersion>4.0.0</modelVersion>
  <groupId>org.dvx</groupId>
  <artifactId>dvx</artifactId>
  <version>1.0.0-SNAPSHOT</version>
  <packaging>war</packaging>
  <build>
    <finalName>dvx</finalName>
    <plugins>
      <plugin>                                                 / nieuw!
        <groupId>org.wildfly.swarm</groupId>
        <artifactId>wildfly-swarm-plugin</artifactId>
        <version>${version.wildfly-swarm}</version>
        <executions>
          <execution>
            <goals>
              <goal>package</goal>
            </goals>
          </execution>
        </executions>
        <configuration>
          <properties>
            <swarm.context.path>dvx</swarm.context.path>
          </properties>
        </configuration>
      </plugin>
    </plugins>
  </build>
  <dependencies>
    <dependency>
      <groupId>javax</groupId>
      <artifactId>javaee-api</artifactId>
      <scope>provided</scope>
    </dependency>
  </dependencies>
  <dependencyManagement>
    <dependencies>
      <dependency>
        <groupId>javax</groupId>
        <artifactId>javaee-api</artifactId>
        <version>7.0</version>
        <scope>provided</scope>
      </dependency>
      <dependency>                                       / nieuw!
        <groupId>org.wildfly.swarm</groupId>
        <artifactId>bom-all</artifactId>
        <version>${version.wildfly-swarm}</version>
        <type>pom</type>
        <scope>import</scope>
      </dependency>
    </dependencies>
  </dependencyManagement>
  <properties>
    <failOnMissingWebXml>false</failOnMissingWebXml>
    <maven.compiler.source>1.8</maven.compiler.source>
    <maven.compiler.target>1.8</maven.compiler.target>
    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
    <version.wildfly-swarm>2017.8.1</version.wildfly-swarm>
  </properties>
</project>


  
[HelloEndpoint.java]$ wildfly-swarm-detect-fractions
***INFO*** Detecting fractions  [1/1] ...
***INFO*** Detected fractions: [org.wildfly.swarm:jaxrs:2017.8.1]
/ Deze moeten we dus add,
  
[HelloEndpoint.java]$ wildfly-swarm-list-fractions
/ lists alle fractions die er zijn,

[HelloEndpoint.java]$  wildfly-swarm-add-fraction jaxrs
/ TODO nodig?

/ als we forge uitgaan, en we willen weer in HelloEndpoint.java komen, 

C:\Users\ervelden\eclipse\workspace-jbosstools-jee-oxygen>forge
Hit '<TAB>' for a list of available commands and 'man [cmd]' for help on a specific command.
To quit the shell, type 'exit'.

[workspace-jbosstools-jee-oxygen]$ cd dvxuk
[dvxuk]$ cd  src/main/java/org/dvxuk/rest/HelloEndpoint.java
[HelloEndpoint.java]$ wildfly-swarm-add-fraction --fractions jaxrs

/ als we NIEt in HelloEndpoint.java zijn, maar in dvxuk, dan geeft code completion NIET wildfly-swarm-add-fraction, alleen wildfly-swarm-list-fractions, 

/ we zien in de pom.xml GEEN jaxrs entry, 

/ als we in eclipse mvn clean verify, dan zien we,

INFO] --- wildfly-swarm-plugin:2017.8.1:package (default) @ dvxuk ---
[INFO] Scanning for needed WildFly Swarm fractions with mode: when_missing
[INFO] Detected fractions: jaxrs:2017.8.1
[INFO] Adding fractions: container:2017.8.1, jaxrs-cdi:2017.8.1, jaxrs:2017.8.1, logging:2017.8.1, security:2017.8.1, undertow:2017.8.1
Resolving 46 out of 206 artifacts
[INFO] Repackaging .war: C:\Users\ervelden\eclipse\workspace-jbosstools-jee-oxygen\dvxuk\target\dvxuk.war
[INFO] Fallback file move: C:\Users\ervelden\eclipse\workspace-jbosstools-jee-oxygen\dvxuk\target\dvxuk.war
[INFO] Copied C:\Users\ervelden\eclipse\workspace-jbosstools-jee-oxygen\dvxuk\target\dvxuk.war to C:\Users\ervelden\eclipse\workspace-jbosstools-jee-oxygen\dvxuk\target\dvxuk.war.original
[INFO] Fallback failed to delete, will overwrite existing file: C:\Users\ervelden\eclipse\workspace-jbosstools-jee-oxygen\dvxuk\target\dvxuk.war
[INFO] Repackaged .war: C:\Users\ervelden\eclipse\workspace-jbosstools-jee-oxygen\dvxuk\target\dvxuk.war
[INFO] ------------------------------------------------------------------------

/ Het ziet er inderdaad naar uit dat hij jaxrs detect, en hem add
/ TODO

/ doe in eclipse
$ mvn clean wildfly-swarm:run

/ we zien in target\dvxuk.war die er al was, maar nu ook dvxuk.swarm.jar
/ TODO Wanneer created?

/ als we jaxrs dep, dan OK
import org.wildfly.swarm.Swarm;
/ TODO


/ 7	. 

/ SAMENVATTING FORGE COMMAND LINE

https://www.youtube.com/watch?v=5BvJVAlZyvo

C:\Users\ervelden\eclipse\workspace-jbosstools-jee-oxygen>forge
[workspace-jbosstools-jee-oxygen]$ project-new --named dvx3 --stack JAVA_EE_7 --type wildfly-swarm
[dvx3]$ rest-new-endpoint --named MyEndpoint
[MyEndpoint.java]$ wildfly-swarm-add-fraction --fractions jaxrs
[Main.java]$ wildfly-swarm-run										/ stop met ctlr-C, en geef opnieuw om te restart,
/ geef: localhost:8080/rest/my

/ met $ project-new --type wildfly-swarm hoeven we niet later $ wildfly-swarm-setup 

/ we kunnen ook,
$ wildfly-swarm-new-main-class
$ wildfly-swarm-setup --context-path dvx3
/ wildfly-swarm-new-main-class is voor als je wilt debug TODO
/ met een context-path verandert de url, we moeten geven: localhost:8080/dvx3/rest/my

/ in de pom zien we in de wildfly-swarm plugin of
/ de main class
/ of de context path
/ of niets (als we niets deden , dus niet main class en niet context path), 


/ verander iets in de rest endpoint, restart wildfly-swarm, we zien de verandering	, 

/ 13	. 

/ we doen het allemaal nog een keer,

[workspace-jbosstools-jee-oxygen]$ project-new --named rtd --stack JAVA_EE_7
[rtd]$ rest-new-endpoint --named MyEndpoint
[RtdEndpoint.java]$ build				/ doet mvn clean install
/ start wildfly, deploy rtd.war met GUI 
/ geef localhost:8080/rtd/rest/my
/ stop wildfly
[RtdEndpoint.java]$ wildfly-swarm-setup  --context-path rtd
[RtdEndpoint.java]$ wildfly-swarm-detect-fractions
[RtdEndpoint.java]$ wildfly-swarm-add-fraction --fractions jaxrs
[RtdEndpoint.java]$ wildfly-swarm-run
...
2017-09-06 09:59:37,191 INFO  [org.jboss.as.server] (main) WFLYSRV0010: Deployed "rtd.war" (runtime-name : "rtd.war")
2017-09-06 09:59:37,193 INFO  [org.wildfly.swarm] (main) WFSWARM99999: WildFly Swarm is Ready
/ geef localhost:8080/rtd/rest/my
[RtdEndpoint.java]$ wildfly-swarm-new-main-class
[Main.java]$ wildfly-swarm-run
/ geef localhost:8080/rest/my			/ het context path is verdwenen	, het is of context path of main, TODO

/ in de wildfly-swarm-plugin,
        <configuration>
          <mainClass>org.rtd.Main</mainClass>
        </configuration>
		
/ als we weer context-path geven, verdwijnt Main,
[RtdEndpoint.java]$ wildfly-swarm-setup --context-path rtd
/ in de wildfly-swarm-plugin,
        <configuration>
          <properties>
            <swarm.context.path>rtd</swarm.context.path>
          </properties>
        </configuration>
		
/ we kunnen ook geen context-path en geen main,

[RtdEndpoint.java]$ wildfly-swarm-setup           / in de wildfly-swarm-plugin geen context path en geen main,
[RtdEndpoint.java]$ wildfly-swarm-run
/ geef localhost:8080/rest/my-app

/ 13	. 

/ notes

/ 1313	. 

/ we werken niet in 'Forge Console' view, maar op de command line,  en import het project in eclipse,

/ 1313	. 

/ Na wildfly-swarm-add-fraction --fractions jaxrs,
$ vi pom.xml

<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
  <modelVersion>4.0.0</modelVersion>
  <groupId>org.dvx3</groupId>
  <artifactId>dvx3</artifactId>
  <version>1.0.0-SNAPSHOT</version>
  <packaging>war</packaging>
  <build>
    <finalName>dvx3</finalName>
    <plugins>
      <plugin>
        <groupId>org.wildfly.swarm</groupId>
        <artifactId>wildfly-swarm-plugin</artifactId>
        <version>${version.wildfly-swarm}</version>
        <executions>
          <execution>
            <goals>
              <goal>package</goal>
            </goals>
          </execution>
        </executions>
      </plugin>
    </plugins>
  </build>
  <dependencies>
    <dependency>
      <groupId>javax</groupId>
      <artifactId>javaee-api</artifactId>
      <scope>provided</scope>
    </dependency>
    <dependency>                                          / !
      <groupId>org.wildfly.swarm</groupId>
      <artifactId>jaxrs</artifactId>
    </dependency>
  </dependencies>
  <dependencyManagement>
    <dependencies>
      <dependency>
        <groupId>javax</groupId>
        <artifactId>javaee-api</artifactId>
        <version>7.0</version>
        <scope>provided</scope>
      </dependency>
      <dependency>
        <groupId>org.wildfly.swarm</groupId>
        <artifactId>bom-all</artifactId>
        <version>${version.wildfly-swarm}</version>
        <type>pom</type>
        <scope>import</scope>
      </dependency>
    </dependencies>
  </dependencyManagement>
  <properties>
    <failOnMissingWebXml>false</failOnMissingWebXml>
    <maven.compiler.source>1.8</maven.compiler.source>
    <maven.compiler.target>1.8</maven.compiler.target>
    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
    <version.wildfly-swarm>2017.8.1</version.wildfly-swarm>
  </properties>
</project>

/ dit is de pom als we NIET $ wildfly-swarm-setup --context-path  of $ wildfly-swarm-new-main-class 
/ als we een van de 2 doen, dan zien we in de pom 1 van de 2 in de wildfly-swarm-plugin
/ het is of het een of het ander, of niets,

[MyEndpoint.java]$ wildfly-swarm-setup --context-path dvx6

      <plugin>
        <groupId>org.wildfly.swarm</groupId>
        <artifactId>wildfly-swarm-plugin</artifactId>
        <version>${version.wildfly-swarm}</version>
        <executions>
          <execution>
            <goals>
              <goal>package</goal>
            </goals>
          </execution>
        </executions>
        <configuration>
          <properties>
            <swarm.context.path>dvx6</swarm.context.path>
          </properties>
        </configuration>
      </plugin>
	  
[MyEndpoint.java]$ wildfly-swarm-new-main-class

      <plugin>
        <groupId>org.wildfly.swarm</groupId>
        <artifactId>wildfly-swarm-plugin</artifactId>
        <version>${version.wildfly-swarm}</version>
        <executions>
          <execution>
            <goals>
              <goal>package</goal>
            </goals>
          </execution>
        </executions>
        <configuration>
          <mainClass>org.dvx6.Main</mainClass>
        </configuration>
      </plugin>
	  
	  



/ 1313	. 

[Main.java]$ wildfly-swarm-run
[INFO] Scanning for projects...
[INFO]
[INFO] ------------------------------------------------------------------------
[INFO] Building dvx3 1.0.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO]
[INFO] >>> wildfly-swarm-plugin:2017.8.1:run (default-cli) > package @ dvx3 >>>
[INFO]
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ dvx3 ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 0 resource
[INFO]
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ dvx3 ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 3 source files to C:\Users\ervelden\eclipse\workspace-jbosstools-jee-oxygen\dvx3\target\classes
[INFO]
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ dvx3 ---
[INFO] Not copying test resources
[INFO]
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ dvx3 ---
[INFO] Not compiling test sources
[INFO]
[INFO] --- maven-surefire-plugin:2.12.4:test (default-test) @ dvx3 ---
[INFO] Tests are skipped.
[INFO]
[INFO] --- maven-war-plugin:2.2:war (default-war) @ dvx3 ---
[INFO] Packaging webapp
[INFO] Assembling webapp [dvx3] in [C:\Users\ervelden\eclipse\workspace-jbosstools-jee-oxygen\dvx3\target\dvx3]
[INFO] Processing war project
[INFO] Copying webapp resources [C:\Users\ervelden\eclipse\workspace-jbosstools-jee-oxygen\dvx3\src\main\webapp]
[INFO] Webapp assembled in [203 msecs]
[INFO] Building war: C:\Users\ervelden\eclipse\workspace-jbosstools-jee-oxygen\dvx3\target\dvx3.war
[INFO]
[INFO] --- wildfly-swarm-plugin:2017.8.1:package (default) @ dvx3 ---
[WARNING]
------
Custom main() usage is intended to be deprecated in a future release and is no longer supported,
please refer to http://reference.wildfly-swarm.io for YAML configuration that replaces it.
------
Resolving 46 out of 206 artifacts
[INFO] Repackaging .war: C:\Users\ervelden\eclipse\workspace-jbosstools-jee-oxygen\dvx3\target\dvx3.war
[INFO] Repackaged .war: C:\Users\ervelden\eclipse\workspace-jbosstools-jee-oxygen\dvx3\target\dvx3.war
[INFO]
[INFO] <<< wildfly-swarm-plugin:2017.8.1:run (default-cli) < package @ dvx3 <<<
[INFO]
[INFO]
[INFO] --- wildfly-swarm-plugin:2017.8.1:run (default-cli) @ dvx3 ---
[WARNING]
------
Custom main() usage is intended to be deprecated in a future release and is no longer supported,
please refer to http://reference.wildfly-swarm.io for YAML configuration that replaces it.
------
[INFO] Starting .war
Mon Sep 04 05:50:06 GMT+01:00 2017 INFO [org.wildfly.swarm.bootstrap] (main) Dependencies not bundled; resolving from M2REPO.
2017-09-04 05:50:07,853 INFO  [org.wildfly.swarm] (main) WFSWARM0013: Installed fraction:                  Logging - STABLE
     org.wildfly.swarm:logging:2017.8.1
2017-09-04 05:50:07,860 INFO  [org.wildfly.swarm] (main) WFSWARM0013: Installed fraction:                 Undertow - STABLE
     org.wildfly.swarm:undertow:2017.8.1
2017-09-04 05:50:07,860 INFO  [org.wildfly.swarm] (main) WFSWARM0013: Installed fraction:                   JAX-RS - STABLE
     org.wildfly.swarm:jaxrs:2017.8.1
2017-09-04 05:50:09,371 INFO  [org.jboss.msc] (main) JBoss MSC version 1.2.6.Final
2017-09-04 05:50:09,431 INFO  [org.jboss.as] (MSC service thread 1-6) WFLYSRV0049: WildFly Swarm 2017.8.1 (WildFly Core 2.2.1.Fi
nal) starting
2017-09-04 05:50:09,475 INFO  [org.wildfly.swarm] (MSC service thread 1-6) WFSWARM0019: Install MSC service for command line arg
s: []
2017-09-04 05:50:09,977 INFO  [org.jboss.as.naming] (ServerService Thread Pool -- 10) WFLYNAM0001: Activating Naming Subsystem
2017-09-04 05:50:09,977 INFO  [org.jboss.as.security] (ServerService Thread Pool -- 12) WFLYSEC0002: Activating Security Subsyst
em
2017-09-04 05:50:09,985 INFO  [org.wildfly.extension.io] (ServerService Thread Pool -- 16) WFLYIO001: Worker 'default' has auto-
configured to 16 core threads with 128 task threads based on your 8 available processors
2017-09-04 05:50:09,987 INFO  [org.jboss.as.security] (MSC service thread 1-3) WFLYSEC0001: Current PicketBox version=4.9.6.Fina
l
2017-09-04 05:50:10,006 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-4) WFLYUT0003: Undertow 1.4.11.Final starti
ng
2017-09-04 05:50:10,023 INFO  [org.jboss.as.naming] (MSC service thread 1-6) WFLYNAM0003: Starting Naming Service
2017-09-04 05:50:10,040 INFO  [org.xnio] (MSC service thread 1-5) XNIO version 3.4.3.Final
2017-09-04 05:50:10,049 INFO  [org.xnio.nio] (MSC service thread 1-5) XNIO NIO Implementation Version 3.4.3.Final
2017-09-04 05:50:10,111 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-3) WFLYUT0012: Started server default-serve
r.
2017-09-04 05:50:10,232 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0006: Undertow HTTP listener defau
lt listening on [0:0:0:0:0:0:0:0]:8080
2017-09-04 05:50:10,291 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0025: WildFly Swarm 2017.8.1 (WildFly Core 2.2.1.Fi
nal) started in 953ms - Started 70 of 77 services (14 services are lazy, passive or on-demand)
2017-09-04 05:50:10,780 INFO  [org.wildfly.swarm.runtime.deployer] (main) deploying dvx3.war
2017-09-04 05:50:10,799 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-8) WFLYSRV0027: Starting deployment of "dvx
3.war" (runtime-name: "dvx3.war")
2017-09-04 05:50:11,474 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-6) WFLYUT0018: Host default-host starting
2017-09-04 05:50:11,675 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 6) RESTEASY002225: Deployin
g javax.ws.rs.core.Application: class org.dvx3.rest.RestApplication
2017-09-04 05:50:11,694 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 6) WFLYUT0021: Registered web conte
xt: /
2017-09-04 05:50:11,732 INFO  [org.jboss.as.server] (main) WFLYSRV0010: Deployed "dvx3.war" (runtime-name : "dvx3.war")
2017-09-04 05:50:11,733 INFO  [org.wildfly.swarm] (main) WFSWARM99999: WildFly Swarm is Ready

/ Einde SAMENVATTING FORGE COMMAND LINE

/ SAMENVATTING FORGE COMMAND GUI

/ See
https://www.youtube.com/watch?v=ebcnOopZFWs

/ 13	. 

/ Als we $ project-new --type wildfly-swarm doen, hoeven we GEEN wildfly-swarm-setup te doen	,

/ we geven in de GUI ook --type wildfly-swarm,

[workspace-jbosstools-jee-oxygen]$ project-new --named dvx4 --stack JAVA_EE_7 --type wildfly-swarm 
[dvx4]$ rest-new-endpoint --named MyEndpoint
[dvx4]$ wildfly-swarm-add-fraction --fractions jaxrs
[dvx4]$ wildfly-swarm-new-main-class
[Main.java]$ wildfly-swarm-run
/ Geef localhost:8080/rest/my

/ 131313. 

/ we kunnen 3 dingen doen	,
[Main.java]$ wildfly-swarm-new-main-class
/ of,
[Main.java]$ wildfly-swarm-setup --context-path dvx5
/ of
/ niets
/ we kunnen in alle 3 de gevallen 
$ wildfly-swarm-run

/ bij de 1ste en 3de geef
localhost:8080/rest/my
/ bij de 2de geef
localhost:8080/dvx5/rest/my

/ we moeten 1 keer de maven project import, daarna bij ieder command in forge wordt de pom.xml update, we hoeven geen refresh te doen,

/ we zien dat in de pom of de main class er staat, of de context path, of niets,

/ na $ wildfly-swarm-setup --context-path dvx5
$ vi pom.xml
     <plugin>
        <groupId>org.wildfly.swarm</groupId>
        <artifactId>wildfly-swarm-plugin</artifactId>
        <version>${version.wildfly-swarm}</version>
        <executions>
          <execution>
            <goals>
              <goal>package</goal>
            </goals>
          </execution>
        </executions>
        <configuration>
          <properties>
            <swarm.context.path>dvx5</swarm.context.path>
          </properties>
        </configuration>
      </plugin>
	  
/ na $ wildfly-swarm-new-main-class,

   <plugins>
      <plugin>
        <groupId>org.wildfly.swarm</groupId>
        <artifactId>wildfly-swarm-plugin</artifactId>
        <version>${version.wildfly-swarm}</version>
        <executions>
          <execution>
            <goals>
              <goal>package</goal>
            </goals>
          </execution>
        </executions>
        <configuration>
          <mainClass>org.dvx5.Main</mainClass>
        </configuration>
      </plugin>




/ Einde SAMENVATTING FORGE COMMAND GUI

/ 7	. 

ctrl+4, filter op new
Project Generation Project New
Java EE/JAX-RS REST:New Endpoint
Wildfly Swarm Wilfly Swarm:New Main Class

/ we gaan ze alle 3 use, 
/ bij Project New kun je in het 2de scherm de fractions add, maar als je dat vergeet, kun je dat later ook met 
Wildfly Swarm Wilfly Swarm:Add Fraction

/ we zien in ctrl-4 NIET wildfly-swarm-run









/ 13	. 


[HelloEndpoint.java]$ addon-
addon-add-dependency            addon-install-from-git          addon-remove                    addon-watch-start               
addon-build-and-install         addon-list                      addon-search                    
addon-install                   addon-new-annotated-ui-command  addon-test-setup                
addon-install-from-catalog      addon-new-ui-command            addon-update                    

/13. 	

Introduced addon-search and addon-install-from-catalog: Its now possible to query the available addons in http://forge.jboss.org/addons using the addon-search command and install them using the addon-install-from-catalog --addon <addonId>:

[bin]$ addon-search wildfly

¦org.jboss.forge.addon:wildfly-swarm¦WildFly Swarm¦Create self-contained Java microservices based upon the normal WildFly application-server.¦
¦org.jboss.forge.addon:jboss-as     ¦WildFly AS   ¦Deployment and control for JBoss Wildfly and EAP                                          ¦

Yes, we also introduced a nice tabular text format API in the text addon. More info in https://github.com/inamik/java_text_tables

[bin]$ addon-install-from-catalog --addon org.jboss.forge.addon:wildfly-swarm
addon-install-from-git --url https://github.com/forge/wildfly-swarm-addon.git --coordinate org.jboss.forge.addon:wildfly-swarm
...

/ 	13	. 

/ subscribed to forge-users@lists.jboss.org


/ 13	. 

/ ga naar,
forge.jboss.org/addons

/ daar zien we alle addons,

/ de core addons, zijn die al installed?
 / TODO



/ 13	. 

/ Lees,
https://docs.jboss.org/tools/4.0.1.Final/en/forge_reference/html_single/index.html

/ open forge command line in eclipse, met de view 'Forge Console'

/ 7	. 

/ lees,
http://forge.jboss.org/document/hands-on-lab

/ 7	. 

/ lees,
http://forge.jboss.org/documentation

/ 7	. 

/ kijk,
https://www.youtube.com/watch?v=tMh_kpSQlGA


/ 7	. 

http://forge.jboss.org/addon/org.jboss.forge.addon:wildfly-swarm

/ Hier zien we ook de video die alles met ctrl+4 doet, 
https://www.youtube.com/watch?time_continue=14&v=ebcnOopZFWs

/ maar we lezen en use de command line in 'Forge Console' view in eclipse,

[HelloEndpoint.java]$ project-new  --named you --type wildfly-swarm --stack JAVA_EE_7 
***SUCCESS*** Project named 'you' has been created.
***SUCCESS*** Stack 'Java EE 7' installed in project
***SUCCESS*** WildFly Swarm is now set up! Enjoy!

/ WH overbodig	,
[you]$ wildfly-swarm-setup 
***SUCCESS*** WildFly Swarm is now set up! Enjoy!

[MyEndpoint.java]$ wildfly-swarm-detect-fractions --depend 
***INFO*** Detecting fractions 	[1/2] ...
***INFO*** Detected fractions: [org.wildfly.swarm:jaxrs:2017.8.1, org.wildfly.swarm:cdi:2017.8.1]
***INFO*** Adding missing fractions as project dependencies... 	[2/2] ...
***INFO*** Installing the following dependencies: [org.wildfly.swarm:jaxrs:2017.8.1, org.wildfly.swarm:cdi:2017.8.1]
[MyEndpoint.java]$ 

$ vi pom.xml

  <dependencies>
    <dependency>
      <groupId>javax</groupId>
      <artifactId>javaee-api</artifactId>       / was er al,
      <scope>provided</scope>
    </dependency>
    <dependency>
      <groupId>org.wildfly.swarm</groupId>		/ nieuw	,
      <artifactId>jaxrs</artifactId>
    </dependency>
    <dependency>
      <groupId>org.wildfly.swarm</groupId>			/ nieuw	,
      <artifactId>cdi</artifactId>
    </dependency>
  </dependencies>










/ Einde JBOSSTOOLS FORGE WILDFLY SWARM

/ FORGE

/ 7	.  

/ Kijk, in jboss tools news,
https://developer.jboss.org/blogs/weekly-editorial/2017/07/13/this-week-in-jboss-13th-july-2017?_sscc=t
->
/ kijk naar Hystrix,
https://medium.com/netflix-techblog/introducing-hystrix-for-resilience-engineering-13531c1ab362
/ kijk naar Ribbon, for client-side load balancing
https://www.youtube.com/watch?v=rsrYZ5cEySE	/ javainuse.com/spring/springcloud

/ kijk
http://www.hawkular.org/blog/2017/07/opentracing-jaxrs.html




/ 7	 .

/ Ga naar, 
http://forge.jboss.org/documentation

http://forge.jboss.org/document/sample-forge-usage-tasks

/ 13	. 

/ custom package

[workspace-jbosstools-jee-oxygen]$ project-new --named example --top-level-package org.mycomp.myapp --stack JAVA_EE_7 --type war
 --final-name myExample
 
$ vi pom.xml
<project>
  <groupId>org.mycomp.myapp</groupId>
  <artifactId>example</artifactId>
  <version>1.0.0-SNAPSHOT</version>
  <packaging>war</packaging>
  <build>
    <finalName>myExample</finalName>
  </build>

/ en, in src/main/java is er package org.mycomp.myapp	,

[workspace-jbosstools-jee-oxygen]$ project-new --named example2 --stack JAVA_EE_7

<project>
  <groupId>org.example2</groupId>
  <artifactId>example2</artifactId>
  <version>1.0.0-SNAPSHOT</version>
  <packaging>war</packaging>
  <build>
    <finalName>example2</finalName>
  </build>

/ en in src/main/java is er package org.example2	,

/ --type war is de default; als we --type wildfly-swarm, zien we een wildfly-swarm-plugin in pom.xml	,


/ 13	. 

/ jpa

[workspace-jbosstools-jee-oxygen]$ project-new --named example --stack JAVA_EE_7

[example]$ jpa-new-entity --named SampleEntity

/ omdat project example heet, en we jpa doen, komt SampleEntity in package org.example.model	, 
/ een rest endpoint komt in org.example.rest package,

***SUCCESS*** Persistence (JPA) is installed.
***SUCCESS*** JPA Entity org.example.model.SampleEntity was created

/ als we lombok use, blijft er over,

$ vi SampleEntity.java

package org.example.model;

import javax.persistence.Entity;
import java.io.Serializable;
import javax.persistence.Id;
import javax.persistence.GeneratedValue;
import javax.persistence.GenerationType;
import javax.persistence.Column;
import javax.persistence.Version;

import lombok.Data;

@Entity
@Data
public class SampleEntity2 implements Serializable {

	private static final long serialVersionUID = 1L;
	@Id
	@GeneratedValue(strategy = GenerationType.AUTO)
	@Column(name = "id", updatable = false, nullable = false)
	private Long id;
	@Version
	@Column(name = "version")
	private int version;


}

[SampleEntity.java]$ jpa-new-field --named sampleField

/ we zien 
@Entity
public class SampleEntity implements Serializable {

	@Column
	private String sampleField;
	
/ + getter/setter	,

[SampleEntity.java]$ jpa-new-field --named createdOn --type java.util.Date --temporal-type TIMESTAMP

import javax.persistence.Temporal;
import javax.persistence.TemporalType;
	@Column
	@Temporal(TemporalType.TIMESTAMP)
	private Date createdOn;
/ Temporal type geeft WH de type in db waarop java.util.Date mapped wordt.

/ 13	. 

/ n-to-n relationship

[SampleEntity.java]$ jpa-new-entity --named Continent
[Continent.java]$ jpa-new-entity --named Hurricane
[Hurricane.java]$ jpa-new-field --named hurricanes --type org.example.model.Hurricane --relationship-type Many-to-Many --inverse
-field-name continents

$ vi Hurricane.java
public class Hurricane implements Serializable {
	...
	@ManyToMany(mappedBy = "continents")
	private Set<Hurricane> hurricanes = new HashSet<Hurricane>();
	@ManyToMany
	private Set<Hurricane> continents = new HashSet<Hurricane>();

/ Continent.java is like always,

/ de field hurricanes had ik in Continent verwacht, 
/ TODO

/ 13	. 

/ validation

[model]$ cd C:\Users\ervelden\eclipse\workspace-jbosstools-jee-oxygen\example
[example]$ pwd
C:\Users\ervelden\eclipse\workspace-jbosstools-jee-oxygen\example              // example is het project,

[example]$ jpa-new-entity --named Speaker

/ 

/ we moeten als we een entity create het project in eclipse refresh, 
/ als we een field add, dan hoeven we niets te doen, eclipse wordt update,

[Speaker.java]$ jpa-new-field --named firstname
[Speaker.java]$ jpa-new-field --named surname
[Speaker.java]$ jpa-new-field --named bio --length 2000
[Speaker.java]$ jpa-new-field --named twitter
[Speaker.java]$ constraint-add --on-property firstname --constraint NotNull
[Speaker.java]$ constraint-add --on-property surname --constraint NotNull
[Speaker.java]$ constraint-add --on-property bio --constraint Size --max 2000

package org.example.model;

import javax.persistence.Entity;
import java.io.Serializable;
import javax.persistence.Id;
import javax.persistence.GeneratedValue;
import javax.persistence.GenerationType;
import javax.persistence.Column;
import javax.persistence.Version;
import javax.validation.constraints.NotNull;
import javax.validation.constraints.Size;

@Entity
public class Speaker implements Serializable {

	private static final long serialVersionUID = 1L;
	@Id
	@GeneratedValue(strategy = GenerationType.AUTO)
	@Column(name = "id", updatable = false, nullable = false)
	private Long id;
	@Version
	@Column(name = "version")
	private int version;

	@Column
	@NotNull
	private String firstname;

	@Column
	@NotNull
	private String surname;

	@Column(length = 2000)
	@Size(max = 2000)
	private String bio;

	@Column
	private String twitter;

	public Long getId() {
		return this.id;
	}

	public void setId(final Long id) {
		this.id = id;
	}

	public int getVersion() {
		return this.version;
	}

	public void setVersion(final int version) {
		this.version = version;
	}

	@Override
	public boolean equals(Object obj) {
		if (this == obj) {
			return true;
		}
		if (!(obj instanceof Speaker)) {
			return false;
		}
		Speaker other = (Speaker) obj;
		if (id != null) {
			if (!id.equals(other.id)) {
				return false;
			}
		}
		return true;
	}

	@Override
	public int hashCode() {
		final int prime = 31;
		int result = 1;
		result = prime * result + ((id == null) ? 0 : id.hashCode());
		return result;
	}

	public String getFirstname() {
		return firstname;
	}

	public void setFirstname(String firstname) {
		this.firstname = firstname;
	}

	public String getSurname() {
		return surname;
	}

	public void setSurname(String surname) {
		this.surname = surname;
	}

	public String getBio() {
		return bio;
	}

	public void setBio(String bio) {
		this.bio = bio;
	}

	public String getTwitter() {
		return twitter;
	}

	public void setTwitter(String twitter) {
		this.twitter = twitter;
	}

	@Override
	public String toString() {
		String result = getClass().getSimpleName() + " ";
		if (firstname != null && !firstname.trim().isEmpty())
			result += "firstname: " + firstname;
		if (surname != null && !surname.trim().isEmpty())
			result += ", surname: " + surname;
		if (bio != null && !bio.trim().isEmpty())
			result += ", bio: " + bio;
		if (twitter != null && !twitter.trim().isEmpty())
			result += ", twitter: " + twitter;
		return result;
	}
}

/ 13	. 

/ rest



[SampleEntity.java]$ rest-generate-endpoints-from-entities --targets org.example.model.SampleEntity

$ vi SampleEntity.java

package org.example.model;
@Entity
@XmlRootElement																			// !
public class SampleEntity implements Serializable {

$ vi SampleEntityRestEndpoint.java

package org.example.rest;

import java.util.List;

import javax.ejb.Stateless;
import javax.persistence.EntityManager;
import javax.persistence.NoResultException;
import javax.persistence.OptimisticLockException;
import javax.persistence.PersistenceContext;
import javax.persistence.TypedQuery;
import javax.ws.rs.Consumes;
import javax.ws.rs.DELETE;
import javax.ws.rs.GET;
import javax.ws.rs.POST;
import javax.ws.rs.PUT;
import javax.ws.rs.Path;
import javax.ws.rs.PathParam;
import javax.ws.rs.Produces;
import javax.ws.rs.QueryParam;
import javax.ws.rs.core.Response;
import javax.ws.rs.core.Response.Status;
import javax.ws.rs.core.UriBuilder;
import org.example.model.SampleEntity;

/**
 * 
 */
@Stateless
@Path("/sampleentities")
public class SampleEntityEndpoint {
	@PersistenceContext(unitName = "example-persistence-unit")
	private EntityManager em;

	@POST
	@Consumes("application/json")
	public Response create(SampleEntity entity) {
		em.persist(entity);
		return Response.created(
				UriBuilder.fromResource(SampleEntityEndpoint.class)
						.path(String.valueOf(entity.getId())).build()).build();
	}

	@DELETE
	@Path("/{id:[0-9][0-9]*}")
	public Response deleteById(@PathParam("id") Long id) {
		SampleEntity entity = em.find(SampleEntity.class, id);
		if (entity == null) {
			return Response.status(Status.NOT_FOUND).build();
		}
		em.remove(entity);
		return Response.noContent().build();
	}

	@GET
	@Path("/{id:[0-9][0-9]*}")
	@Produces("application/json")
	public Response findById(@PathParam("id") Long id) {
		TypedQuery<SampleEntity> findByIdQuery = em
				.createQuery(
						"SELECT DISTINCT s FROM SampleEntity s WHERE s.id = :entityId ORDER BY s.id",
						SampleEntity.class);
		findByIdQuery.setParameter("entityId", id);
		SampleEntity entity;
		try {
			entity = findByIdQuery.getSingleResult();
		} catch (NoResultException nre) {
			entity = null;
		}
		if (entity == null) {
			return Response.status(Status.NOT_FOUND).build();
		}
		return Response.ok(entity).build();
	}

	@GET
	@Produces("application/json")
	public List<SampleEntity> listAll(
			@QueryParam("start") Integer startPosition,
			@QueryParam("max") Integer maxResult) {
		TypedQuery<SampleEntity> findAllQuery = em.createQuery(
				"SELECT DISTINCT s FROM SampleEntity s ORDER BY s.id",
				SampleEntity.class);
		if (startPosition != null) {
			findAllQuery.setFirstResult(startPosition);
		}
		if (maxResult != null) {
			findAllQuery.setMaxResults(maxResult);
		}
		final List<SampleEntity> results = findAllQuery.getResultList();
		return results;
	}

	@PUT
	@Path("/{id:[0-9][0-9]*}")
	@Consumes("application/json")
	public Response update(@PathParam("id") Long id, SampleEntity entity) {
		if (entity == null) {
			return Response.status(Status.BAD_REQUEST).build();
		}
		if (id == null) {
			return Response.status(Status.BAD_REQUEST).build();
		}
		if (!id.equals(entity.getId())) {
			return Response.status(Status.CONFLICT).entity(entity).build();
		}
		if (em.find(SampleEntity.class, id) == null) {
			return Response.status(Status.NOT_FOUND).build();
		}
		try {
			entity = em.merge(entity);
		} catch (OptimisticLockException e) {
			return Response.status(Response.Status.CONFLICT)
					.entity(e.getEntity()).build();
		}

		return Response.noContent().build();
	}
}

$ vi RestApplication.java

package org.example.rest;

import javax.ws.rs.core.Application;
import javax.ws.rs.ApplicationPath;

@ApplicationPath("/rest")
public class RestApplication extends Application {
}


/ 7	. 

/ bookStore


/ rest, maar van andere site,

/ Lees,
https://stackify.com/how-to-build-microservices-with-java-ee-and-jbossforge/

/ en, 
https://forge.jboss.org/document/write-a-java-ee-rest-application---basic

/ we zijn in example project,

[workspace-jbosstools-jee-oxygen]$ project-new --named bookStore --stack JAVA_EE_7
[bookStore]$ wildfly-swarm-setup				/ we waren vergeten --type wildfly-swarm te geven aan project-new,
/ je kunt NIET ook nog een keer geven: project-new --named bookStore --stack JAVA_EE_7 --type wildfly-swarm, want dan maak je een BookStore project in het al bestaande BookStore project,
[bookStore]$ jpa-new-entity --named Book
/ we moeten eclipse refresh om Book te zien,
[Book.java]$ jpa-new-field --named title
[Book.java]$ jpa-new-field --named publishingDate --type java.time.LocalDate

$ vi Book.java

package org.bookStore.model;
@Entity
public class Book implements Serializable {
	private static final long serialVersionUID = 1L;
	@Id
	@GeneratedValue(strategy = GenerationType.AUTO)
	@Column(name = "id", updatable = false, nullable = false)
	private Long id;
	@Version
	@Column(name = "version")
	private int version;

	@Column
	private String title;
	
$ vi persistence.xml

<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<persistence xmlns="http://xmlns.jcp.org/xml/ns/persistence" 
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" version="2.1" 
	xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/persistence 												http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd">
  <persistence-unit name="bookStore-persistence-unit" transaction-type="JTA">
    <description>Forge Persistence Unit</description>
    <provider>org.hibernate.ejb.HibernatePersistence</provider>
    <jta-data-source>java:jboss/datasources/ExampleDS</jta-data-source>
    <exclude-unlisted-classes>false</exclude-unlisted-classes>
    <properties>
      <property name="hibernate.hbm2ddl.auto" value="create-drop"/>
      <property name="hibernate.show_sql" value="true"/>
      <property name="hibernate.format_sql" value="true"/>
      <property name="hibernate.transaction.flush_before_completion" value="true"/>
      <property name="hibernate.dialect" value="org.hibernate.dialect.H2Dialect"/>
    </properties>
  </persistence-unit>
</persistence>

/ Intermezzo

/ In de bom-all.pom van wildfly-swarm zien we geen hibernate.
/ Lees, 
https://docs.jboss.org/hibernate/orm/5.2/topical/html_single/wildfly/Wildfly.html

The WildFly application server includes Hibernate ORM as the default JPA provider out of the box.
This means that you dont need to package Hibernate ORM with the applications you deploy on WildFly, instead the application server will automatically enable Hibernate support if it detects that your application is using JPA.

/ Maar in bom-all.pom zien we ook geen <scope>provided</scope> van hibernate, 
/ TODO

C:\Users\ervelden\.m2\repository\org\wildfly>dir *hibernate* /s

 Directory of C:\Users\ervelden\.m2\repository\org\wildfly\jipijapa-hibernate5\10.1.0.Final
03-09-2017  19:18            93.841 jipijapa-hibernate5-10.1.0.Final.jar
03-09-2017  19:17               731 jipijapa-hibernate5-10.1.0.Final.jar.lastUpdated
03-09-2017  19:18                40 jipijapa-hibernate5-10.1.0.Final.jar.sha1

/ swarm is naast jipijapa-hibernate5, WH maakt hij zo gebruik van jar's in wildfly
/ TODO

/ Einde Intermezzo

[BookEndpoint.java]$ rest-generate-endpoints-from-entities --targets org.example.model.Book
/ --content-type application/json is de default, 

/ we kunnen ook,
[BookEndpoint.java]$ rest-generate-endpoints-from-entities --targets org.example.model.Book --content-type application/xml
[BookEndpoint.java]$ rest-generate-endpoints-from-entities --targets org.example.model.Book --content-type application/js
/ we kunnen deze achter elkaar doen, hij maakt BookEndpoint.java opnieuw	, 

/ In Book.java komt altijd @XmlRootelement	, 
/ TODO

$ vi Book.java

package org.bookStore.model;
@Entity
@XmlRootElement
public class Book implements Serializable {

/ Als je --content-type application/xml, dan zien we 	,
	@Consumes("application/xml")
/ Als je --content-type application/json, dan zien we 	,
	@Consumes("application/json")

$ vi BookEndpoint.java

package org.bookStore.rest;

import java.util.List;

import javax.ejb.Stateless;
import javax.persistence.EntityManager;
import javax.persistence.NoResultException;
import javax.persistence.OptimisticLockException;
import javax.persistence.PersistenceContext;
import javax.persistence.TypedQuery;
import javax.ws.rs.Consumes;
import javax.ws.rs.DELETE;
import javax.ws.rs.GET;
import javax.ws.rs.POST;
import javax.ws.rs.PUT;
import javax.ws.rs.Path;
import javax.ws.rs.PathParam;
import javax.ws.rs.Produces;
import javax.ws.rs.QueryParam;
import javax.ws.rs.core.Response;
import javax.ws.rs.core.Response.Status;
import javax.ws.rs.core.UriBuilder;
import org.example.model.Book;

/**
 * 
 */
@Stateless
@Path("/books")
public class BookEndpoint {
	@PersistenceContext(unitName = "example-persistence-unit")
	private EntityManager em;

	@POST
	@Consumes("application/json")
	public Response create(Book entity) {
		em.persist(entity);
		return Response.created(
				UriBuilder.fromResource(BookEndpoint.class)
						.path(String.valueOf(entity.getId())).build()).build();
	}

	@DELETE
	@Path("/{id:[0-9][0-9]*}")
	public Response deleteById(@PathParam("id") Long id) {
		Book entity = em.find(Book.class, id);
		if (entity == null) {
			return Response.status(Status.NOT_FOUND).build();
		}
		em.remove(entity);
		return Response.noContent().build();
	}

	@GET
	@Path("/{id:[0-9][0-9]*}")
	@Produces("application/json")
	public Response findById(@PathParam("id") Long id) {
		TypedQuery<Book> findByIdQuery = em
				.createQuery(
						"SELECT DISTINCT b FROM Book b WHERE b.id = :entityId ORDER BY b.id",
						Book.class);
		findByIdQuery.setParameter("entityId", id);
		Book entity;
		try {
			entity = findByIdQuery.getSingleResult();
		} catch (NoResultException nre) {
			entity = null;
		}
		if (entity == null) {
			return Response.status(Status.NOT_FOUND).build();
		}
		return Response.ok(entity).build();
	}

	@GET
	@Produces("application/json")
	public List<Book> listAll(@QueryParam("start") Integer startPosition,
			@QueryParam("max") Integer maxResult) {
		TypedQuery<Book> findAllQuery = em.createQuery(
				"SELECT DISTINCT b FROM Book b ORDER BY b.id", Book.class);
		if (startPosition != null) {
			findAllQuery.setFirstResult(startPosition);
		}
		if (maxResult != null) {
			findAllQuery.setMaxResults(maxResult);
		}
		final List<Book> results = findAllQuery.getResultList();
		return results;
	}

	@PUT
	@Path("/{id:[0-9][0-9]*}")
	@Consumes("application/json")
	public Response update(@PathParam("id") Long id, Book entity) {
		if (entity == null) {
			return Response.status(Status.BAD_REQUEST).build();
		}
		if (id == null) {
			return Response.status(Status.BAD_REQUEST).build();
		}
		if (!id.equals(entity.getId())) {
			return Response.status(Status.CONFLICT).entity(entity).build();
		}
		if (em.find(Book.class, id) == null) {
			return Response.status(Status.NOT_FOUND).build();
		}
		try {
			entity = em.merge(entity);
		} catch (OptimisticLockException e) {
			return Response.status(Response.Status.CONFLICT)
					.entity(e.getEntity()).build();
		}

		return Response.noContent().build();
	}
}

$ vi RestApplication.java

package org.bookStore.rest;

import javax.ws.rs.core.Application;
import javax.ws.rs.ApplicationPath;

@ApplicationPath("/rest")
public class RestApplication extends Application {
}

[BookEndpoint.java]$  wildfly-swarm-run
[INFO] Scanning for projects...
[INFO]
[INFO] ------------------------------------------------------------------------
[INFO] Building bookStore 1.0.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO]
[INFO] >>> wildfly-swarm-plugin:2017.8.1:run (default-cli) > package @ bookStore >>>
[INFO]
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ bookStore ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO]
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ bookStore ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 3 source files to C:\Users\ervelden\eclipse\workspace-jbosstools-jee-oxygen\bookStore\target\classes
[INFO]
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ bookStore ---
[INFO] Not copying test resources
[INFO]
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ bookStore ---
[INFO] Not compiling test sources
[INFO]
[INFO] --- maven-surefire-plugin:2.12.4:test (default-test) @ bookStore ---
[INFO] Tests are skipped.
[INFO]
[INFO] --- maven-war-plugin:2.2:war (default-war) @ bookStore ---
[INFO] Packaging webapp
[INFO] Assembling webapp [bookStore] in [C:\Users\ervelden\eclipse\workspace-jbosstools-jee-oxygen\bookStore\target\bookStore]
[INFO] Processing war project
[INFO] Copying webapp resources [C:\Users\ervelden\eclipse\workspace-jbosstools-jee-oxygen\bookStore\src\main\webapp]
[INFO] Webapp assembled in [30 msecs]
[INFO] Building war: C:\Users\ervelden\eclipse\workspace-jbosstools-jee-oxygen\bookStore\target\bookStore.war
[INFO]
[INFO] --- wildfly-swarm-plugin:2017.8.1:package (default) @ bookStore ---
[INFO] Scanning for needed WildFly Swarm fractions with mode: when_missing
[INFO] Detected fractions: ejb:2017.8.1, jaxrs-jaxb:2017.8.1, jpa:2017.8.1, undertow:2017.8.1
[INFO] Adding fractions: container:2017.8.1, datasources:2017.8.1, ee:2017.8.1, ejb:2017.8.1, io:2017.8.1, jaxrs-jaxb:2017.8.1,
jaxrs:2017.8.1, jca:2017.8.1, jpa:2017.8.1, logging:2017.8.1, request-controller:2017.8.1, security:2017.8.1, undertow:2017.8.1
Downloading: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/swarm/datasources/2017.8.1/datasources-2017.8.
1.pom
Downloading: https://repo.maven.apache.org/maven2/org/wildfly/swarm/datasources/2017.8.1/datasources-2017.8.1.pom
Downloaded: https://repo.maven.apache.org/maven2/org/wildfly/swarm/datasources/2017.8.1/datasources-2017.8.1.pom (4.0 kB at 16 k
B/s)
Downloading: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/swarm/jca/2017.8.1/jca-2017.8.1.pom
Downloading: https://repo.maven.apache.org/maven2/org/wildfly/swarm/jca/2017.8.1/jca-2017.8.1.pom
Downloaded: https://repo.maven.apache.org/maven2/org/wildfly/swarm/jca/2017.8.1/jca-2017.8.1.pom (2.6 kB at 38 kB/s)
Downloading: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/swarm/connector/2017.8.1/connector-2017.8.1.po
m
Downloading: https://repo.maven.apache.org/maven2/org/wildfly/swarm/connector/2017.8.1/connector-2017.8.1.pom
Downloaded: https://repo.maven.apache.org/maven2/org/wildfly/swarm/connector/2017.8.1/connector-2017.8.1.pom (2.6 kB at 44 kB/s)

Downloading: https://repository.jboss.org/nexus/content/groups/public/org/jboss/spec/javax/resource/jboss-connector-api_1.7_spec
/1.0.0.Final/jboss-connector-api_1.7_spec-1.0.0.Final.pom
Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/jboss/spec/javax/resource/jboss-connector-api_1.7_spec/
1.0.0.Final/jboss-connector-api_1.7_spec-1.0.0.Final.pom (4.8 kB at 3.5 kB/s)
Downloading: https://repository.jboss.org/nexus/content/groups/public/org/jboss/ironjacamar/ironjacamar-jdbc/1.3.4.Final/ironjac
amar-jdbc-1.3.4.Final.pom
Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/jboss/ironjacamar/ironjacamar-jdbc/1.3.4.Final/ironjaca
mar-jdbc-1.3.4.Final.pom (3.0 kB at 2.8 kB/s)
Downloading: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/swarm/jpa/2017.8.1/jpa-2017.8.1.pom
Downloading: https://repo.maven.apache.org/maven2/org/wildfly/swarm/jpa/2017.8.1/jpa-2017.8.1.pom
Downloaded: https://repo.maven.apache.org/maven2/org/wildfly/swarm/jpa/2017.8.1/jpa-2017.8.1.pom (3.4 kB at 67 kB/s)
Downloading: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/swarm/jaxrs-jaxb/2017.8.1/jaxrs-jaxb-2017.8.1.
pom
Downloading: https://repo.maven.apache.org/maven2/org/wildfly/swarm/jaxrs-jaxb/2017.8.1/jaxrs-jaxb-2017.8.1.pom
Downloaded: https://repo.maven.apache.org/maven2/org/wildfly/swarm/jaxrs-jaxb/2017.8.1/jaxrs-jaxb-2017.8.1.pom (2.5 kB at 40 kB/
s)
Downloading: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/swarm/ejb/2017.8.1/ejb-2017.8.1.pom
Downloading: https://repo.maven.apache.org/maven2/org/wildfly/swarm/ejb/2017.8.1/ejb-2017.8.1.pom
Downloaded: https://repo.maven.apache.org/maven2/org/wildfly/swarm/ejb/2017.8.1/ejb-2017.8.1.pom (3.5 kB at 95 kB/s)
Downloading: https://repository.jboss.org/nexus/content/groups/public/org/jboss/spec/javax/ejb/jboss-ejb-api_3.2_spec/1.0.0.Fina
l/jboss-ejb-api_3.2_spec-1.0.0.Final.pom
Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/jboss/spec/javax/ejb/jboss-ejb-api_3.2_spec/1.0.0.Final
/jboss-ejb-api_3.2_spec-1.0.0.Final.pom (5.2 kB at 3.8 kB/s)
Downloading: https://repository.jboss.org/nexus/content/groups/public/org/jboss/ejb3/jboss-ejb3-ext-api/2.2.0.Final/jboss-ejb3-e
xt-api-2.2.0.Final.pom
Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/jboss/ejb3/jboss-ejb3-ext-api/2.2.0.Final/jboss-ejb3-ex
t-api-2.2.0.Final.pom (2.2 kB at 2.8 kB/s)
Downloading: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/swarm/datasources/2017.8.1/datasources-2017.8.
1.jar
Downloading: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/swarm/jpa/2017.8.1/jpa-2017.8.1.jar
Downloading: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/swarm/connector/2017.8.1/connector-2017.8.1.ja
r
Downloading: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/swarm/jca/2017.8.1/jca-2017.8.1.jar
Downloading: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/swarm/jaxrs-jaxb/2017.8.1/jaxrs-jaxb-2017.8.1.
jar
Downloading: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/swarm/ejb/2017.8.1/ejb-2017.8.1.jar
Downloading: https://repo.maven.apache.org/maven2/org/wildfly/swarm/datasources/2017.8.1/datasources-2017.8.1.jar
Downloading: https://repo.maven.apache.org/maven2/org/wildfly/swarm/jca/2017.8.1/jca-2017.8.1.jar
Downloading: https://repo.maven.apache.org/maven2/org/wildfly/swarm/connector/2017.8.1/connector-2017.8.1.jar
Downloading: https://repo.maven.apache.org/maven2/org/wildfly/swarm/jpa/2017.8.1/jpa-2017.8.1.jar
Downloading: https://repo.maven.apache.org/maven2/org/wildfly/swarm/jaxrs-jaxb/2017.8.1/jaxrs-jaxb-2017.8.1.jar
Downloaded: https://repo.maven.apache.org/maven2/org/wildfly/swarm/jca/2017.8.1/jca-2017.8.1.jar (9.5 kB at 102 kB/s)
Downloading: https://repo.maven.apache.org/maven2/org/wildfly/swarm/ejb/2017.8.1/ejb-2017.8.1.jar
Downloaded: https://repo.maven.apache.org/maven2/org/wildfly/swarm/jaxrs-jaxb/2017.8.1/jaxrs-jaxb-2017.8.1.jar (4.6 kB at 32 kB/
s)
Downloaded: https://repo.maven.apache.org/maven2/org/wildfly/swarm/jpa/2017.8.1/jpa-2017.8.1.jar (7.7 kB at 51 kB/s)
Downloaded: https://repo.maven.apache.org/maven2/org/wildfly/swarm/ejb/2017.8.1/ejb-2017.8.1.jar (14 kB at 90 kB/s)
Downloaded: https://repo.maven.apache.org/maven2/org/wildfly/swarm/datasources/2017.8.1/datasources-2017.8.1.jar (46 kB at 243 k
B/s)
Downloaded: https://repo.maven.apache.org/maven2/org/wildfly/swarm/connector/2017.8.1/connector-2017.8.1.jar (149 kB at 613 kB/s
)
Resolving 88 out of 420 artifacts
Downloading: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/core/wildfly-host-controller/2.2.1.Final/wildf
ly-host-controller-2.2.1.Final.jar
Downloading: https://repository.jboss.org/nexus/content/groups/public/org/jboss/aesh/aesh/0.66.8/aesh-0.66.8.jar
Downloading: https://repository.jboss.org/nexus/content/groups/public/org/apache/activemq/artemis-core-client/1.1.0.wildfly-017/
artemis-core-client-1.1.0.wildfly-017.jar
Downloading: https://repository.jboss.org/nexus/content/groups/public/org/apache/activemq/artemis-native/1.1.0.wildfly-017/artem
is-native-1.1.0.wildfly-017.jar
Downloading: https://repository.jboss.org/nexus/content/groups/public/org/apache/activemq/artemis-selector/1.1.0.wildfly-017/art
emis-selector-1.1.0.wildfly-017.jar
Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/apache/activemq/artemis-native/1.1.0.wildfly-017/artemi
s-native-1.1.0.wildfly-017.jar (32 kB at 21 kB/s)
Downloading: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/core/wildfly-embedded/2.2.1.Final/wildfly-embe
dded-2.2.1.Final.jar
Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/apache/activemq/artemis-selector/1.1.0.wildfly-017/arte
mis-selector-1.1.0.wildfly-017.jar (101 kB at 62 kB/s)
Downloading: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/wildfly-messaging-activemq/10.1.0.Final/wildfl
y-messaging-activemq-10.1.0.Final.jar
Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/jboss/aesh/aesh/0.66.8/aesh-0.66.8.jar (399 kB at 171 k
B/s)
Downloading: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/core/wildfly-domain-http-interface/2.2.1.Final
/wildfly-domain-http-interface-2.2.1.Final.jar
Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/core/wildfly-embedded/2.2.1.Final/wildfly-embed
ded-2.2.1.Final.jar (51 kB at 22 kB/s)
Downloading: https://repository.jboss.org/nexus/content/groups/public/org/apache/activemq/artemis-jms-client/1.1.0.wildfly-017/a
rtemis-jms-client-1.1.0.wildfly-017.jar
Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/apache/activemq/artemis-core-client/1.1.0.wildfly-017/a
rtemis-core-client-1.1.0.wildfly-017.jar (611 kB at 244 kB/s)
Downloading: https://repository.jboss.org/nexus/content/groups/public/org/apache/activemq/artemis-hqclient-protocol/1.1.0.wildfl
y-017/artemis-hqclient-protocol-1.1.0.wildfly-017.jar
Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/core/wildfly-host-controller/2.2.1.Final/wildfl
y-host-controller-2.2.1.Final.jar (1.1 MB at 392 kB/s)
Downloading: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/core/wildfly-management-client-content/2.2.1.F
inal/wildfly-management-client-content-2.2.1.Final.jar
Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/core/wildfly-domain-http-interface/2.2.1.Final/
wildfly-domain-http-interface-2.2.1.Final.jar (101 kB at 33 kB/s)
Downloading: https://repository.jboss.org/nexus/content/groups/public/org/apache/activemq/artemis-journal/1.1.0.wildfly-017/arte
mis-journal-1.1.0.wildfly-017.jar
Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/wildfly-messaging-activemq/10.1.0.Final/wildfly
-messaging-activemq-10.1.0.Final.jar (599 kB at 188 kB/s)
Downloading: https://repository.jboss.org/nexus/content/groups/public/org/jboss/remotingjmx/remoting-jmx/2.0.1.Final/remoting-jm
x-2.0.1.Final.jar
Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/apache/activemq/artemis-hqclient-protocol/1.1.0.wildfly
-017/artemis-hqclient-protocol-1.1.0.wildfly-017.jar (11 kB at 3.4 kB/s)
Downloading: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/core/wildfly-cli/2.2.1.Final/wildfly-cli-2.2.1
.Final.jar
Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/apache/activemq/artemis-jms-client/1.1.0.wildfly-017/ar
temis-jms-client-1.1.0.wildfly-017.jar (170 kB at 50 kB/s)
Downloading: https://repository.jboss.org/nexus/content/groups/public/org/apache/activemq/artemis-cli/1.1.0.wildfly-017/artemis-
cli-1.1.0.wildfly-017.jar
Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/core/wildfly-management-client-content/2.2.1.Fi
nal/wildfly-management-client-content-2.2.1.Final.jar (27 kB at 7.7 kB/s)
Downloading: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/core/wildfly-jmx/2.2.1.Final/wildfly-jmx-2.2.1
.Final.jar
Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/apache/activemq/artemis-journal/1.1.0.wildfly-017/artem
is-journal-1.1.0.wildfly-017.jar (169 kB at 45 kB/s)
Downloading: https://repository.jboss.org/nexus/content/groups/public/org/hornetq/hornetq-core-client/2.4.7.Final/hornetq-core-c
lient-2.4.7.Final.jar
Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/jboss/remotingjmx/remoting-jmx/2.0.1.Final/remoting-jmx
-2.0.1.Final.jar (314 kB at 78 kB/s)
Downloading: https://repository.jboss.org/nexus/content/groups/public/org/jboss/activemq/artemis/integration/artemis-wildfly-int
egration/1.0.2/artemis-wildfly-integration-1.0.2.jar
Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/core/wildfly-jmx/2.2.1.Final/wildfly-jmx-2.2.1.
Final.jar (232 kB at 55 kB/s)
Downloading: https://repository.jboss.org/nexus/content/groups/public/org/apache/activemq/artemis-server/1.1.0.wildfly-017/artem
is-server-1.1.0.wildfly-017.jar
Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/apache/activemq/artemis-cli/1.1.0.wildfly-017/artemis-c
li-1.1.0.wildfly-017.jar (173 kB at 41 kB/s)
Downloading: https://repository.jboss.org/nexus/content/groups/public/org/hornetq/hornetq-jms-client/2.4.7.Final/hornetq-jms-cli
ent-2.4.7.Final.jar
Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/wildfly/core/wildfly-cli/2.2.1.Final/wildfly-cli-2.2.1.
Final.jar (1.0 MB at 233 kB/s)
Downloading: https://repository.jboss.org/nexus/content/groups/public/org/apache/activemq/artemis-commons/1.1.0.wildfly-017/arte
mis-commons-1.1.0.wildfly-017.jar
Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/jboss/activemq/artemis/integration/artemis-wildfly-inte
gration/1.0.2/artemis-wildfly-integration-1.0.2.jar (46 kB at 9.8 kB/s)
Downloading: https://repository.jboss.org/nexus/content/groups/public/org/apache/activemq/artemis-service-extensions/1.1.0.wildf
ly-017/artemis-service-extensions-1.1.0.wildfly-017.jar
Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/hornetq/hornetq-core-client/2.4.7.Final/hornetq-core-cl
ient-2.4.7.Final.jar (569 kB at 119 kB/s)
Downloading: https://repository.jboss.org/nexus/content/groups/public/io/netty/netty-all/4.0.33.Final/netty-all-4.0.33.Final.jar

Downloading: https://repository.jboss.org/nexus/content/groups/public/org/apache/activemq/artemis-ra/1.1.0.wildfly-017/artemis-r
a-1.1.0.wildfly-017.jar
Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/hornetq/hornetq-jms-client/2.4.7.Final/hornetq-jms-clie
nt-2.4.7.Final.jar (138 kB at 28 kB/s)
Downloading: https://repository.jboss.org/nexus/content/groups/public/org/apache/activemq/artemis-jms-server/1.1.0.wildfly-017/a
rtemis-jms-server-1.1.0.wildfly-017.jar
Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/apache/activemq/artemis-commons/1.1.0.wildfly-017/artem
is-commons-1.1.0.wildfly-017.jar (138 kB at 27 kB/s)
Downloading: https://repository.jboss.org/nexus/content/groups/public/org/hornetq/hornetq-commons/2.4.7.Final/hornetq-commons-2.
4.7.Final.jar
Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/apache/activemq/artemis-service-extensions/1.1.0.wildfl
y-017/artemis-service-extensions-1.1.0.wildfly-017.jar (31 kB at 5.7 kB/s)
Downloading: https://repository.jboss.org/nexus/content/groups/public/org/apache/activemq/artemis-dto/1.1.0.wildfly-017/artemis-
dto-1.1.0.wildfly-017.jar
Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/apache/activemq/artemis-server/1.1.0.wildfly-017/artemi
s-server-1.1.0.wildfly-017.jar (1.2 MB at 221 kB/s)
Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/apache/activemq/artemis-jms-server/1.1.0.wildfly-017/ar
temis-jms-server-1.1.0.wildfly-017.jar (150 kB at 27 kB/s)
Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/hornetq/hornetq-commons/2.4.7.Final/hornetq-commons-2.4
.7.Final.jar (115 kB at 20 kB/s)
Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/apache/activemq/artemis-dto/1.1.0.wildfly-017/artemis-d
to-1.1.0.wildfly-017.jar (13 kB at 2.2 kB/s)
Downloaded: https://repository.jboss.org/nexus/content/groups/public/org/apache/activemq/artemis-ra/1.1.0.wildfly-017/artemis-ra
-1.1.0.wildfly-017.jar (146 kB at 22 kB/s)
Downloading: https://repo.maven.apache.org/maven2/io/netty/netty-all/4.0.33.Final/netty-all-4.0.33.Final.jar
Downloaded: https://repo.maven.apache.org/maven2/io/netty/netty-all/4.0.33.Final/netty-all-4.0.33.Final.jar (2.1 MB at 4.0 MB/s)

[INFO] Repackaging .war: C:\Users\ervelden\eclipse\workspace-jbosstools-jee-oxygen\bookStore\target\bookStore.war
[INFO] Repackaged .war: C:\Users\ervelden\eclipse\workspace-jbosstools-jee-oxygen\bookStore\target\bookStore.war
[INFO]
[INFO] <<< wildfly-swarm-plugin:2017.8.1:run (default-cli) < package @ bookStore <<<
[INFO]
[INFO]
[INFO] --- wildfly-swarm-plugin:2017.8.1:run (default-cli) @ bookStore ---
[INFO] Starting .war
[INFO] Scanning for needed WildFly Swarm fractions with mode: when_missing
[INFO] Detected fractions: ejb:2017.8.1, jaxrs-jaxb:2017.8.1, jpa:2017.8.1, undertow:2017.8.1
[INFO] Using fractions: container:2017.8.1, datasources:2017.8.1, ee:2017.8.1, ejb:2017.8.1, io:2017.8.1, jaxrs-jaxb:2017.8.1, j
axrs:2017.8.1, jca:2017.8.1, jpa:2017.8.1, logging:2017.8.1, request-controller:2017.8.1, security:2017.8.1, undertow:2017.8.1
Wed Sep 06 12:43:59 GMT+01:00 2017 INFO [org.wildfly.swarm.bootstrap] (main) Dependencies not bundled; resolving from M2REPO.
2017-09-06 12:44:00,461 INFO  [org.wildfly.swarm] (main) WFSWARM0013: Installed fraction:                  Logging - STABLE
     org.wildfly.swarm:logging:2017.8.1
2017-09-06 12:44:00,468 INFO  [org.wildfly.swarm] (main) WFSWARM0013: Installed fraction:                      EJB - STABLE
     org.wildfly.swarm:ejb:2017.8.1
2017-09-06 12:44:00,469 INFO  [org.wildfly.swarm] (main) WFSWARM0013: Installed fraction:                   JAX-RS - STABLE
     org.wildfly.swarm:jaxrs:2017.8.1
2017-09-06 12:44:00,469 INFO  [org.wildfly.swarm] (main) WFSWARM0013: Installed fraction:         JAX-RS with JAXB - STABLE
     org.wildfly.swarm:jaxrs-jaxb:2017.8.1
2017-09-06 12:44:00,469 INFO  [org.wildfly.swarm] (main) WFSWARM0013: Installed fraction:              Datasources - STABLE
     org.wildfly.swarm:datasources:2017.8.1
2017-09-06 12:44:00,470 INFO  [org.wildfly.swarm] (main) WFSWARM0013: Installed fraction:             Transactions - STABLE
     org.wildfly.swarm:transactions:2017.8.1
2017-09-06 12:44:00,470 INFO  [org.wildfly.swarm] (main) WFSWARM0013: Installed fraction:                      JCA - STABLE
     org.wildfly.swarm:jca:2017.8.1
2017-09-06 12:44:00,470 INFO  [org.wildfly.swarm] (main) WFSWARM0013: Installed fraction:                      JPA - STABLE
     org.wildfly.swarm:jpa:2017.8.1
2017-09-06 12:44:00,471 INFO  [org.wildfly.swarm] (main) WFSWARM0013: Installed fraction:                 Undertow - STABLE
     org.wildfly.swarm:undertow:2017.8.1
2017-09-06 12:44:02,342 WARN  [org.wildfly.swarm.datasources] (main) WFSWARM1005: Not creating a default datasource due to lack
of JDBC driver
2017-09-06 12:44:03,008 INFO  [org.jboss.msc] (main) JBoss MSC version 1.2.6.Final
2017-09-06 12:44:03,074 INFO  [org.jboss.as] (MSC service thread 1-6) WFLYSRV0049: WildFly Swarm 2017.8.1 (WildFly Core 2.2.1.Fi
nal) starting
2017-09-06 12:44:03,120 INFO  [org.wildfly.swarm] (MSC service thread 1-6) WFSWARM0019: Install MSC service for command line arg
s: []
2017-09-06 12:44:03,827 WARN  [org.jboss.as.txn] (ServerService Thread Pool -- 22) WFLYTX0013: Node identifier property is set t
o the default value. Please make sure it is unique.
2017-09-06 12:44:03,827 INFO  [org.jboss.as.security] (ServerService Thread Pool -- 15) WFLYSEC0002: Activating Security Subsyst
em
2017-09-06 12:44:03,827 INFO  [org.jboss.as.naming] (ServerService Thread Pool -- 17) WFLYNAM0001: Activating Naming Subsystem
2017-09-06 12:44:03,846 INFO  [org.jboss.as.security] (MSC service thread 1-3) WFLYSEC0001: Current PicketBox version=4.9.6.Fina
l
2017-09-06 12:44:03,873 INFO  [org.wildfly.extension.io] (ServerService Thread Pool -- 23) WFLYIO001: Worker 'default' has auto-
configured to 16 core threads with 128 task threads based on your 8 available processors
2017-09-06 12:44:03,893 INFO  [org.jboss.as.naming] (MSC service thread 1-1) WFLYNAM0003: Starting Naming Service
2017-09-06 12:44:03,973 INFO  [org.jboss.as.connector] (MSC service thread 1-8) WFLYJCA0009: Starting JCA Subsystem (WildFly/Iro
nJacamar 1.3.4.Final)
2017-09-06 12:44:03,987 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-4) WFLYUT0003: Undertow 1.4.11.Final starti
ng
2017-09-06 12:44:04,084 INFO  [org.xnio] (MSC service thread 1-5) XNIO version 3.4.3.Final
2017-09-06 12:44:04,135 INFO  [org.xnio.nio] (MSC service thread 1-5) XNIO NIO Implementation Version 3.4.3.Final
2017-09-06 12:44:04,261 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-5) WFLYUT0012: Started server default-serve
r.
2017-09-06 12:44:04,302 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-5) WFLYUT0006: Undertow HTTP listener defau
lt listening on [0:0:0:0:0:0:0:0]:8080
2017-09-06 12:44:04,437 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0025: WildFly Swarm 2017.8.1 (WildFly Core 2.2.1.Fi
nal) started in 1467ms - Started 134 of 145 services (25 services are lazy, passive or on-demand)
2017-09-06 12:44:05,177 INFO  [org.wildfly.swarm.runtime.deployer] (main) deploying bookStore.war
2017-09-06 12:44:05,196 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-6) WFLYSRV0027: Starting deployment of "boo
kStore.war" (runtime-name: "bookStore.war")
2017-09-06 12:44:06,661 INFO  [org.jboss.as.jpa] (MSC service thread 1-8) WFLYJPA0002: Read persistence.xml for bookStore-persis
tence-unit
2017-09-06 12:44:06,754 WARN  [org.jboss.as.dependency.private] (MSC service thread 1-1) WFLYSRV0018: Deployment "deployment.boo
kStore.war" is using a private module ("org.jboss.jts:main") which may be changed or removed in future versions without notice.
2017-09-06 12:44:06,755 WARN  [org.jboss.as.dependency.private] (MSC service thread 1-1) WFLYSRV0018: Deployment "deployment.boo
kStore.war" is using a private module ("org.jboss.ironjacamar.jdbcadapters:main") which may be changed or removed in future vers
ions without notice.
2017-09-06 12:44:06,805 INFO  [org.jboss.as.ejb3.deployment] (MSC service thread 1-4) WFLYEJB0473: JNDI bindings for session bea
n named 'BookEndpoint' in deployment unit 'deployment "bookStore.war"' are as follows:

        java:global/bookStore/BookEndpoint!org.bookStore.rest.BookEndpoint
        java:app/bookStore/BookEndpoint!org.bookStore.rest.BookEndpoint
        java:module/BookEndpoint!org.bookStore.rest.BookEndpoint
        java:global/bookStore/BookEndpoint
        java:app/bookStore/BookEndpoint
        java:module/BookEndpoint

2017-09-06 12:44:06,952 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-7) WFLYUT0018: Host default-host starting
2017-09-06 12:44:06,983 ERROR [org.jboss.as.controller.management-operation] (main) WFLYCTL0013: Operation ("add") failed - addr
ess: (("deployment" => "bookStore.war")) - failure description: {
    "WFLYCTL0412: Required services that are not installed:" => ["jboss.naming.context.java.jboss.datasources.ExampleDS"],
    "WFLYCTL0180: Services with missing/unavailable dependencies" => [
        "jboss.persistenceunit.\"bookStore.war#bookStore-persistence-unit\" is missing [jboss.naming.context.java.jboss.datasour
ces.ExampleDS]",
        "jboss.persistenceunit.\"bookStore.war#bookStore-persistence-unit\".__FIRST_PHASE__ is missing [jboss.naming.context.jav
a.jboss.datasources.ExampleDS]"
    ]
}
2017-09-06 12:44:06,985 ERROR [org.jboss.as.server] (main) WFLYSRV0021: Deploy of deployment "bookStore.war" was rolled back wit
h the following failure message:
{
    "WFLYCTL0412: Required services that are not installed:" => ["jboss.naming.context.java.jboss.datasources.ExampleDS"],
    "WFLYCTL0180: Services with missing/unavailable dependencies" => [
        "jboss.persistenceunit.\"bookStore.war#bookStore-persistence-unit\" is missing [jboss.naming.context.java.jboss.datasour
ces.ExampleDS]",
        "jboss.persistenceunit.\"bookStore.war#bookStore-persistence-unit\".__FIRST_PHASE__ is missing [jboss.naming.context.jav
a.jboss.datasources.ExampleDS]"
    ]
}
2017-09-06 12:44:06,993 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0019: Host default-host stopping
2017-09-06 12:44:07,096 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-2) WFLYSRV0028: Stopped deployment bookStor
e.war (runtime-name: bookStore.war) in 111ms
2017-09-06 12:44:07,098 INFO  [org.jboss.as.controller] (main) WFLYCTL0183: Service status report
WFLYCTL0184:    New missing/unsatisfied dependencies:
      service jboss.deployment.unit."bookStore.war".component.BookEndpoint.CREATE (missing) dependents: [service jboss.deploymen
t.unit."bookStore.war".component.BookEndpoint.START]
      service jboss.deployment.unit."bookStore.war".component.BookEndpoint.JndiBindingsService (missing) dependents: [service jb
oss.deployment.unit."bookStore.war".jndiDependencyService]
      service jboss.deployment.unit."bookStore.war".component.BookEndpoint.START (missing) dependents: [service jboss.deployment
.unit."bookStore.war".deploymentCompleteService, service jboss.undertow.deployment.default-server.default-host./, service jboss.
deployment.unit."bookStore.war".moduleDeploymentRuntimeInformationStart]
      service jboss.deployment.unit."bookStore.war".component.BookEndpoint.VIEW."org.bookStore.rest.BookEndpoint".LOCAL (missing
) dependents: [service jboss.deployment.unit."bookStore.war".component.BookEndpoint.START]
      service jboss.deployment.unit."bookStore.war".component.BookEndpoint.ejb.non-functional-timerservice (missing) dependents:
 [service jboss.deployment.unit."bookStore.war".component.BookEndpoint.START]
      service jboss.deployment.unit."bookStore.war".component."javax.servlet.jsp.jstl.tlv.PermittedTaglibsTLV".JndiBindingsServi
ce (missing) dependents: [service jboss.deployment.unit."bookStore.war".jndiDependencyService]
      service jboss.deployment.unit."bookStore.war".component."javax.servlet.jsp.jstl.tlv.PermittedTaglibsTLV".START (missing) d
ependents: [service jboss.deployment.unit."bookStore.war".deploymentCompleteService, service jboss.undertow.deployment.default-s
erver.default-host./, service jboss.undertow.deployment.default-server.default-host./.UndertowDeploymentInfoService]
      service jboss.deployment.unit."bookStore.war".component."javax.servlet.jsp.jstl.tlv.ScriptFreeTLV".CREATE (missing) depend
ents: [service jboss.deployment.unit."bookStore.war".component."javax.servlet.jsp.jstl.tlv.ScriptFreeTLV".START]
      service jboss.deployment.unit."bookStore.war".component."javax.servlet.jsp.jstl.tlv.ScriptFreeTLV".JndiBindingsService (mi
ssing) dependents: [service jboss.deployment.unit."bookStore.war".jndiDependencyService]
      service jboss.deployment.unit."bookStore.war".component."javax.servlet.jsp.jstl.tlv.ScriptFreeTLV".START (missing) depende
nts: [service jboss.deployment.unit."bookStore.war".deploymentCompleteService, service jboss.undertow.deployment.default-server.
default-host./]
      service jboss.deployment.unit."bookStore.war".ee.ComponentRegistry (missing) dependents: [service jboss.undertow.deploymen
t.default-server.default-host./.UndertowDeploymentInfoService]
      service jboss.deployment.unit."bookStore.war".jndiDependencyService (missing) dependents: [service jboss.deployment.unit."
bookStore.war".component."javax.servlet.jsp.jstl.tlv.ScriptFreeTLV".START, service jboss.deployment.unit."bookStore.war".compone
nt.BookEndpoint.START]
      service jboss.naming.context.java.app.bookStore.env (missing) dependents: [service jboss.deployment.unit."bookStore.war".j
ndiDependencyService]
      service jboss.naming.context.java.jboss.datasources.ExampleDS (missing) dependents: [service jboss.persistenceunit."bookSt
ore.war#bookStore-persistence-unit".__FIRST_PHASE__, service jboss.persistenceunit."bookStore.war#bookStore-persistence-unit"]
      service jboss.naming.context.java.module.bookStore.bookStore.DefaultContextService (missing) dependents: [service jboss.de
ployment.unit."bookStore.war".jndiDependencyService]
      service jboss.naming.context.java.module.bookStore.bookStore.DefaultManagedExecutorService (missing) dependents: [service
jboss.deployment.unit."bookStore.war".jndiDependencyService]
      service jboss.naming.context.java.module.bookStore.bookStore.DefaultManagedScheduledExecutorService (missing) dependents:
[service jboss.deployment.unit."bookStore.war".jndiDependencyService]
      service jboss.naming.context.java.module.bookStore.bookStore.DefaultManagedThreadFactory (missing) dependents: [service jb
oss.deployment.unit."bookStore.war".jndiDependencyService]
      service jboss.naming.context.java.module.bookStore.bookStore.EJBContext (missing) dependents: [service jboss.deployment.un
it."bookStore.war".jndiDependencyService]
      service jboss.naming.context.java.module.bookStore.bookStore.TimerService (missing) dependents: [service jboss.deployment.
unit."bookStore.war".jndiDependencyService]
      service jboss.naming.context.java.module.bookStore.bookStore.TransactionSynchronizationRegistry (missing) dependents: [ser
vice jboss.deployment.unit."bookStore.war".jndiDependencyService]
      service jboss.naming.context.java.module.bookStore.bookStore.UserTransaction (missing) dependents: [service jboss.deployme
nt.unit."bookStore.war".jndiDependencyService]
      service jboss.naming.context.java.module.bookStore.bookStore.env (missing) dependents: [service jboss.deployment.unit."boo
kStore.war".jndiDependencyService]
      service jboss.naming.context.java.module.bookStore.bookStore.env."org.bookStore.rest.BookEndpoint".em (missing) dependents
: [service jboss.deployment.unit."bookStore.war".component.BookEndpoint.START, service jboss.deployment.unit."bookStore.war".jnd
iDependencyService]
      service jboss.persistenceunit."bookStore.war#bookStore-persistence-unit" (missing) dependents: [service jboss.deployment.u
nit."bookStore.war".component."javax.servlet.jsp.jstl.tlv.PermittedTaglibsTLV".START, service jboss.deployment.unit."bookStore.w
ar".component."javax.servlet.jsp.jstl.tlv.ScriptFreeTLV".START, service jboss.deployment.unit."bookStore.war".deploymentComplete
Service, service jboss.undertow.deployment.default-server.default-host./, WFLYCTL0208: ... and 4 more ]
      service jboss.undertow.deployment.default-server.default-host./ (missing) dependents: [service jboss.deployment.unit."book
Store.war".deploymentCompleteService]
      service jboss.undertow.deployment.default-server.default-host./.UndertowDeploymentInfoService (missing) dependents: [servi
ce jboss.undertow.deployment.default-server.default-host./]
      service jboss.undertow.deployment.default-server.default-host./.codec (missing) dependents: [service jboss.undertow.deploy
ment.default-server.default-host./.UndertowDeploymentInfoService]

2017-09-06 12:44:07,128 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-8) WFLYUT0008: Undertow HTTP listener defau
lt suspending
2017-09-06 12:44:07,144 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-8) WFLYUT0007: Undertow HTTP listener defau
lt stopped, was bound to [0:0:0:0:0:0:0:0]:8080
2017-09-06 12:44:07,144 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-6) WFLYUT0004: Undertow 1.4.11.Final stoppi
ng
2017-09-06 12:44:07,145 INFO  [org.jboss.as] (MSC service thread 1-5) WFLYSRV0050: WildFly Swarm 2017.8.1 (WildFly Core 2.2.1.Fi
nal) stopped in 29ms
2017-09-06 12:44:07,172 INFO  [org.jboss.weld.Bootstrap] (main) WELD-ENV-002001: Weld SE container internal shut down
2017-09-06 12:44:07,175 ERROR [stderr] (main) Exception in thread "main" java.lang.reflect.InvocationTargetException

2017-09-06 12:44:07,176 ERROR [stderr] (main)   at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)

2017-09-06 12:44:07,176 ERROR [stderr] (main)   at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)


2017-09-06 12:44:07,176 ERROR [stderr] (main)   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.
java:43)

2017-09-06 12:44:07,176 ERROR [stderr] (main)   at java.lang.reflect.Method.invoke(Method.java:498)

2017-09-06 12:44:07,176 ERROR [stderr] (main)   at org.wildfly.swarm.bootstrap.MainInvoker.invoke(MainInvoker.java:39)

2017-09-06 12:44:07,176 ERROR [stderr] (main)   at org.wildfly.swarm.bootstrap.MainInvoker.main(MainInvoker.java:83)

2017-09-06 12:44:07,177 ERROR [stderr] (main) Caused by: org.wildfly.swarm.container.DeploymentException: org.wildfly.swarm.cont
ainer.DeploymentException: WFSWARM0004: Deployment failed: {"WFLYCTL0412: Required services that are not installed:" => ["jboss.
naming.context.java.jboss.datasources.ExampleDS"],"WFLYCTL0180: Services with missing/unavailable dependencies" => ["jboss.persi
stenceunit.\"bookStore.war#bookStore-persistence-unit\" is missing [jboss.naming.context.java.jboss.datasources.ExampleDS]","jbo
ss.persistenceunit.\"bookStore.war#bookStore-persistence-unit\".__FIRST_PHASE__ is missing [jboss.naming.context.java.jboss.data
sources.ExampleDS]"]}

2017-09-06 12:44:07,177 ERROR [stderr] (main)   at org.wildfly.swarm.container.runtime.RuntimeDeployer.deploy(RuntimeDeployer.ja
va:301)

2017-09-06 12:44:07,177 ERROR [stderr] (main)   at org.wildfly.swarm.container.runtime.RuntimeDeployer.deploy(RuntimeDeployer.ja
va:174)

2017-09-06 12:44:07,177 ERROR [stderr] (main)   at org.wildfly.swarm.container.runtime.RuntimeDeployer.deploy(RuntimeDeployer.ja
va:107)

2017-09-06 12:44:07,178 ERROR [stderr] (main)   at org.wildfly.swarm.container.runtime.RuntimeDeployer$Proxy$_$$_WeldClientProxy
.deploy(Unknown Source)

2017-09-06 12:44:07,178 ERROR [stderr] (main)   at org.wildfly.swarm.Swarm.deploy(Swarm.java:447)

2017-09-06 12:44:07,178 ERROR [stderr] (main)   at org.wildfly.swarm.Swarm.main(Swarm.java:630)

2017-09-06 12:44:07,178 ERROR [stderr] (main)   ... 6 more

2017-09-06 12:44:07,178 ERROR [stderr] (main) Caused by: org.wildfly.swarm.container.DeploymentException: WFSWARM0004: Deploymen
t failed: {"WFLYCTL0412: Required services that are not installed:" => ["jboss.naming.context.java.jboss.datasources.ExampleDS"]
,"WFLYCTL0180: Services with missing/unavailable dependencies" => ["jboss.persistenceunit.\"bookStore.war#bookStore-persistence-
unit\" is missing [jboss.naming.context.java.jboss.datasources.ExampleDS]","jboss.persistenceunit.\"bookStore.war#bookStore-pers
istence-unit\".__FIRST_PHASE__ is missing [jboss.naming.context.java.jboss.datasources.ExampleDS]"]}

2017-09-06 12:44:07,179 ERROR [stderr] (main)   at org.wildfly.swarm.container.runtime.RuntimeDeployer.deploy(RuntimeDeployer.ja
va:296)

2017-09-06 12:44:07,179 ERROR [stderr] (main)   ... 11 more

[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 36.284 s
[INFO] Finished at: 2017-09-06T12:44:07+01:00
[INFO] Final Memory: 66M/193M
[INFO] ------------------------------------------------------------------------
[SEVERE] Failed to execute goal org.wildfly.swarm:wildfly-swarm-plugin:2017.8.1:run (default-cli) on project bookStore: Process
failed to start -> [Help 1]
[SEVERE]
[SEVERE] To see the full stack trace of the errors, re-run Maven with the -e switch.
[SEVERE] Re-run Maven using the -X switch to enable full debug logging.
[SEVERE]
[SEVERE] For more information about the errors and possible solutions, please read the following articles:
[SEVERE] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
***ERROR*** Error while running the build

/ 13	. 

/ we moeten,

/ datastore in wildfly-swarm

/ lees,
https://howto.wildfly-swarm.io/create-a-datasource/

https://github.com/wildfly-swarm/wildfly-swarm-examples/tree/master/datasource					/ <-

/ we add een h2 dep aan pom.xml (en de version ), 
/ dat is alles,

$ vi pom.xml

<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
  <modelVersion>4.0.0</modelVersion>
  <groupId>org.bookStore</groupId>
  <artifactId>bookStore</artifactId>
  <version>1.0.0-SNAPSHOT</version>
  <packaging>war</packaging>
  <build>
    <finalName>bookStore</finalName>
    <plugins>
      <plugin>
        <groupId>org.wildfly.swarm</groupId>
        <artifactId>wildfly-swarm-plugin</artifactId>
        <version>${version.wildfly-swarm}</version>
        <executions>
          <execution>
            <goals>
              <goal>package</goal>
            </goals>
          </execution>
        </executions>
      </plugin>
    </plugins>
  </build>
  <dependencies>
    <dependency>
      <groupId>javax</groupId>
      <artifactId>javaee-api</artifactId>
      <scope>provided</scope>
    </dependency>
    <dependency>
	  <groupId>com.h2database</groupId>
	  <artifactId>h2</artifactId>
	  <version>${version.h2}</version>
	  <scope>compile</scope>
	</dependency>
  </dependencies>
  <dependencyManagement>
    <dependencies>
      <dependency>
        <groupId>javax</groupId>
        <artifactId>javaee-api</artifactId>
        <version>7.0</version>
        <scope>provided</scope>
      </dependency>
      <dependency>
        <groupId>org.wildfly.swarm</groupId>
        <artifactId>bom-all</artifactId>
        <version>${version.wildfly-swarm}</version>
        <type>pom</type>
        <scope>import</scope>
      </dependency>
    </dependencies>
  </dependencyManagement>
  <properties>
    <failOnMissingWebXml>false</failOnMissingWebXml>
    <maven.compiler.source>1.8</maven.compiler.source>
    <maven.compiler.target>1.8</maven.compiler.target>
    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
    <version.wildfly-swarm>2017.8.1</version.wildfly-swarm>
    <version.h2>1.4.187</version.h2>
  </properties>
</project>

/ in forge,

[bookStore]$ wildfly-swarm-run
[INFO] Scanning for projects...
[INFO]
[INFO] ------------------------------------------------------------------------
[INFO] Building bookStore 1.0.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO]
[INFO] >>> wildfly-swarm-plugin:2017.8.1:run (default-cli) > package @ bookStore >>>
[INFO]
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ bookStore ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO]
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ bookStore ---
[INFO] Nothing to compile - all classes are up to date
[INFO]
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ bookStore ---
[INFO] Not copying test resources
[INFO]
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ bookStore ---
[INFO] Not compiling test sources
[INFO]
[INFO] --- maven-surefire-plugin:2.12.4:test (default-test) @ bookStore ---
[INFO] Tests are skipped.
[INFO]
[INFO] --- maven-war-plugin:2.2:war (default-war) @ bookStore ---
[INFO] Packaging webapp
[INFO] Assembling webapp [bookStore] in [C:\Users\ervelden\eclipse\workspace-jbosstools-jee-oxygen\bookStore\target\bookStore]
[INFO] Processing war project
[INFO] Copying webapp resources [C:\Users\ervelden\eclipse\workspace-jbosstools-jee-oxygen\bookStore\src\main\webapp]
[INFO] Webapp assembled in [55 msecs]
[INFO] Building war: C:\Users\ervelden\eclipse\workspace-jbosstools-jee-oxygen\bookStore\target\bookStore.war
[INFO]
[INFO] --- wildfly-swarm-plugin:2017.8.1:package (default) @ bookStore ---
[INFO] Scanning for needed WildFly Swarm fractions with mode: when_missing
[INFO] Detected fractions: ejb:2017.8.1, jaxrs-jaxb:2017.8.1, jpa:2017.8.1, undertow:2017.8.1
[INFO] Adding fractions: container:2017.8.1, datasources:2017.8.1, ee:2017.8.1, ejb:2017.8.1, io:2017.8.1, jaxrs-jaxb:2017.8.1,
jaxrs:2017.8.1, jca:2017.8.1, jpa:2017.8.1, logging:2017.8.1, request-controller:2017.8.1, security:2017.8.1, undertow:2017.8.1
Resolving 62 out of 421 artifacts
[INFO] Repackaging .war: C:\Users\ervelden\eclipse\workspace-jbosstools-jee-oxygen\bookStore\target\bookStore.war
[INFO] Repackaged .war: C:\Users\ervelden\eclipse\workspace-jbosstools-jee-oxygen\bookStore\target\bookStore.war
[INFO]
[INFO] <<< wildfly-swarm-plugin:2017.8.1:run (default-cli) < package @ bookStore <<<
[INFO]
[INFO]
[INFO] --- wildfly-swarm-plugin:2017.8.1:run (default-cli) @ bookStore ---
[INFO] Starting .war
[INFO] Scanning for needed WildFly Swarm fractions with mode: when_missing
[INFO] Detected fractions: ejb:2017.8.1, jaxrs-jaxb:2017.8.1, jpa:2017.8.1, undertow:2017.8.1
[INFO] Using fractions: container:2017.8.1, datasources:2017.8.1, ee:2017.8.1, ejb:2017.8.1, io:2017.8.1, jaxrs-jaxb:2017.8.1, j
axrs:2017.8.1, jca:2017.8.1, jpa:2017.8.1, logging:2017.8.1, request-controller:2017.8.1, security:2017.8.1, undertow:2017.8.1
Wed Sep 06 13:39:19 GMT+01:00 2017 INFO [org.wildfly.swarm.bootstrap] (main) Dependencies not bundled; resolving from M2REPO.
2017-09-06 13:39:20,413 INFO  [org.wildfly.swarm] (main) WFSWARM0013: Installed fraction:                  Logging - STABLE
     org.wildfly.swarm:logging:2017.8.1
2017-09-06 13:39:20,418 INFO  [org.wildfly.swarm] (main) WFSWARM0013: Installed fraction:                      EJB - STABLE
     org.wildfly.swarm:ejb:2017.8.1
2017-09-06 13:39:20,418 INFO  [org.wildfly.swarm] (main) WFSWARM0013: Installed fraction:                   JAX-RS - STABLE
     org.wildfly.swarm:jaxrs:2017.8.1
2017-09-06 13:39:20,418 INFO  [org.wildfly.swarm] (main) WFSWARM0013: Installed fraction:         JAX-RS with JAXB - STABLE
     org.wildfly.swarm:jaxrs-jaxb:2017.8.1
2017-09-06 13:39:20,418 INFO  [org.wildfly.swarm] (main) WFSWARM0013: Installed fraction:              Datasources - STABLE
     org.wildfly.swarm:datasources:2017.8.1
2017-09-06 13:39:20,419 INFO  [org.wildfly.swarm] (main) WFSWARM0013: Installed fraction:             Transactions - STABLE
     org.wildfly.swarm:transactions:2017.8.1
2017-09-06 13:39:20,419 INFO  [org.wildfly.swarm] (main) WFSWARM0013: Installed fraction:                      JCA - STABLE
     org.wildfly.swarm:jca:2017.8.1
2017-09-06 13:39:20,419 INFO  [org.wildfly.swarm] (main) WFSWARM0013: Installed fraction:                      JPA - STABLE
     org.wildfly.swarm:jpa:2017.8.1
2017-09-06 13:39:20,419 INFO  [org.wildfly.swarm] (main) WFSWARM0013: Installed fraction:                 Undertow - STABLE
     org.wildfly.swarm:undertow:2017.8.1
2017-09-06 13:39:22,034 INFO  [org.wildfly.swarm.datasources] (main) WFSWARM1003: Auto-detected JDBC driver for h2
2017-09-06 13:39:22,693 INFO  [org.jboss.msc] (main) JBoss MSC version 1.2.6.Final
2017-09-06 13:39:22,737 INFO  [org.jboss.as] (MSC service thread 1-6) WFLYSRV0049: WildFly Swarm 2017.8.1 (WildFly Core 2.2.1.Fi
nal) starting
2017-09-06 13:39:22,787 INFO  [org.wildfly.swarm] (MSC service thread 1-6) WFSWARM0019: Install MSC service for command line arg
s: []
2017-09-06 13:39:23,470 WARN  [org.jboss.as.txn] (ServerService Thread Pool -- 24) WFLYTX0013: Node identifier property is set t
o the default value. Please make sure it is unique.
2017-09-06 13:39:23,488 INFO  [org.jboss.as.naming] (ServerService Thread Pool -- 16) WFLYNAM0001: Activating Naming Subsystem
2017-09-06 13:39:23,488 INFO  [org.jboss.as.security] (ServerService Thread Pool -- 26) WFLYSEC0002: Activating Security Subsyst
em
2017-09-06 13:39:23,511 INFO  [org.jboss.as.security] (MSC service thread 1-3) WFLYSEC0001: Current PicketBox version=4.9.6.Fina
l
2017-09-06 13:39:23,512 INFO  [org.wildfly.extension.io] (ServerService Thread Pool -- 20) WFLYIO001: Worker 'default' has auto-
configured to 16 core threads with 128 task threads based on your 8 available processors
2017-09-06 13:39:23,545 INFO  [org.jboss.as.connector] (MSC service thread 1-5) WFLYJCA0009: Starting JCA Subsystem (WildFly/Iro
nJacamar 1.3.4.Final)
2017-09-06 13:39:23,548 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-7) WFLYUT0003: Undertow 1.4.11.Final starti
ng
2017-09-06 13:39:23,581 INFO  [org.jboss.as.naming] (MSC service thread 1-6) WFLYNAM0003: Starting Naming Service
2017-09-06 13:39:23,599 INFO  [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool -- 19) WFLYJCA0004: Dep
loying JDBC-compliant driver class org.h2.Driver (version 1.4)
2017-09-06 13:39:23,621 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-6) WFLYJCA0018: Started Driver servi
ce with driver-name = h2
2017-09-06 13:39:23,625 INFO  [org.xnio] (MSC service thread 1-3) XNIO version 3.4.3.Final
2017-09-06 13:39:23,671 INFO  [org.xnio.nio] (MSC service thread 1-3) XNIO NIO Implementation Version 3.4.3.Final
2017-09-06 13:39:23,754 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-3) WFLYUT0012: Started server default-serve
r.
2017-09-06 13:39:23,823 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-6) WFLYUT0006: Undertow HTTP listener defau
lt listening on [0:0:0:0:0:0:0:0]:8080
2017-09-06 13:39:23,934 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-5) WFLYJCA0001: Bound data s
ource [java:jboss/datasources/ExampleDS]
2017-09-06 13:39:24,013 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0025: WildFly Swarm 2017.8.1 (WildFly Core 2.2.1.Fi
nal) started in 1367ms - Started 141 of 152 services (26 services are lazy, passive or on-demand)
2017-09-06 13:39:24,983 INFO  [org.wildfly.swarm.runtime.deployer] (main) deploying bookStore.war
2017-09-06 13:39:25,000 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-6) WFLYSRV0027: Starting deployment of "boo
kStore.war" (runtime-name: "bookStore.war")
2017-09-06 13:39:26,090 INFO  [org.jboss.as.jpa] (MSC service thread 1-1) WFLYJPA0002: Read persistence.xml for bookStore-persis
tence-unit
2017-09-06 13:39:26,185 WARN  [org.jboss.as.dependency.private] (MSC service thread 1-2) WFLYSRV0018: Deployment "deployment.boo
kStore.war" is using a private module ("org.jboss.ironjacamar.jdbcadapters:main") which may be changed or removed in future vers
ions without notice.
2017-09-06 13:39:26,186 WARN  [org.jboss.as.dependency.private] (MSC service thread 1-2) WFLYSRV0018: Deployment "deployment.boo
kStore.war" is using a private module ("org.jboss.jts:main") which may be changed or removed in future versions without notice.
2017-09-06 13:39:26,221 INFO  [org.jboss.as.jpa] (ServerService Thread Pool -- 7) WFLYJPA0010: Starting Persistence Unit (phase
1 of 2) Service 'bookStore.war#bookStore-persistence-unit'
2017-09-06 13:39:26,242 INFO  [org.hibernate.jpa.internal.util.LogHelper] (ServerService Thread Pool -- 7) HHH000204: Processing
 PersistenceUnitInfo [
        name: bookStore-persistence-unit
        ...]
2017-09-06 13:39:26,251 INFO  [org.jboss.as.ejb3.deployment] (MSC service thread 1-6) WFLYEJB0473: JNDI bindings for session bea
n named 'BookEndpoint' in deployment unit 'deployment "bookStore.war"' are as follows:

        java:global/bookStore/BookEndpoint!org.bookStore.rest.BookEndpoint
        java:app/bookStore/BookEndpoint!org.bookStore.rest.BookEndpoint
        java:module/BookEndpoint!org.bookStore.rest.BookEndpoint
        java:global/bookStore/BookEndpoint
        java:app/bookStore/BookEndpoint
        java:module/BookEndpoint

2017-09-06 13:39:26,316 INFO  [org.hibernate.Version] (ServerService Thread Pool -- 7) HHH000412: Hibernate Core {5.0.10.Final}
2017-09-06 13:39:26,318 INFO  [org.hibernate.cfg.Environment] (ServerService Thread Pool -- 7) HHH000206: hibernate.properties n
ot found
2017-09-06 13:39:26,320 INFO  [org.hibernate.cfg.Environment] (ServerService Thread Pool -- 7) HHH000021: Bytecode provider name
 : javassist
2017-09-06 13:39:26,327 WARN  [org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl] (ServerService Thread Pool -- 7)
 HHH000059: Defining hibernate.transaction.flush_before_completion=true ignored in HEM
2017-09-06 13:39:26,369 INFO  [org.hibernate.annotations.common.Version] (ServerService Thread Pool -- 7) HCANN000001: Hibernate
 Commons Annotations {5.0.1.Final}
2017-09-06 13:39:26,497 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-8) WFLYJCA0004: Deploying JDBC-compl
iant driver class org.h2.Driver (version 1.4)
2017-09-06 13:39:26,517 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-5) WFLYUT0018: Host default-host starting
2017-09-06 13:39:26,525 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-2) WFLYJCA0018: Started Driver servi
ce with driver-name = bookStore.war_org.h2.Driver_1_4
2017-09-06 13:39:26,531 INFO  [org.jboss.as.jpa] (ServerService Thread Pool -- 7) WFLYJPA0010: Starting Persistence Unit (phase
2 of 2) Service 'bookStore.war#bookStore-persistence-unit'
2017-09-06 13:39:26,730 INFO  [org.hibernate.dialect.Dialect] (ServerService Thread Pool -- 7) HHH000400: Using dialect: org.hib
ernate.dialect.H2Dialect
2017-09-06 13:39:26,784 INFO  [org.hibernate.envers.boot.internal.EnversServiceImpl] (ServerService Thread Pool -- 7) Envers int
egration enabled? : true
2017-09-06 13:39:27,108 INFO  [org.hibernate.tool.hbm2ddl.SchemaExport] (ServerService Thread Pool -- 7) HHH000227: Running hbm2
ddl schema export
2017-09-06 13:39:27,113 INFO  [stdout] (ServerService Thread Pool -- 7) Hibernate:
2017-09-06 13:39:27,113 INFO  [stdout] (ServerService Thread Pool -- 7)     drop table Book if exists

2017-09-06 13:39:27,114 INFO  [stdout] (ServerService Thread Pool -- 7) Hibernate:
2017-09-06 13:39:27,114 INFO  [stdout] (ServerService Thread Pool -- 7)     drop sequence if exists hibernate_sequence

2017-09-06 13:39:27,114 INFO  [stdout] (ServerService Thread Pool -- 7) Hibernate:
2017-09-06 13:39:27,115 INFO  [stdout] (ServerService Thread Pool -- 7)     create sequence hibernate_sequence start with 1 incr
ement by 1

2017-09-06 13:39:27,116 INFO  [stdout] (ServerService Thread Pool -- 7) Hibernate:
2017-09-06 13:39:27,117 INFO  [stdout] (ServerService Thread Pool -- 7)     create table Book (
2017-09-06 13:39:27,117 INFO  [stdout] (ServerService Thread Pool -- 7)         id bigint not null,
2017-09-06 13:39:27,117 INFO  [stdout] (ServerService Thread Pool -- 7)         publishingDate date,
2017-09-06 13:39:27,117 INFO  [stdout] (ServerService Thread Pool -- 7)         title varchar(255),
2017-09-06 13:39:27,117 INFO  [stdout] (ServerService Thread Pool -- 7)         version integer,
2017-09-06 13:39:27,117 INFO  [stdout] (ServerService Thread Pool -- 7)         primary key (id)
2017-09-06 13:39:27,117 INFO  [stdout] (ServerService Thread Pool -- 7)     )

2017-09-06 13:39:27,122 INFO  [org.hibernate.tool.hbm2ddl.SchemaExport] (ServerService Thread Pool -- 7) HHH000230: Schema expor
t complete
2017-09-06 13:39:27,321 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 14) RESTEASY002225: Deployi
ng javax.ws.rs.core.Application: class org.bookStore.rest.RestApplication
2017-09-06 13:39:27,347 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 14) WFLYUT0021: Registered web cont
ext: /
2017-09-06 13:39:27,390 INFO  [org.jboss.as.server] (main) WFLYSRV0010: Deployed "bookStore.war" (runtime-name : "bookStore.war"
)
2017-09-06 13:39:27,390 INFO  [org.wildfly.swarm] (main) WFSWARM99999: WildFly Swarm is Ready

/ we hebben geen context path create,
/ we geven in chrome:
localhost:8080/rest/books
[]
/ we zien in forge de logging:

2017-09-06 13:45:47,801 INFO  [org.hibernate.hql.internal.QueryTranslatorFactoryInitiator] (default task-4) HHH000397: Using AST
QueryTranslatorFactory
2017-09-06 13:45:47,875 INFO  [stdout] (default task-4) Hibernate:
2017-09-06 13:45:47,875 INFO  [stdout] (default task-4)     select
2017-09-06 13:45:47,875 INFO  [stdout] (default task-4)         distinct book0_.id as id1_0_,
2017-09-06 13:45:47,875 INFO  [stdout] (default task-4)         book0_.publishingDate as publishi2_0_,
2017-09-06 13:45:47,875 INFO  [stdout] (default task-4)         book0_.title as title3_0_,
2017-09-06 13:45:47,875 INFO  [stdout] (default task-4)         book0_.version as version4_0_
2017-09-06 13:45:47,875 INFO  [stdout] (default task-4)     from
2017-09-06 13:45:47,875 INFO  [stdout] (default task-4)         Book book0_
2017-09-06 13:45:47,875 INFO  [stdout] (default task-4)     order by
2017-09-06 13:45:47,875 INFO  [stdout] (default task-4)         book0_.id

/ een get op 
localhost:8080/books 
localhost:8080/books?start=0
localhost:8080/books?start=0&max=1 
/ calls,
@Stateless
@Path("/books")
public class BookEndpoint {
	@GET
	@Produces("application/json")
	public List<Book> listAll(@QueryParam("start") Integer startPosition,
			@QueryParam("max") Integer maxResult) {
			
/ een get op 
localhost:8080/books/1
/ calls,
	@GET
	@Path("/{id:[0-9][0-9]*}")
	@Produces("application/json")
	public Response findById(@PathParam("id") Long id) {


C:\Users\ervelden\bin\curl-7.55.0-win64-mingw\bin>curl -X GET http://localhost:8080/rest/books
[]

C:\Users\ervelden\bin\curl-7.55.0-win64-mingw\bin>curl -X POST -H "Content-Type:application/json" -d "{\"version\":\"1\"}" http:
//localhost:8080/rest/books
C:\Users\ervelden\bin\curl-7.55.0-win64-mingw\bin>curl -X GET http://localhost:8080/rest/books
[{"id":1,"version":1,"title":null,"publishingDate":null}]

C:\Users\ervelden\bin\curl-7.55.0-win64-mingw\bin>curl -X POST -H "Content-Type:application/json" -d "{\"version\":\"12\"}" http
://localhost:8080/rest/books
C:\Users\ervelden\bin\curl-7.55.0-win64-mingw\bin>curl -X GET http://localhost:8080/rest/books
[{"id":1,"version":1,"title":null,"publishingDate":null},{"id":2,"version":12,"title":null,"publishingDate":null}]
C:\Users\ervelden\bin\curl-7.55.0-win64-mingw\bin>curl -X GET http://localhost:8080/rest/books/2
{"id":2,"version":12,"title":null,"publishingDate":null}

C:\Users\ervelden\bin\curl-7.55.0-win64-mingw\bin>curl -X GET http://localhost:8080/rest/books?start=2
[]
C:\Users\ervelden\bin\curl-7.55.0-win64-mingw\bin>curl -X GET http://localhost:8080/rest/books?start=1
[{"id":2,"version":12,"title":null,"publishingDate":null}]
C:\Users\ervelden\bin\curl-7.55.0-win64-mingw\bin>curl -X GET http://localhost:8080/rest/books?start=0
[{"id":1,"version":1,"title":null,"publishingDate":null},{"id":2,"version":12,"title":null,"publishingDate":null}]
C:\Users\ervelden\bin\curl-7.55.0-win64-mingw\bin>curl -X GET http://localhost:8080/rest/books?start=0^&max=1
[{"id":1,"version":1,"title":null,"publishingDate":null}]

/ in Window's command line moeten we & escape met ^&

/ Met REST's path variables vraag je met de id, dus 1,2,...
/ Met query parameters vraag je met een index, dus 0,1,...			/ TODO is dit wel REST ?

/ 13	. 

/ update,

C:\Users\ervelden\bin\curl-7.55.0-win64-mingw\bin>curl -X PUT -H "Content-Type:application/json" -d "{\"title\":\"Foo Bar\"}" ht
tp://localhost:8080/rest/books/1
Could not find MessageBodyWriter for response object of type: org.bookStore.model.Book of media type: application/octet-stream

C:\Users\ervelden\bin\curl-7.55.0-win64-mingw\bin>curl -X PUT -H "Content-Type:application/json" -d "{\"version\":\"11\"}" http:
//localhost:8080/rest/books/1
Could not find MessageBodyWriter for response object of type: org.bookStore.model.Book of media type: application/octet-stream

/ 13	. 

/ we veranderen in BookEndpoint.java json in xml,

C:\Users\ervelden\bin\curl-7.55.0-win64-mingw\bin>curl -X GET http://localhost:8080/rest/books
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><collection/>

C:\Users\ervelden\bin\curl-7.55.0-win64-mingw\bin>curl -X POST -H "Content-Type:application/xml" -d "<version>11</version>" http
://localhost:8080/rest/books
javax.xml.bind.UnmarshalException: unexpected element (uri:"", local:"version"). Expected elements are <{}book>
/ onze XML is niet OK, we moeten "<book>...</book>"


/ REST JAVA-SWARM GELUKT

/ we moeten -H "Content-Type:application/xml", NIET "text/xml"	,
/ "content-type:..." mag OOK,

/ Het is gelukt,

C:\Users\ervelden\bin\curl-7.55.0-win64-mingw\bin>curl -X GET http://localhost:8080/rest/books
C:\Users\ervelden\bin\curl-7.55.0-win64-mingw\bin>curl -X PUT -H "Content-Type:application/xml" -d "<book><id>2</id><version>11<
/version><title>Foo Bar</title></book>" http://localhost:8080/rest/books/2
C:\Users\ervelden\bin\curl-7.55.0-win64-mingw\bin>curl -X GET http://localhost:8080/rest/books
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><collection><book><id>1</id><version>13</version></book><book><id>2</id><
version>12</version><title>Foo Bar</title></book></collection>
C:\Users\ervelden\bin\curl-7.55.0-win64-mingw\bin>curl -X PUT -H "Content-Type:application/xml" -d "<book><id>2</id><version>12<
/version><title>Gee Hee</title></book>" http://localhost:8080/rest/books/2
C:\Users\ervelden\bin\curl-7.55.0-win64-mingw\bin>curl -X GET http://localhost:8080/rest/books
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><collection><book><id>1</id><version>13</version></book><book><id>2</id><
version>13</version><title>Gee Hee</title></book></collection>

/ bij iedere echte update van een boek wordt de version van het book +	,
/ de version in de -d moet de current version zijn, anders ERR,

C:\Users\ervelden\bin\curl-7.55.0-win64-mingw\bin>curl -X PUT -H "Content-Type:application/xml" -d "<book><id>2</id><version>13<
/version><title>Me You</title></book>" http://localhost:8080/rest/books/2
C:\Users\ervelden\bin\curl-7.55.0-win64-mingw\bin>curl -X GET http://localhost:8080/rest/books
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><collection><book><id>1</id><version>13</version></book><book><id>2</id><
version>14</version><title>Me You</title></book></collection>

/ Hoe version?

/ MORGEN: json of xml van een LocalDate, 
/ Maak een Book in Main, en GET deze,

/ 13	. 

/ versioning gaat vanzelf	,

C:\Users\ervelden\bin\curl-7.55.0-win64-mingw\bin>curl -X POST -H "Content-Type:application/xml" -d "<book><title>Foo Bar</title
></book>" http://localhost:8080/rest/books
C:\Users\ervelden\bin\curl-7.55.0-win64-mingw\bin>curl -X GET http://localhost:8080/rest/books
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><collection><book><id>1</id><version>11</version></book><book><id>2</id><
version>0</version><title>Foo Bar</title></book></collection>

C:\Users\ervelden\bin\curl-7.55.0-win64-mingw\bin>curl -X PUT -H "Content-Type:application/xml" -d "<book><id>2</id><title>Gee H
ee</title></book>" http://localhost:8080/rest/books/2

C:\Users\ervelden\bin\curl-7.55.0-win64-mingw\bin>curl -X GET http://localhost:8080/rest/books
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><collection><book><id>1</id><version>11</version></book><book><id>2</id><
version>1</version><title>Gee Hee</title></book></collection>

C:\Users\ervelden\bin\curl-7.55.0-win64-mingw\bin>curl -X GET http://localhost:8080/rest/books
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><collection><book><id>1</id><version>11</version></book><book><id>2</id><
version>1</version><title>Gee Hee</title></book></collection>
C:\Users\ervelden\bin\curl-7.55.0-win64-mingw\bin>curl -X PUT -H "Content-Type:application/xml" -d "<book><id>2</id><title>Me Yo
u</title></book>" http://localhost:8080/rest/books/2
Could not find MessageBodyWriter for response object of type: org.bookStore.model.Book of media type: application/octet-stream
/ TODO
C:\Users\ervelden\bin\curl-7.55.0-win64-mingw\bin>curl -X DELETE http://localhost:8080/rest/books/2
C:\Users\ervelden\bin\curl-7.55.0-win64-mingw\bin>curl -X DELETE http://localhost:8080/rest/books/1
/ hoeft geen content-type bij,

/ we moeten ook de version meegeven , behalve als de version 0 is

/ 1313	. 

[Book.java]$ pwd
C:\Users\ervelden\eclipse\workspace-jbosstools-jee-oxygen\bookStore\src\main\java\org\bookStore\model\Book.java
[Book.java]$ jpa-new-field --named print
[Book.java]$ jpa-new-field --named misc

/ hij set precies er in wat je hem geeft, dus als je geen <title> geeft, wordt deze NULL set,
/ behalve id en version; deze gaan apart: id wordt bij de POST set, als je hem niet geeft, wordt hij door Hibernate set, en bij PUTs moet je hem steeds meegeven in de data, maar ook als path variable,
/ version wordt ook bij de POST set, en moet je steeds meegeven (behalve als hij 0 is TODO)
/ als je id en version niet in de data meegeeft, dan ERR. 
/ als we bijvoorbeeld @Column(nullable=false) private String print, dan moet je print ook in data meegeven, anders ERR, 
/ maar een andere ERR dan bij id en version: 
Could not find MessageBodyWriter for response object of type: org.bookStore.model.Book of media type: application/octet-stream
RESTEASY002005


C:\Users\ervelden\bin\curl-7.55.0-win64-mingw\bin>curl -X POST -H "Content-Type:application/xml" -d "<book><title>Foo Bar</title
></book>" http://localhost:8080/rest/books
C:\Users\ervelden\bin\curl-7.55.0-win64-mingw\bin>curl -X GET http://localhost:8080/rest/books
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><collection><book><id>1</id><version>0</version><title>Foo Bar</title></b
ook></collection>
/ Hij heeft id en version set,

C:\Users\ervelden\bin\curl-7.55.0-win64-mingw\bin>curl -X PUT -H "Content-Type:application/xml" -d "<book><id>1</id><version>0</
version><print>Hard</print></book>" http://localhost:8080/rest/books/1
C:\Users\ervelden\bin\curl-7.55.0-win64-mingw\bin>curl -X GET http://localhost:8080/rest/books
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><collection><book><id>1</id><version>1</version><print>Hard</print></book
></collection>
/ we zien de version +1, en de title is weg!

C:\Users\ervelden\bin\curl-7.55.0-win64-mingw\bin>curl -X PUT -H "Content-Type:application/xml" -d "<book><id>1</id><version>1</
version><print>Hard</print><title>Foo Bar</title></book>" http://localhost:8080/rest/books/1
C:\Users\ervelden\bin\curl-7.55.0-win64-mingw\bin>curl -X GET http://localhost:8080/rest/books
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><collection><book><id>1</id><version>2</version><title>Foo Bar</title><pr
int>Hard</print></book></collection>
/ we zien version +1, en title is er weer,	 

C:\Users\ervelden\bin\curl-7.55.0-win64-mingw\bin>curl -X PUT -H "Content-Type:application/xml" -d "<book><id>1</id><version>2</
version><print>Hard</print><title>Foo Bar</title></book>" http://localhost:8080/rest/books/1
C:\Users\ervelden\bin\curl-7.55.0-win64-mingw\bin>curl -X GET http://localhost:8080/rest/books
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><collection><book><id>1</id><version>2</version><title>Foo Bar</title><pr
int>Hard</print></book></collection>
/ als we niets veranderen, wordt version +0
/ de volgorde waarin we PUT maakt niet uit; je ziet bij de GET een andere volgorde van title en print,

/ 1313	. 

/ we maken BookEndpoint een json REST endpoint,

C:\Users\ervelden\bin\curl-7.55.0-win64-mingw\bin>curl -X POST -H "Content-Type:application/json" -d "{\"title\":\"Foo Bar\"}" h
ttp://localhost:8080/rest/books
C:\Users\ervelden\bin\curl-7.55.0-win64-mingw\bin>curl -X GET http://localhost:8080/rest/books
[{"id":2,"version":0,"title":"Foo Bar","publishingDate":null,"print":null,"misc":null}]

C:\Users\ervelden\bin\curl-7.55.0-win64-mingw\bin>curl -X PUT -H "content-type:application/json" -d "{\"id\":2,\"version\":0,\"t
itle\":\"Foo Bar\"}" http://localhost:8080/rest/books/2
C:\Users\ervelden\bin\curl-7.55.0-win64-mingw\bin>curl -X GET http://localhost:8080/rest/books
[{"id":2,"version":0,"title":"Foo Bar","publishingDate":null,"print":null,"misc":null}]
/ Klopt, er is niets veranderd, dus version +0

C:\Users\ervelden\bin\curl-7.55.0-win64-mingw\bin>curl -X PUT -H "content-type:application/json" -d "{\"id\":2,\"version\":0,\"t
itle\":\"Gee Hee\"}" http://localhost:8080/rest/books/2
C:\Users\ervelden\bin\curl-7.55.0-win64-mingw\bin>curl -X GET http://localhost:8080/rest/books
[{"id":2,"version":1,"title":"Gee Hee","publishingDate":null,"print":null,"misc":null}]
/ er is iets veranderd, dus version +1

/ 13	. 

/ init list of books,
/ Hoe ziet een LocalDate in json eruit?

$ vi BookEndpoint.java

@Stateless
@Path("/books")
public class BookEndpoint {
	@PersistenceContext(unitName = "bookStore-persistence-unit")
	private EntityManager em;
	
	@PostConstruct
	public void init() {
		Book book=new Book();
		book.setPublishingDate(LocalDate.now());
		em.persist(book);
	}

C:\Users\ervelden\bin\curl-7.55.0-win64-mingw\bin>curl -X GET http://localhost:8080/rest/books
[{"id":1,"version":0,"title":null,"publishingDate":{"year":2017,"month":"SEPTEMBER","dayOfMonth":7,"dayOfWeek":"THURSDAY","era":
"CE","monthValue":9,"dayOfYear":250,"leapYear":false,"chronology":{"id":"ISO","calendarType":"iso8601"}},"print":null,"misc":nul
l}]

/ we moeten de code in  @PostConstuct, in ctor is te vroeg, dan is WH em nog niet injected,

/ 13	. 

/ WILDFLY-SWARM TODOS

/ 1313	. 

/ als we wildfly-swarm.run zien we,
Custom main() usage is intended to be deprecated in a future release and is no longer supported,
please refer to http://reference.wildfly-swarm.io for YAML configuration that replaces it.

/ lees,
https://wildfly-swarm.gitbooks.io/wildfly-swarm-users-guide/content/getting-started/container.html
...
If you choose not to provide a main, org.wildfly.swarm.Swarm#main(?) will be used by default. It boots the default container (based upon your dependencies) and deploys your project artifact.

/ 1313	. 

/ @NotNull vs @Column(nullable=false)

/ lees,
https://stackoverflow.com/questions/7439504/confusion-notnull-vs-columnnullable-false

/ 1313	. 

/ versioning

/ Lees,
https://www.intertech.com/Blog/versioning-optimistic-locking-in-hibernate/

/ 1313	. 

/ resteasy-jaxrs, resteasy-rest-provider

/ lees,
https://www.mkyong.com/webservices/jax-rs/integrate-jackson-with-resteasy/

/ 1313	. 

/ logging in wildfly-swarm

https://wildfly-swarm.gitbooks.io/wildfly-swarm-users-guide/common/logging.html

/ 1313	. 

/ LocalDate json

/ lees,
http://lewandowski.io/2016/02/formatting-java-time-with-spring-boot-using-json/

/ 1313	. 

/ jdbc driver , datasource in wildfly-swarm

https://github.com/wildfly-swarm/wildfly-swarm-examples/blob/master/datasource/
/ automatically, or as in wildfly
/ wat is it/	? Hoe in eclipse?


/ 1313	. 

https://github.com/wildfly-swarm/wildfly-swarm-examples
/ heel veel voorbeelden	,


/ 1313	. 

/ swagger

/ kijk,
https://www.youtube.com/watch?v=xggucT_xl5U


/ 1313	. 

/ LocalDate in json of xml,


/ 1313	. 

/ OPEN IN CHROME

https://docs.jboss.org/author/display/WFLY8/JPA+Reference+Guide
https://docs.jboss.org/hibernate/orm/5.2/topical/html_single/wildfly/Wildfly.html

https://www.gitbook.com/@wildfly-swarm
/ Hier kunnen we kiezen,
User guide
HOWTO												/ datasource in wildfly-swarm
Reference guide
https://www.gitbook.com/book/wildfly-swarm/wildfly-swarm-users-guide/details
https://www.gitbook.com/book/wildfly-swarm/wildfly-swarm-howto/details
https://www.gitbook.com/book/wildfly-swarm/wildfly-swarm-reference-guide/details

https://github.com/wildfly-swarm/wildfly-swarm-examples

https://stackify.com/how-to-build-microservices-with-java-ee-and-jbossforge/          / bookStore

https://forge.jboss.org/documentation

http://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/Hibernate_User_Guide.html#associations-many-to-one

https://github.com/gastaldi

https://www.youtube.com/watch?v=5BvJVAlZyvo   / devoxx wildfly-swarm Goncalves
https://www.youtube.com/watch?v=ebcnOopZFWs		/ andere video over wildfly-swarm

https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html
http://www.oracle.com/technetwork/articles/java/ma14-java-se-8-streams-2177646.html

https://spring.io/guides/tutorials/bookmarks/        / REST met Spring

https://www.youtube.com/watch?v=HN3OcP2f6a8       / ! video over wildfly-swarm,

https://tools.jboss.org/documentation/howto/forge.html   / Wat is dit?

https://github.com/bokeh/datashader			/ python

https://www.sitepoint.com/premium/l/monthly-membership/?ref_source=sitepoint&ref_medium=welcomemat

http://www.vogella.com/tutorials/RxJava/article.html

https://www.thoughts-on-java.org/generate-your-jaxb-classes-in-second/   / xjc       / thorben janssen
/ na activatie:
https://www.thoughts-on-java.org/library/
/ we hebben save,
Java8SupportInHibernate5-ThoughtsOnJavaLibrary.pdf
NativeQueriesWithHibernate-ThoughtsOnJavaLibrary2.pdf

https://javaee.github.io/jaxb-v2/doc/user-guide/ch04.html
http://gdpotter.com/2017/08/14/jaxb-gradle-config
https://spring.io/guides/gs/producing-web-service/
http://axis.apache.org/axis2/java/core/docs/installationguide.html
https://www.tutorialspoint.com/soap/soap_resources.htm



https://maven.apache.org/guides/mini/guide-configuring-plugins.html       / over plugins, 


/ Einde WILDFLY-SWARM TODOS

/ 13	. 








/ Einde REST JAVA-SWARM GELUKT






/ 13	. 

/ Lees over resteasy & jackson, over resteasy-jaxrs en resteasy-jackson-provider
https://www.mkyong.com/webservices/jax-rs/integrate-jackson-with-resteasy/

/ wat is verschil jaxrs en resteasy en jaxrs-jaxb en resteasy-jackson dependencies? 
/ TODO

/ 13	. 

/ versioning

/ google: hibernate id version
/ lees,
https://www.intertech.com/Blog/versioning-optimistic-locking-in-hibernate/



/ 13	. 




/ google:
/ lees,
http://docs.oracle.com/javaee/6/tutorial/doc/gkknj.html

http://www.logicbig.com/tutorials/java-ee-tutorial/jax-rs/post-example/
ClientBuilder
/ TODO

/ Intermezzo

/ Hibernate logging,

/ google: hibernate show_sql parameter values

/ Lees,

https://stackoverflow.com/questions/1710476/how-to-print-a-query-string-with-parameter-values-when-using-hibernate

You need to enable logging for the the following categories:

org.hibernate.SQL   - set to debug to log all SQL DML statements as they are executed
org.hibernate.type - set to trace to log all JDBC parameters
So a log4j configuration could look like:

# logs the SQL statements
log4j.logger.org.hibernate.SQL=debug 

# Logs the JDBC parameters passed to a query
log4j.logger.org.hibernate.type=trace 

The first is equivalent to hibernate.show_sql=true legacy property, the second prints the bound parameters among other things.

Another solution (non hibernate based) would be to use a JDBC proxy driver like P6Spy.

/ Lees,
https://www.mkyong.com/hibernate/how-to-display-hibernate-sql-parameter-values-log4j/

/ TODO In wildfly-swarm,

/ Einde Intermezzo

/ 13	. 

/ we proberen nog een keer bookStore, nu bookStore2, maar nu in wildfly, 
https://stackify.com/how-to-build-microservices-with-java-ee-and-jbossforge/

[workspace-jbosstools-jee-oxygen]$ project-new --named bookStore2 --stack JAVA_EE_7
[bookStore2]$ jpa-new-entity --named Book
[Book.java]$ jpa-new-field --named title
[Book.java]$ jpa-new-field --named publishingDate --type java.time.LocalDate
[Book.java]$ rest-generate-endpoints-from-entities --targets org.bookStore2.model.Book
[BookEndpoint.java]$ build
/ start wildfly, en deploy bookStore2.war,
C:\Users\ervelden\bin\curl-7.55.0-win64-mingw\bin>curl -X GET http://localhost:8080/bookStore2/rest/books
[]
C:\Users\ervelden\bin\curl-7.55.0-win64-mingw\bin>curl -X POST -H "content-type:application/json" -d "{\"version\":\"11\"}" http
://localhost:8080/bookStore2/rest/books
C:\Users\ervelden\bin\curl-7.55.0-win64-mingw\bin>curl -X GET http://localhost:8080/bookStore2/rest/books
[{"id":1,"version":11,"title":null,"publishingDate":null}]
C:\Users\ervelden\bin\curl-7.55.0-win64-mingw\bin>curl -X PUT -H "content-type:application/json" -d "{\"title\":\"Foo Bar\"}" ht
tp://localhost:8080/bookStore2/rest/books/1
Could not find MessageBodyWriter for response object of type: org.bookStore2.model.Book of media type: application/octet-stream

/ 13	. 

/ wildfly-swarm

////////////////////////////////////////
/ we hebben gedaan: rest-generate-endpoints-from-entities, maar we zien geen jaxrs dependency in de wildfly-swarm-plugin,

[Main.java]$ pwd
C:\Users\ervelden\eclipse\workspace-jbosstools-jee-oxygen\bookStore\src\main\java\org\bookStore\Main.java

[Main.java]$ wildfly-swarm-detect-fractions
***INFO*** Detected fractions: [org.wildfly.swarm:ejb:2017.8.1, org.wildfly.swarm:jaxrs-jaxb:2017.8.1, org.wildfly.swarm:jpa:20
7.8.1]
[Main.java]$ wildfly-swarm-add-fraction --fractions ejb jaxrs-jaxb jpa
***SUCCESS*** Wildfly Swarm Fractions '[ejb, jaxrs-jaxb, jpa]' were successfully added to the project descriptor

/ hoe zit het met jaxrs? Omdat we jaxrs-jaxb, hebben we jaxrs ook,


C:\Users\ervelden\.m2\repository\org\wildfly>dir swarm
 Volume in drive C is System
 Volume Serial Number is 90D0-8A5A
03-09-2017  19:13    <DIR>          bean-validation
01-09-2017  10:27    <DIR>          bom-all
01-09-2017  10:27    <DIR>          bootstrap
31-08-2017  22:24    <DIR>          build-parent
03-09-2017  19:13    <DIR>          cdi
03-09-2017  19:13    <DIR>          cdi-config
01-09-2017  10:27    <DIR>          config-api
01-09-2017  10:27    <DIR>          config-api-parent
01-09-2017  10:27    <DIR>          config-api-runtime
06-09-2017  13:43    <DIR>          connector
01-09-2017  10:27    <DIR>          container
06-09-2017  13:43    <DIR>          datasources
01-09-2017  10:27    <DIR>          ee
06-09-2017  13:43    <DIR>          ejb
31-08-2017  22:24    <DIR>          fraction-metadata
01-09-2017  10:27    <DIR>          io
01-09-2017  10:27    <DIR>          jaxrs
01-09-2017  10:27    <DIR>          jaxrs-cdi
06-09-2017  13:43    <DIR>          jaxrs-jaxb
06-09-2017  13:43    <DIR>          jca
06-09-2017  13:43    <DIR>          jpa
01-09-2017  10:27    <DIR>          logging
31-08-2017  22:24    <DIR>          meta-spi
01-09-2017  10:27    <DIR>          naming
01-09-2017  10:27    <DIR>          parent
01-09-2017  10:27    <DIR>          request-controller
01-09-2017  10:27    <DIR>          security
01-09-2017  10:27    <DIR>          spi
01-09-2017  12:49    <DIR>          tools
03-09-2017  19:13    <DIR>          transactions
01-09-2017  10:27    <DIR>          undertow
31-08-2017  22:24    <DIR>          wildfly-swarm
01-09-2017  10:27    <DIR>          wildfly-swarm-plugin

C:\Users\ervelden\.m2\repository\org\wildfly>notepad++ swarm\jaxrs-jaxb\2017.8.1\jaxrs-jaxb-2017.8.1.pom

 <dependencies>
    <!-- Fraction Dependencies -->
    <dependency>
      <groupId>org.wildfly.swarm</groupId>
      <artifactId>jaxrs</artifactId>
    </dependency>
    <dependency>
      <groupId>org.wildfly.swarm</groupId>
      <artifactId>logging</artifactId>
    </dependency>

/ Intermezzo

/ Einde Intermezzo

/ Einde FORGE

/ FORGE SOURCE

C:\Users\ervelden\forge>git clone https://github.com/forge/core.git

/ Einde FORGE SOURCE 

/ JAX-WS WILDFLY

/ in forge,
[workspace-jbosstools-jee-oxygen]$ pwd
C:\Users\ervelden\eclipse\workspace-jbosstools-jee-oxygen
[workspace-jbosstools-jee-oxygen]$ project-new --named bookStoreWS --type wildfly-swarm --stack JAVA_EE_7
/ er zijn 
soap-new-service
soap-setup




/ Einde JAX-WS WILDFLY

/ JAX-WS MKYONG

/ Lees,
http://www.mkyong.com/tutorials/jax-ws-tutorials/

/ lees,
http://www.mkyong.com/webservices/jax-ws/jax-ws-hello-world-example/

/ we hebben de appl downloaded en  extract, maar we use hem niet,
C:\Users\ervelden\jaxws\JAX-WS-HelloWorld-RPC-Example>

/ eclipse jbosstools-jee-oxygen,  workspace-jbosstools-jee-oxygen, project bookStoreWS2	, 

/ we maken eerst deze en daarna bookStoreWS, uit de wildfly-swarm examples,

/ in org.bookStoreWS2.soap package,

$ vi HelloWorld.java

package org.bookStoreWS2.soap;

import java.util.List;

import javax.jws.WebMethod;
import javax.jws.WebService;

@WebService()
public interface HelloWorld {

   
    @WebMethod
    public String sayHello();

    @WebMethod
    public String sayHelloToName(String name);

    @WebMethod
    public String sayHelloToNames(List<String> names);

}

$ vi HelloWorldImpl.java

package org.bookStoreWS2.soap;

import java.util.ArrayList;
import java.util.List;

import javax.jws.WebService;

@WebService(endpointInterface = "org.bookStoreWS2.soap.HelloWorld",serviceName="HelloWorld")
public class HelloWorldImpl implements HelloWorld {

    @Override
    public String sayHello() {
        return "Hello World!";
    }

    @Override
    public String sayHelloToName(final String name) {

        /* Create a list with just the one value */
        final List<String> names = new ArrayList<>();
        names.add(name);

        return sayHelloToNames(names);
    }

    @Override
    public String sayHelloToNames(final List<String> names) {
        return "Hello " + createNameListString(names);
    }

    /**
     * Creates a list of names separated by commas or an and symbol if its the last separation. This is then used to say hello to
     * the list of names.
     *
     * i.e. if the input was {John, Mary, Luke} the output would be John, Mary & Luke
     *
     * @param names A list of names
     * @return The list of names separated as described above.
     */
    private String createNameListString(final List<String> names) {

        /*
         * If the list is null or empty then assume the call was anonymous.
         */
        if (names == null || names.isEmpty()) {
            return "Anonymous!";
        }

        final StringBuilder nameBuilder = new StringBuilder();
        for (int i = 0; i < names.size(); i++) {

            /*
             * Add the separator if its not the first string or the last separator since that should be an and (&) symbol.
             */
            if (i != 0 && i != names.size() - 1)
                nameBuilder.append(", ");
            else if (i != 0 && i == names.size() - 1)
                nameBuilder.append(" & ");

            nameBuilder.append(names.get(i));
        }

        nameBuilder.append("!");

        return nameBuilder.toString();
    }

}

/ in org.bookStoreWS2.client package, 

$ vi HelloWorldAppClient.java

package org.bookStoreWS2.client;

import java.net.URL;

import javax.xml.namespace.QName;
import javax.xml.ws.Service;
import javax.xml.ws.WebServiceRef;

import org.bookStoreWS2.soap.HelloWorld;

public class HelloWorldAppClient {
	
	public static void main(String[] args) throws Exception {
		
		URL url=new URL("http://localhost:8080/HelloWorld?wsdl");
		QName qName=new QName("http://soap.bookStoreWS2.org/", "HelloWorld");
		Service service=Service.create(url,qName);
		HelloWorld helloWorld=service.getPort(HelloWorld.class);
		String s=helloWorld.sayHello();
		System.out.println(s);
		String s2=helloWorld.sayHelloToName("Foo Bar");
		System.out.println(s2);
		List<String>l=Arrays.asList("Me","You","Her");
		String s3=helloWorld.sayHelloToNames(l);
		System.out.println(s3);
		
	}
}

/ we zien in de QName dat in de namespaceURI de volgorde is omgedraaid van de package name,
/ en let op de / erachter	, want HelloWorld komt erachter,
/ dus package org.bookStoreWS2.soap wordt http://soap.bookStoreWS2.org/	, 

/ start wildfly-swarm in bookStore2,
/ run HelloWorldAppClient in eclipse	, 
/ we zien, 
Hello World!
Hello Foo Bar!
Hello Me, You & Her!

/ we kunnen GET doen op de URL http://localhost:8080/HelloWorld?wsdl	, 
/ dit is de WSDL en is een XMLSchema. 
/ we zien hier ook http://soap.bookStoreWS2.org (dus omgedraaide package name)	, 




/ 13	.

/ Hoe de SOAP messages te zien? 

/ lees	, 
https://www.mkyong.com/webservices/jax-ws/how-to-trace-soap-message-in-eclipse-ide/

/ Window, Preferences, Run/Debug, TCP/IP Monitor, 

Show the TCP/IP Monitor view when there is activity: check (is al)

/ click Add
Local monitoring port: 8888		/ monitor port
type TCP/IP
Hostname: localhost
Port: 8080					/ Server port 
OK

/ Onder de Add button zien we de Start button, 
/ click,
/ Apply and close 	/ TODO

/ we moeten in de client veranderen,

$ vi HelloWorldAppClient.java
	public static void main(String[] args) throws Exception {
		
		URL url=new URL("http://localhost:8888/HelloWorld?wsdl");				<- 8080 wordt nu 8888
		QName qName=new QName("http://soap.bookStoreWS2.org/", "HelloWorld");
		
/ we zien alleen wsld in de tcp monitor
/ TODO
/ Lees,
https://stackoverflow.com/questions/19589677/why-tcp-ip-monitor-doesnt-catch-soap-messages-in-eclipse
/ en 
http://www.codejava.net/java-ee/web-services/java-web-services-binary-data-transfer-example-base64-encoding

/ TODO

/ 7	. 

/ wsimport	, 

/ Als we een GET doen op http://localhost:8080/HelloWorld?wsdl, zien we de wsdl,

C:\Users\ervelden\jaxws\wsimport> wsimport -keep http://localhost:8080/HelloWorld?wsdl
parsing WSDL...
Generating code...
Compiling code...









/ Einde JAX-WS MKYONG

/ SOAPUI

/ Lees, 
https://www.soapui.org/getting-started.html

C:\Program Files (x86)\SmartBear\SoapUI-5.3.0
D:\Users\ervelden\SoapUI-Tutorials
SmartBear\SoapUI 5.3.0					/ start menu folder
/ desktop icon: check

/ Lees,
https://www.soapui.org/getting-started/installing-soapui/installing-on-windows.html

/ 7	. 




/ Einde SOAPUI

/ JAX-WS GLASSFISH


/ of,
https://docs.oracle.com/javaee/7/tutorial/partwebsvcs.htm#BNAYK

/ lees,
https://docs.oracle.com/javaee/7/index.html
/ we zien JavaEE7 installation instructions
http://www.oracle.com/technetwork/java/javaee/documentation/javaee7sdk-install-1957708.html

http://www.oracle.com/technetwork/java/javaee/documentation/javaee7sdk-install-1957708.html#install


/ we download van
http://www.oracle.com/technetwork/java/javaee/downloads/java-ee-sdk-7-downloads-1956236.html
/ de installer van glassfish 
java_ee_sdk-7u3.zip
/ we install in \Users\ervelden\bin

/ we zien de code van de tutorial in,
C:\Users\ervelden\bin\glassfish4\docs\javaee-tutorial\examples\jaxws
/ In github is dit javaee/tutorial-examples

/ we kunnen import in eclipse
C:\Users\ervelden\bin\glassfish4\docs\javaee-tutorial\examples
/ TODO

/ op,
https://docs.oracle.com/javaee/7/index.html
/ we zien: Java EE 7 Installation Instructions
http://www.oracle.com/technetwork/java/javaee/documentation/javaee7sdk-install-1957708.html
/ we zien Installing the Software
http://www.oracle.com/technetwork/java/javaee/documentation/javaee7sdk-install-1957708.html#install
/ we zien Quick start guide
https://javaee.github.io/glassfish/
/ we zien Sources: de github van Glassfish	/ TODO ipv wat wij deden met installer,
/ we zien: Documentation
https://javaee.github.io/glassfish/documentation
/ lees installation guide,
https://javaee.github.io/glassfish/doc/4.0/installation-guide.pdf
/ en quick-start-guide,
https://javaee.github.io/glassfish/doc/4.0/quick-start-guide.pdf
/ we hebben ze download,
glassfish-javaee7-installation-guide.pdf
glassfish-javaee7-quick-start-guide.pdf

/ 13	. 

/ lees,
https://github.com/javaee/tutorial-examples/blob/master/README.md

/ hier staat dat we $ mvn package moeten doen, op de javaeetutorial's pom	,
/ TODO

/ 13	. 

/ TODOS

/ 1313	. 

/ we moeten geven,
http://localhost:8080/helloservice-war/HelloService?Tester

/ Waar komt HelloService vandaan?
/ TODO

/ 1313	. 

/ Als we in appclient.bat, die zo wordt used:
C:\Users\ervelden\bin\glassfish4\bin>..\glassfish\bin\appclient.bat -client C:\Users\ervelden\bin\glassfish4\docs\javaee-tutoria
l\examples\jaxws\hello-appclient\target\hello-appclient.jar
/ set,
@echo on

/ dan zien we dat er wordt gedaan: java -jar hello-appclient.jar,
C:\Users\ervelden\bin\glassfish4\bin>"C:\PROGRA~1\Java\JDK18~1.0_1\bin\java.exe" -Dcom.sun.aas.installRoot="C:\Users\ervelden\bi
n\glassfish4\glassfish\bin\.." -Djava.security.policy="C:\Users\ervelden\bin\glassfish4\glassfish\bin\..\lib\appclient\client.po
licy" -Djava.system.class.loader=org.glassfish.appclient.client.acc.agent.ACCAgentClassLoader -Djava.security.auth.login.config=
"C:\Users\ervelden\bin\glassfish4\glassfish\bin\..\lib\appclient\appclientlogin.conf"  -javaagent:"C:\Users\ervelden\bin\glassfi
sh4\glassfish\bin\..\lib\gf-client.jar"=argsfile="C:\Users\ervelden\AppData\Local\Temp\acc156824574611435746.dat" -Djava.ext.dir
s="C:\Users\ervelden\bin\glassfish4\glassfish\bin\..\lib\ext";"C:\PROGRA~1\Java\JDK18~1.0_1\jre\lib\ext" -Djava.endorsed.dirs="C
:\Users\ervelden\bin\glassfish4\glassfish\bin\..\lib\endorsed";"C:\Users\ervelden\bin\glassfish4\glassfish\bin\..\modules\endors
ed";"C:\PROGRA~1\Java\JDK18~1.0_1\jre\lib\endorsed"  -jar "C:\Users\ervelden\bin\glassfish4\docs\javaee-tutorial\examples\jaxws\
hello-appclient\target\hello-appclient.jar"
Hello, world.

/ Hoe kunnen we HelloAppClient debug?
/ TODO

/ 13	. 

/ lees,
https://javaee.github.io/glassfish/doc/4.0/quick-start-guide.pdf

C:\Users\ervelden\bin\glassfish4\bin>asadmin start-domain
Waiting for domain1 to start .....
Successfully started the domain : domain1
domain  Location: C:\Users\ervelden\bin\glassfish4\glassfish\domains\domain1
Log File: C:\Users\ervelden\bin\glassfish4\glassfish\domains\domain1\logs\server.log
Admin Port: 4848
Command start-domain executed successfully.


C:\Users\ervelden\bin\glassfish4\bin>asadmin start-database --dbhome ..\javadb
Starting database in Network Server mode on host 0.0.0.0 and port 1527.
--------- Derby Network Server Information --------
Version: CSS10100/10.10.2.0 - (1582446)  Build: 1582446  DRDA Product Id: CSS10100
-- listing properties --
derby.drda.traceDirectory=..\javadb
derby.drda.maxThreads=0
derby.drda.sslMode=off
derby.drda.keepAlive=true
derby.drda.minThreads=0
derby.drda.portNumber=1527
derby.drda.logConnections=false
derby.drda.timeSlice=0
derby.drda.startNetworkServer=false
derby.drda.host=0.0.0.0
derby.drda.traceAll=false
------------------ Java Information ------------------
Java Version:    1.8.0_144
Java Vendor:     Oracle Corporation
Java home:       C:\Program Files\Java\jdk1.8.0_144\jre
Java classpath:  C:\Users\ervelden\bin\glassfish4\glassfish\lib\asadmin\cli-optional.jar;C:\Users\er
\lib\derby.jar;C:\Users\ervelden\bin\glassfish4\javadb\lib\derbytools.jar;C:\Users\ervelden\bin\glas
ar;C:\Users\ervelden\bin\glassfish4\javadb\lib\derbyclient.jar
OS name:         Windows 7
OS architecture: amd64
OS version:      6.1
Java user name:  ERVELDEN
Java user home:  C:\Users\ervelden
Java user dir:   C:\Users\ervelden\bin\glassfish4\bin
java.specification.name: Java Platform API Specification
java.specification.version: 1.8
java.runtime.version: 1.8.0_144-b01
--------- Derby Information --------
[C:\Users\ervelden\bin\glassfish4\javadb\lib\derby.jar] 10.10.2.0 - (1582446)
[C:\Users\ervelden\bin\glassfish4\javadb\lib\derbytools.jar] 10.10.2.0 - (1582446)
[C:\Users\ervelden\bin\glassfish4\javadb\lib\derbynet.jar] 10.10.2.0 - (1582446)
[C:\Users\ervelden\bin\glassfish4\javadb\lib\derbyclient.jar] 10.10.2.0 - (1582446)
------------------------------------------------------
----------------- Locale Information -----------------
Current Locale :  [English/United States [en_US]]
Found support for locale: [cs]
         version: 10.10.2.0 - (1582446)
Found support for locale: [de_DE]
         version: 10.10.2.0 - (1582446)
Found support for locale: [es]
         version: 10.10.2.0 - (1582446)
Found support for locale: [fr]
         version: 10.10.2.0 - (1582446)
Found support for locale: [hu]
         version: 10.10.2.0 - (1582446)
Found support for locale: [it]
         version: 10.10.2.0 - (1582446)
Found support for locale: [ja_JP]
         version: 10.10.2.0 - (1582446)
Found support for locale: [ko_KR]
         version: 10.10.2.0 - (1582446)
Found support for locale: [pl]
         version: 10.10.2.0 - (1582446)
Found support for locale: [pt_BR]
         version: 10.10.2.0 - (1582446)
Found support for locale: [ru]
         version: 10.10.2.0 - (1582446)
Found support for locale: [zh_CN]
         version: 10.10.2.0 - (1582446)
Found support for locale: [zh_TW]
         version: 10.10.2.0 - (1582446)
------------------------------------------------------
------------------------------------------------------

Starting database in the background.
Log redirected to ..\javadb\derby.log.
Command start-database executed successfully.

/ Geef 
localhost:8080
/ click op link 'Administration ...',
http://localhost:4848/common/index.jsf

/ 1313	. 

C:\Users\ervelden\bin\glassfish4\bin>asadmin stop-database
Sat Sep 09 21:00:21 GMT+01:00 2017 : Connection obtained for host: 0.0.0.0, port number 1527.
Sat Sep 09 21:00:22 GMT+01:00 2017 : Apache Derby Network Server - 10.10.2.0 - (1582446) shutdown
Command stop-database executed successfully.

C:\Users\ervelden\bin\glassfish4\bin>asadmin stop-domain
Waiting for the domain to stop .
Command stop-domain executed successfully.


/ 13	. 

/ we maken een andere ws, workspace-jbosstools-jee-oxygen-glassfish , met jbosstools-jee-oxygen eclipse, 
/ en we import Maven project 
C:\Users\ervelden\bin\glassfish4\docs\javaee-tutorial\examples
/ Ook weer, net als bij wildfly-swarm een hele lange lijst,

/ javaeetutorial is de parent,
/ er zijn sub modules jaxws, maar ook nog dieper liggende	,

/ we geven straks mvn in jaxws/helloworld-war en in jaxws/hello-appclient

////////////////////////////////////
/ we zullen zien dat wsimport HelloService gens	, een proxy (client) die we bij mkyong bij JAX-WS MKYONG zelf programmeerde	, 

$ vi javaeetutorial\pom.xml

        <glassfish.home>${glassfish.home.prefix}/glassfish4</glassfish.home>
        <integration.container.id>glassfish4x</integration.container.id>
    </properties>
    
    <profiles>
        <profile>
            <id>windows</id>
            <activation>
                <os>
                    <family>windows</family>
                </os>
            </activation>
            <properties>
                <glassfish.home.prefix>c:/Users/ervelden/bin</glassfish.home.prefix>			<!-- WAS c:/. -->
                <glassfish.executables.suffix>.bat</glassfish.executables.suffix>
            </properties>
        </profile>
		
/ we proberen in de windows profile:
                

/ in een pom.xml is het zo dat ${basedir} de dir is waar de pom.xml is,

/ in ws workspace-jbosstools-jee-oxygen-glassfish
/ proj jaxws

/ 13	 .

/ In jaxws/helloservice-war is er een pom.xml, doen mvn clean verify
/ er onstaat helloservice-war.war, 

C:\Users\ervelden\bin\glassfish4\bin>jar tvf C:\Users\ervelden\bin\glassfish4\docs\javaee-tutorial\examples\jaxws\helloservice-w
ar\target\helloservice-war.war
     0 Sat Sep 09 18:38:20 GMT+01:00 2017 META-INF/
   134 Sat Sep 09 18:38:18 GMT+01:00 2017 META-INF/MANIFEST.MF
     0 Sat Sep 09 18:38:20 GMT+01:00 2017 WEB-INF/
     0 Sat Sep 09 18:38:20 GMT+01:00 2017 WEB-INF/classes/
     0 Sat Sep 09 18:38:20 GMT+01:00 2017 WEB-INF/classes/javaeetutorial/
     0 Sat Sep 09 18:38:20 GMT+01:00 2017 WEB-INF/classes/javaeetutorial/helloservice/
     0 Sat Sep 09 18:38:20 GMT+01:00 2017 WEB-INF/classes/javaeetutorial/helloservice/jaxws/
     0 Sat Sep 09 18:38:20 GMT+01:00 2017 WEB-INF/wsdl/
   799 Sat Sep 09 18:38:18 GMT+01:00 2017 WEB-INF/classes/javaeetutorial/helloservice/Hello.class
   826 Sat Sep 09 18:38:20 GMT+01:00 2017 WEB-INF/classes/javaeetutorial/helloservice/jaxws/SayHello.class
   866 Sat Sep 09 18:38:20 GMT+01:00 2017 WEB-INF/classes/javaeetutorial/helloservice/jaxws/SayHelloResponse.class
   401 Tue Apr 11 12:44:16 GMT+01:00 2017 WEB-INF/web.xml
  1950 Sat Sep 09 18:38:20 GMT+01:00 2017 WEB-INF/wsdl/HelloService.wsdl
   686 Sat Sep 09 18:38:20 GMT+01:00 2017 WEB-INF/wsdl/HelloService_schema1.xsd
     0 Sat Sep 09 18:38:20 GMT+01:00 2017 META-INF/maven/
     0 Sat Sep 09 18:38:20 GMT+01:00 2017 META-INF/maven/org.glassfish.javaeetutorial/
     0 Sat Sep 09 18:38:20 GMT+01:00 2017 META-INF/maven/org.glassfish.javaeetutorial/helloservice-war/
  2018 Tue Apr 11 12:44:16 GMT+01:00 2017 META-INF/maven/org.glassfish.javaeetutorial/helloservice-war/pom.xml
   140 Sat Sep 09 18:38:20 GMT+01:00 2017 META-INF/maven/org.glassfish.javaeetutorial/helloservice-war/pom.properties
   
/ en deze deploy we in glassfish,
C:\Users\ervelden\bin\glassfish4\bin>asadmin list-applications
C:\Users\ervelden\bin\glassfish4\bin>asadmin undeploy helloservice-war
C:\Users\ervelden\bin\glassfish4\bin>asadmin deploy C:\Users\ervelden\bin\glassfish4\docs\javaee-tutorial\examples\jaxws\hellose
rvice-war\target\helloservice-war.war

/ Lees in de gewone JAVAEE7 tutorial,
https://docs.oracle.com/javaee/7/tutorial/jaxws001.htm#BNAYW

/ Geef,
http://localhost:8080/helloservice-war/HelloService?Tester
/ OK

/ we kunnen ook geven, 
http://localhost:8080/helloservice-war/HelloService
/ we zien,
Web Services

Endpoint	
Service Name:	{http://helloservice.javaeetutorial/}HelloService
Port Name:	{http://helloservice.javaeetutorial/}HelloPort

Information
Address:	http://localhost:8080/helloservice-war/HelloService
WSDL:	http://localhost:8080/helloservice-war/HelloService?wsdl
Implementation class:	javaeetutorial.helloservice.Hello


/ 13	. 

/ appl client,


It retrieves a proxy to the service, also known as a port, by invoking getHelloPort on the service:


/  we doen $ mvn clean package, 
/ OK, er onstaat een hello-appclient.jar,
/ hieronder doen we $ mvn clean verify,

/ phase verify is voorby phase package	, dus we kunnen altijd clean verify doen, 

/ wsimport generates classes,

/ we zien in hello-appclient\target\generated-sources\wsimport

/ 1313	.

$ vi javaeetutorial\helloservice\endpoint\Hello.java

package javaeetutorial.helloservice.endpoint;

import javax.jws.WebMethod;
import javax.jws.WebParam;
import javax.jws.WebResult;
import javax.jws.WebService;
import javax.xml.bind.annotation.XmlSeeAlso;
import javax.xml.ws.Action;
import javax.xml.ws.RequestWrapper;
import javax.xml.ws.ResponseWrapper;


/**
 * This class was generated by the JAX-WS RI.
 * JAX-WS RI 2.2.6b21 
 * Generated source version: 2.2
 * 
 */
@WebService(name = "Hello", targetNamespace = "http://helloservice.javaeetutorial/")
@XmlSeeAlso({
    ObjectFactory.class
})
public interface Hello {

    /**
     * 
     * @param arg0
     * @return
     *     returns java.lang.String
     */
    @WebMethod
    @WebResult(targetNamespace = "")
    @RequestWrapper(localName = "sayHello", targetNamespace = "http://helloservice.javaeetutorial/", className = "javaeetutorial.helloservice.endpoint.SayHello")
    @ResponseWrapper(localName = "sayHelloResponse", targetNamespace = "http://helloservice.javaeetutorial/", className = "javaeetutorial.helloservice.endpoint.SayHelloResponse")
    @Action(input = "http://helloservice.javaeetutorial/Hello/sayHelloRequest", output = "http://helloservice.javaeetutorial/Hello/sayHelloResponse")
    public String sayHello(
        @WebParam(name = "arg0", targetNamespace = "")
        String arg0);

}

/ 1313	. 

$ vi javaeetutorial\helloservice\endpoint\HelloService.java


package javaeetutorial.helloservice.endpoint;

import java.net.MalformedURLException;
import java.net.URL;
import javax.xml.namespace.QName;
import javax.xml.ws.Service;
import javax.xml.ws.WebEndpoint;
import javax.xml.ws.WebServiceClient;
import javax.xml.ws.WebServiceException;
import javax.xml.ws.WebServiceFeature;


/**
 * This class was generated by the JAX-WS RI.
 * JAX-WS RI 2.2.6b21 
 * Generated source version: 2.2
 * 
 */
@WebServiceClient(name = "HelloService", targetNamespace = "http://helloservice.javaeetutorial/", wsdlLocation = "http://localhost:8080/helloservice/HelloService?WSDL")
public class HelloService
    extends Service
{

    private final static URL HELLOSERVICE_WSDL_LOCATION;
    private final static WebServiceException HELLOSERVICE_EXCEPTION;
    private final static QName HELLOSERVICE_QNAME = new QName("http://helloservice.javaeetutorial/", "HelloService");

    static {
        URL url = null;
        WebServiceException e = null;
        try {
            url = new URL("http://localhost:8080/helloservice/HelloService?WSDL");
        } catch (MalformedURLException ex) {
            e = new WebServiceException(ex);
        }
        HELLOSERVICE_WSDL_LOCATION = url;
        HELLOSERVICE_EXCEPTION = e;
    }

    public HelloService() {
        super(__getWsdlLocation(), HELLOSERVICE_QNAME);
    }

    public HelloService(WebServiceFeature... features) {
        super(__getWsdlLocation(), HELLOSERVICE_QNAME, features);
    }

    public HelloService(URL wsdlLocation) {
        super(wsdlLocation, HELLOSERVICE_QNAME);
    }

    public HelloService(URL wsdlLocation, WebServiceFeature... features) {
        super(wsdlLocation, HELLOSERVICE_QNAME, features);
    }

    public HelloService(URL wsdlLocation, QName serviceName) {
        super(wsdlLocation, serviceName);
    }

    public HelloService(URL wsdlLocation, QName serviceName, WebServiceFeature... features) {
        super(wsdlLocation, serviceName, features);
    }

    /**
     * 
     * @return
     *     returns Hello
     */
    @WebEndpoint(name = "HelloPort")
    public Hello getHelloPort() {
        return super.getPort(new QName("http://helloservice.javaeetutorial/", "HelloPort"), Hello.class);
    }

    /**
     * 
     * @param features
     *     A list of {@link javax.xml.ws.WebServiceFeature} to configure on the proxy.  Supported features not in the <code>features</code> parameter will have their default values.
     * @return
     *     returns Hello
     */
    @WebEndpoint(name = "HelloPort")
    public Hello getHelloPort(WebServiceFeature... features) {
        return super.getPort(new QName("http://helloservice.javaeetutorial/", "HelloPort"), Hello.class, features);
    }

    private static URL __getWsdlLocation() {
        if (HELLOSERVICE_EXCEPTION!= null) {
            throw HELLOSERVICE_EXCEPTION;
        }
        return HELLOSERVICE_WSDL_LOCATION;
    }

}


/ 1313	. 

$ vi javaeetutorial\helloservice\endpoint\ObjectFactory.java


package javaeetutorial.helloservice.endpoint;

import javax.xml.bind.JAXBElement;
import javax.xml.bind.annotation.XmlElementDecl;
import javax.xml.bind.annotation.XmlRegistry;
import javax.xml.namespace.QName;


/**
 * This object contains factory methods for each 
 * Java content interface and Java element interface 
 * generated in the javaeetutorial.helloservice.endpoint package. 
 * <p>An ObjectFactory allows you to programatically 
 * construct new instances of the Java representation 
 * for XML content. The Java representation of XML 
 * content can consist of schema derived interfaces 
 * and classes representing the binding of schema 
 * type definitions, element declarations and model 
 * groups.  Factory methods for each of these are 
 * provided in this class.
 * 
 */
@XmlRegistry
public class ObjectFactory {

    private final static QName _SayHello_QNAME = new QName("http://helloservice.javaeetutorial/", "sayHello");
    private final static QName _SayHelloResponse_QNAME = new QName("http://helloservice.javaeetutorial/", "sayHelloResponse");

    /**
     * Create a new ObjectFactory that can be used to create new instances of schema derived classes for package: javaeetutorial.helloservice.endpoint
     * 
     */
    public ObjectFactory() {
    }

    /**
     * Create an instance of {@link SayHello }
     * 
     */
    public SayHello createSayHello() {
        return new SayHello();
    }

    /**
     * Create an instance of {@link SayHelloResponse }
     * 
     */
    public SayHelloResponse createSayHelloResponse() {
        return new SayHelloResponse();
    }

    /**
     * Create an instance of {@link JAXBElement }{@code <}{@link SayHello }{@code >}}
     * 
     */
    @XmlElementDecl(namespace = "http://helloservice.javaeetutorial/", name = "sayHello")
    public JAXBElement<SayHello> createSayHello(SayHello value) {
        return new JAXBElement<SayHello>(_SayHello_QNAME, SayHello.class, null, value);
    }

    /**
     * Create an instance of {@link JAXBElement }{@code <}{@link SayHelloResponse }{@code >}}
     * 
     */
    @XmlElementDecl(namespace = "http://helloservice.javaeetutorial/", name = "sayHelloResponse")
    public JAXBElement<SayHelloResponse> createSayHelloResponse(SayHelloResponse value) {
        return new JAXBElement<SayHelloResponse>(_SayHelloResponse_QNAME, SayHelloResponse.class, null, value);
    }

}

/ 1313	. 


$ vi javaeetutorial\helloservice\endpoint\SayHello.java


package javaeetutorial.helloservice.endpoint;

import javax.xml.bind.annotation.XmlAccessType;
import javax.xml.bind.annotation.XmlAccessorType;
import javax.xml.bind.annotation.XmlType;


/**
 * <p>Java class for sayHello complex type.
 * 
 * <p>The following schema fragment specifies the expected content contained within this class.
 * 
 * <pre>
 * &lt;complexType name="sayHello">
 *   &lt;complexContent>
 *     &lt;restriction base="{http://www.w3.org/2001/XMLSchema}anyType">
 *       &lt;sequence>
 *         &lt;element name="arg0" type="{http://www.w3.org/2001/XMLSchema}string" minOccurs="0"/>
 *       &lt;/sequence>
 *     &lt;/restriction>
 *   &lt;/complexContent>
 * &lt;/complexType>
 * </pre>
 * 
 * 
 */
@XmlAccessorType(XmlAccessType.FIELD)
@XmlType(name = "sayHello", propOrder = {
    "arg0"
})
public class SayHello {

    protected String arg0;

    /**
     * Gets the value of the arg0 property.
     * 
     * @return
     *     possible object is
     *     {@link String }
     *     
     */
    public String getArg0() {
        return arg0;
    }

    /**
     * Sets the value of the arg0 property.
     * 
     * @param value
     *     allowed object is
     *     {@link String }
     *     
     */
    public void setArg0(String value) {
        this.arg0 = value;
    }

}

/ 1313	. 

$ vi javaeetutorial\helloservice\endpoint\HelloResponse.java


package javaeetutorial.helloservice.endpoint;

import javax.xml.bind.annotation.XmlAccessType;
import javax.xml.bind.annotation.XmlAccessorType;
import javax.xml.bind.annotation.XmlElement;
import javax.xml.bind.annotation.XmlType;


/**
 * <p>Java class for sayHelloResponse complex type.
 * 
 * <p>The following schema fragment specifies the expected content contained within this class.
 * 
 * <pre>
 * &lt;complexType name="sayHelloResponse">
 *   &lt;complexContent>
 *     &lt;restriction base="{http://www.w3.org/2001/XMLSchema}anyType">
 *       &lt;sequence>
 *         &lt;element name="return" type="{http://www.w3.org/2001/XMLSchema}string" minOccurs="0"/>
 *       &lt;/sequence>
 *     &lt;/restriction>
 *   &lt;/complexContent>
 * &lt;/complexType>
 * </pre>
 * 
 * 
 */
@XmlAccessorType(XmlAccessType.FIELD)
@XmlType(name = "sayHelloResponse", propOrder = {
    "_return"
})
public class SayHelloResponse {

    @XmlElement(name = "return")
    protected String _return;

    /**
     * Gets the value of the return property.
     * 
     * @return
     *     possible object is
     *     {@link String }
     *     
     */
    public String getReturn() {
        return _return;
    }

    /**
     * Sets the value of the return property.
     * 
     * @param value
     *     allowed object is
     *     {@link String }
     *     
     */
    public void setReturn(String value) {
        this._return = value;
    }

}

/ 13	. 

$ mvn clean verify

/ we zien in console,

[INFO] Scanning for projects...
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building hello-appclient 7.0.6
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ hello-appclient ---
[INFO] Deleting C:\Users\ervelden\bin\glassfish4\docs\javaee-tutorial\examples\jaxws\hello-appclient\target
[INFO] 
[INFO] --- jaxws-maven-plugin:2.2:wsimport (default) @ hello-appclient ---
[INFO] Processing: file:/C:/Users/ervelden/bin/glassfish4/docs/javaee-tutorial/examples/jaxws/hello-appclient/../helloservice-war/target/generated-sources/wsdl/HelloService.wsdl
[INFO] jaxws:wsimport args: [-keep, -s, C:\Users\ervelden\bin\glassfish4\docs\javaee-tutorial\examples\jaxws\hello-appclient\target\generated-sources\wsimport, -encoding, UTF-8, -Xnocompile, -p, javaeetutorial.helloservice.endpoint, -wsdllocation, http://localhost:8080/helloservice/HelloService?WSDL, file:/C:/Users/ervelden/bin/glassfish4/docs/javaee-tutorial/examples/jaxws/hello-appclient/../helloservice-war/target/generated-sources/wsdl/HelloService.wsdl]
parsing WSDL...

Generating code...

[INFO] 
[INFO] --- maven-resources-plugin:2.4.3:resources (default-resources) @ hello-appclient ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory C:\Users\ervelden\bin\glassfish4\docs\javaee-tutorial\examples\jaxws\hello-appclient\src\main\resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ hello-appclient ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 7 source files to C:\Users\ervelden\bin\glassfish4\docs\javaee-tutorial\examples\jaxws\hello-appclient\target\classes
[INFO] 
[INFO] --- maven-resources-plugin:2.4.3:testResources (default-testResources) @ hello-appclient ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory C:\Users\ervelden\bin\glassfish4\docs\javaee-tutorial\examples\jaxws\hello-appclient\src\test\resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ hello-appclient ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.7.2:test (default-test) @ hello-appclient ---
[INFO] No tests to run.
[INFO] Surefire report directory: C:\Users\ervelden\bin\glassfish4\docs\javaee-tutorial\examples\jaxws\hello-appclient\target\surefire-reports

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
There are no tests to run.

Results :

Tests run: 0, Failures: 0, Errors: 0, Skipped: 0

[INFO] 
[INFO] --- maven-acr-plugin:1.0:acr (default-acr) @ hello-appclient ---
[INFO] Building JavaEE Application client: hello-appclient
[INFO] Building jar: C:\Users\ervelden\bin\glassfish4\docs\javaee-tutorial\examples\jaxws\hello-appclient\target\hello-appclient.jar
[INFO] 
[INFO] --- cargo-maven2-plugin:1.4.4:redeploy (deploy) @ hello-appclient ---
[INFO] There's nothing to deploy or undeploy
[INFO] 
[INFO] --- exec-maven-plugin:1.2.1:exec (run-appclient) @ hello-appclient ---
Hello, world.
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 8.930 s
[INFO] Finished at: 2017-09-09T20:29:04+01:00
[INFO] Final Memory: 21M/294M
[INFO] ------------------------------------------------------------------------

/ exec-maven-plugin doet:

C:\Users\ervelden\bin\glassfish4\bin>..\glassfish\bin\appclient.bat -client C:\Users\ervelden\bin\glassfish4\docs\javaee-tutoria
l\examples\jaxws\hello-appclient\target\hello-appclient.jar
Hello, world.




/ 13	. 

/ in app client gaat $ mvn clean package OK, maar $ mvn clean verify ERR:

com.sun.enterprise.container.common.spi.util.InjectionException: Exception attempting to inject Env-Prop: javaeetutorial.hello.appclient.HelloAppClient/service@Field-Injectable Resource. Class name = javaeetutorial.hello.appclient.HelloAppClient Field name=service@javax.jws.WebServiceRef@@@ into class javaeetutorial.hello.appclient.HelloAppClient: Lookup failed for 'java:comp/env/javaeetutorial.hello.appclient.HelloAppClient/service' in SerialContext[myEnv={java.naming.factory.initial=com.sun.enterprise.naming.impl.SerialInitContextFactory, java.naming.factory.url.pkgs=com.sun.enterprise.naming, java.naming.factory.state=com.sun.corba.ee.impl.presentation.rmi.JNDIStateFactoryImpl}

C:\Users\ervelden\bin\glassfish4\docs\javaee-tutorial\examples\jaxws\helloservice-war\target\helloservice-war.war

C:\Users\ervelden\bin\glassfish4>findstr /s c:"..." *.*



/ WH RM
/ lees,
http://docs.oracle.com/javaee/6/tutorial/doc/bnayn.html
/ we zien JavaEE7 niet in start, all programs, see
http://docs.oracle.com/javaee/6/tutorial/doc/gexaj.html

/ Einde WH RM







/ 13	. 

https://github.com/javaee-samples/javaee7-samples

/ weer een ander serie voorbeelden , WH, 





/ 13	 

/ git glassfish
/ TODO


/ Einde JAX-WS GLASSFISH

/ SPRING 

/ lees,
https://springframework.guru/
john thompson

/ Einde SPRING

/ WILDFLY-SWARM EXAMPLES



C:\Users\ervelden\eclipse\workspace-jbosstools-jee-oxygen>git clone https://github.com/wildfly-swarm/wildfly-swarm-examples.git

C:\Users\ervelden\eclipse\workspace-jbosstools-jee-oxygen>dir
...
07-09-2017  10:45    <DIR>          wildfly-swarm-examples
               0 File(s)              0 bytes
              19 Dir(s)  46.289.575.936 bytes free

C:\Users\ervelden\eclipse\workspace-jbosstools-jee-oxygen>

/ we hebben ze import in workspace-jbosstools-jee-oxygen, met jbosstools-jee-oxygen eclipse,
/ we zien een hele lijst,
/ er zijn nog 1 projects van mezelf, bookStore



/ 13	. 

/ wildfly-swarm & arquillian

/ Lees,
https://wildfly-swarm.gitbooks.io/wildfly-swarm-users-guide/content/testing/arquillian.html





/ Einde WILDFLY-SWARM EXAMPLES

/ ARQUILLIAN

public class Greeter {
    public void greet(PrintStream to, String name) {
        to.println(createGreeting(name));
    }

    public String createGreeting(String name) {
        return "Hello, " + name + "!";
    }
}

/ 13	. 

/ wildfly-swarm, arguillian, rest-assured
/ lees,
https://www.javacodegeeks.com/2017/01/develop-microservice-forge-wildfly-swarm-arquillian.html
/ --fractions microprofile

/ see 
rest-assured.io

/ lees,
https://forge.jboss.org/document/hands-on-lab
...
[cdbookstore]$ arquillian-setup --arquillian-version 1.1.10.Final --test-framework junit --test-framework-version 4.11 --container-adapter wildfly-remote --container-adapter-version 8.2.1.Final

/ lees,
http://arquillian.org/guides/getting_started/?utm_source=cta

/ 7	. 

/ Lees,
http://arquillian.org/guides/getting_started/

/ we open jbosstools-jee-oxygen eclipse op de  workspace workspace-jbosstools-jee-oxygen	,

/ we maken eerst een Maven project voor op wildfly, met forge,  en deploy met jboss-cli	, of forge? TODO
/ straks met wildfly-swarm,

/ In xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">  is 1ste de namespace en de 2de de schema van de namespace,

C:\Users\ervelden\eclipse\workspace-jbosstools-jee-oxygen-arquillian>forge

[workspace-jbosstools-jee-oxygen-arquillian]$ project-new --named arquillian-getting_started --topLevelPackage my.own
***SUCCESS*** Project named 'arquillian-getting_started' has been created.

/ import in eclipse,

$ vi pom.xml

<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
  <modelVersion>4.0.0</modelVersion>
  <groupId>my.own</groupId>
  <artifactId>arquillian-getting_started</artifactId>
  <version>1.0.0-SNAPSHOT</version>
  <packaging>war</packaging>
  <build>
    <finalName>arquillian-getting_started</finalName>
  </build>
  <properties>
    <failOnMissingWebXml>false</failOnMissingWebXml>
    <maven.compiler.source>1.8</maven.compiler.source>
    <maven.compiler.target>1.8</maven.compiler.target>
    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
  </properties>
</project>

[arquillian-getting_started]$ project-add-dependencies javax:javaee-api:7.0:provided

[arquillian-getting_started]$  project-has-dependencies
***INFO*** Required inputs not satisfied, entering interactive mode
* Coordinates (The coordinates of the arguments to be checked [groupId :artifactId {:version :scope :packaging}]) []:
/ packaging=type

[arquillian-getting_started]$ project-has-dependencies javax:javaee-api:7.0:provided:
***SUCCESS*** All arguments found
/ or,
[arquillian-getting_started]$ project-has-dependencies javax:javaee-api:7.0:provided:jar
***SUCCESS*** All arguments found

/ Lees,
https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html

/ Het is genoeg om te doen,
  <properties>
    <maven.compiler.source>1.8</maven.compiler.source>
    <maven.compiler.target>1.8</maven.compiler.target>
  </properties>
  
/ Lees,
https://maven.apache.org/plugins/maven-war-plugin/war-mojo.html

failOnMissingWebXml
Starting with 3.1.0, this property defaults to false if the project depends on the Servlet 3.0 API or newer.

/ 13	. 

[GreeterTest.java]$ project-add-dependencies junit:junit:4.12:test

/ we zien een entry in <dependencyManagement> en in <dependencies>

$ vi pom.xml

  <dependencies>
    <dependency>
      <groupId>junit</groupId>
      <artifactId>junit</artifactId>
      <scope>test</scope>
    </dependency>

  <dependencyManagement>
    <dependencies>
      <dependency>
        <groupId>junit</groupId>
        <artifactId>junit</artifactId>
        <version>4.12</version>
        <scope>test</scope>
      </dependency>


/ 13	. 

/ we deden,

[Greeter.java]$ project-add-dependencies org.jboss.arquillian:arquillian-bom:1.1.13.Final:import:pom
/ Maar naast de <dependencyManagement> entry wordt er ook een <dependencies> entry gemaakt, en dat is niet de bedoeling,	
/ Deze laatste moeten we rm,

  <dependencyManagement>
    <dependencies>
      <dependency>
        <groupId>org.jboss.arquillian</groupId>
        <artifactId>arquillian-bom</artifactId>
        <version>1.1.13.Final</version>
        <type>pom</type>
        <scope>import</scope>
      </dependency>
	  
/ Hij zie WH door type pom dat deze dep in <dependencyManagement> moet komen, 
/ hij zet hem ook in <dependencies> TODO

	  
/ 13	. 

[Greeter.java]$ project-add-dependencies org.jboss.arquillian.junit:arquillian-junit-container::test
? Dependency [arquillian-junit-container:org.jboss.arquillian.junit] is currently managed. Reference the existing managed depend
ency [org.jboss.arquillian.junit:arquillian-junit-container:1.1.13.Final]? [Y/n]:
***SUCCESS*** Installed [1] dependency.
/ Toch heeft hij het goed gedaan, geen version 	,

  <dependencies>
    <dependency>
      <groupId>org.jboss.arquillian.junit</groupId>
      <artifactId>arquillian-junit-container</artifactId>
      <scope>test</scope>
    </dependency>
	
/ Straks,
import org.jboss.arquillian.junit.Arquillian;
/ Deze komt in 
@RunWith(Arquillian.class)
	
/ 13	. 

/ The Arquillian JUnit integration artifact also adds the Arquillian Core and ShrinkWrap APIs to the test classpath. You need all of these libraries to write and compile a JUnit Arquillian test.

/ 13	. 

/ Ook,
    <plugins>
    	<plugin>
    		<groupId>org.apache.maven.plugins</groupId>
    		<artifactId>surefire-maven-plugin</artifactId>
    		<version>2.20</version>
    	</plugin>
    </plugins>
	
/ TODO

/ 13	. 

/ Then some magic happens and each @Test method is run inside the container environment.

The @Deployment method is only mandatory for tests that run inside the container and no extension is loaded that otherwise generates the test archive. 

Client-side tests do not require a test archive, and therefore, do not require a  @Deployment method.
/ TODO

Unlike a normal unit test, Arquillian does not simply tap the entire classpath. Instead, you include only what the test needs

/ 13	. 

/ Dit is op zich OK,

@RunWith(Arquillian.class)
public class GreeterTest {
	
	@Deployment
	public static JavaArchive createDeployment() {
		JavaArchive archive=ShrinkWrap.create(JavaArchive.class);		// maar moeten meer,
		return archive;
	}
}

/ 13	. 

/ een aantal dependencies,

/ 1313	.

[GreeterTest.java]$ project-add-dependencies org.jboss.arquillian.container:arquillian-weld-se-embedded-1.1:1.0.0.Final:test

/ we zien een entry in <dependencyManagement> en in <dependencies>

 <dependencies>
   <dependency>
      <groupId>org.jboss.arquillian.container</groupId>
      <artifactId>arquillian-weld-se-embedded-1.1</artifactId>
      <scope>test</scope>
    </dependency>
  </dependencies>
  
  <dependencyManagement>
    <dependencies>
      <dependency>
        <groupId>org.jboss.arquillian.container</groupId>
        <artifactId>arquillian-weld-se-embedded-1.1</artifactId>
        <version>1.0.0.Final</version>
        <scope>test</scope>
      </dependency>
    </dependencies>
  </dependencyManagement>

/ 1313	. 

[arquillian-getting_started]$ project-add-dependencies org.jboss.weld:weld-core:2.4.5.Final:test

[arquillian-getting_started]$ project-add-dependencies org.slf4j:slf4j-simple:1.7.25:test

  <dependencies>
    <dependency>
      <groupId>org.jboss.weld</groupId>
      <artifactId>weld-core</artifactId>
      <scope>test</scope>
    </dependency>
    <dependency>
      <groupId>org.slf4j</groupId>
      <artifactId>slf4j-simple</artifactId>
      <scope>test</scope>
    </dependency>
  </dependencies>
  
  <dependencyManagement>
    <dependencies>
      <dependency>
        <groupId>org.jboss.weld</groupId>
        <artifactId>weld-core</artifactId>
        <version>2.4.5.Final</version>
        <scope>test</scope>
      </dependency>
      <dependency>
        <groupId>org.slf4j</groupId>
        <artifactId>slf4j-simple</artifactId>
        <version>1.7.25</version>
        <scope>test</scope>
      </dependency>
    </dependencies>
  </dependencyManagement>

/ 13	. 

/ SAMENVATTING

$ vi pom.xml

<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
  <modelVersion>4.0.0</modelVersion>
  <groupId>my.own</groupId>
  <artifactId>arquillian-getting_started</artifactId>
  <version>1.0.0-SNAPSHOT</version>
  <packaging>war</packaging>
  <build>
    <finalName>arquillian-getting_started</finalName>
    <plugins>
    	<plugin>
    		<groupId>org.apache.maven.plugins</groupId>
    		<artifactId>surefire-maven-plugin</artifactId>
    		<version>2.20</version>
    	</plugin>
    </plugins>
  </build>
  <properties>
    <failOnMissingWebXml>false</failOnMissingWebXml>
    <maven.compiler.source>1.8</maven.compiler.source>
    <maven.compiler.target>1.8</maven.compiler.target>
    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
  </properties>
  <dependencies>
    <dependency>
      <groupId>javax</groupId>
      <artifactId>javaee-api</artifactId>
      <scope>provided</scope>
    </dependency>
    <dependency>
      <groupId>org.jboss.arquillian.junit</groupId>
      <artifactId>arquillian-junit-container</artifactId>
      <scope>test</scope>
    </dependency>
    <dependency>
      <groupId>junit</groupId>
      <artifactId>junit</artifactId>
      <scope>test</scope>
    </dependency>
    <dependency>
      <groupId>org.jboss.arquillian.container</groupId>
      <artifactId>arquillian-weld-se-embedded-1.1</artifactId>
      <scope>test</scope>
    </dependency>
    <dependency>
      <groupId>org.jboss.weld</groupId>
      <artifactId>weld-core</artifactId>
      <scope>test</scope>
    </dependency>
    <dependency>
      <groupId>org.slf4j</groupId>
      <artifactId>slf4j-simple</artifactId>
      <scope>test</scope>
    </dependency>

  </dependencies>
  <dependencyManagement>
    <dependencies>
      <dependency>
        <groupId>javax</groupId>
        <artifactId>javaee-api</artifactId>
        <version>7.0</version>
        <scope>provided</scope>
      </dependency>
      <dependency>
        <groupId>org.jboss.arquillian</groupId>
        <artifactId>arquillian-bom</artifactId>
        <version>1.1.13.Final</version>
        <type>pom</type>
        <scope>import</scope>
      </dependency>
      <dependency>
        <groupId>junit</groupId>
        <artifactId>junit</artifactId>
        <version>4.12</version>
        <scope>test</scope>
      </dependency>
      <dependency>
        <groupId>org.jboss.arquillian.container</groupId>
        <artifactId>arquillian-weld-se-embedded-1.1</artifactId>
        <version>1.0.0.Final</version>
        <scope>test</scope>
      </dependency>
      <dependency>
        <groupId>org.jboss.weld</groupId>
        <artifactId>weld-core</artifactId>
        <version>2.4.5.Final</version>
        <scope>test</scope>
      </dependency>
      <dependency>
        <groupId>org.slf4j</groupId>
        <artifactId>slf4j-simple</artifactId>
        <version>1.7.25</version>
        <scope>test</scope>
      </dependency>
    </dependencies>
  </dependencyManagement>
</project>

$ vi Greeter.java

package my.own;

import java.io.PrintStream;

public class Greeter {
	
	public void greet(PrintStream ps,String s) {
		ps.println(createGreeting(s));
	}

	public String createGreeting(String s) {
		return "Hello "+s+"!";
	}

}

$ vi GreeterTest.java

package my.own;

import javax.inject.Inject;

import org.jboss.arquillian.container.test.api.Deployment;
import org.jboss.arquillian.junit.Arquillian;
import org.jboss.shrinkwrap.api.ShrinkWrap;
import org.jboss.shrinkwrap.api.asset.EmptyAsset;
import org.jboss.shrinkwrap.api.spec.JavaArchive;
import org.junit.Assert;
import org.junit.Test;
import org.junit.runner.RunWith;


@RunWith(Arquillian.class)
public class GreeterTest {
	
	@Deployment
	public static JavaArchive createDeployment() {
		JavaArchive jar=ShrinkWrap.create(JavaArchive.class)
				.addClass(Greeter.class)
				.addAsManifestResource(EmptyAsset.INSTANCE,"beans.xml");
		System.out.println(jar.toString(true));		// true is verbose
		return jar;
		
	}
	
	@Inject
	private Greeter greeter;
	
	@Test
	public void shouldCreateGreeting() {
		String s=greeter.createGreeting("Earthling");
		Assert.assertEquals("Hello Earthling!", s);
		greeter.greet(System.out, s);
	}
}

/ als we right click project, Run As, JUnit Test,

625d6bde-0517-4532-8bd1-545f7885f5d7.jar:
/my/
/my/own/
/my/own/Greeter.class
/META-INF/
/META-INF/beans.xml
sep 12, 2017 6:53:36 AM org.jboss.weld.bootstrap.WeldStartup <clinit>
INFO: WELD-000900: 2.4.5 (Final)
sep 12, 2017 6:53:36 AM org.jboss.weld.bootstrap.WeldStartup startContainer
INFO: WELD-000101: Transactional services not available. Injection of @Inject UserTransaction not available. Transactional observers will be invoked synchronously.
sep 12, 2017 6:53:36 AM org.jboss.weld.bootstrap.WeldStartup startContainer
WARN: WELD-000135: Legacy deployment metadata provided by the integrator. Certain functionality will not be available.
Hello Hello Earthling!!

/ als we right click project, run as, Maven test,
/ dan wordt de surefire-maven-plugin:test called,

[INFO] Scanning for projects...
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building arquillian-getting_started 1.0.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ arquillian-getting_started ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 0 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ arquillian-getting_started ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ arquillian-getting_started ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 0 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ arquillian-getting_started ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.12.4:test (default-test) @ arquillian-getting_started ---
[INFO] Surefire report directory: C:\Users\ervelden\eclipse\workspace-jbosstools-jee-oxygen\arquillian-getting_started\target\surefire-reports

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running my.own.GreeterTest
2401edae-51ef-494b-8a67-57d7eaf73e95.jar:
/my/
/my/own/
/my/own/Greeter.class
/META-INF/
/META-INF/beans.xml
sep 12, 2017 6:54:46 AM org.jboss.weld.bootstrap.WeldStartup <clinit>
INFO: WELD-000900: 2.4.5 (Final)
sep 12, 2017 6:54:46 AM org.jboss.weld.bootstrap.WeldStartup startContainer
INFO: WELD-000101: Transactional services not available. Injection of @Inject UserTransaction not available. Transactional observers will be invoked synchronously.
sep 12, 2017 6:54:46 AM org.jboss.weld.bootstrap.WeldStartup startContainer
WARN: WELD-000135: Legacy deployment metadata provided by the integrator. Certain functionality will not be available.
Hello Hello Earthling!!
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.411 sec

Results :

Tests run: 1, Failures: 0, Errors: 0, Skipped: 0

[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 4.115 s
[INFO] Finished at: 2017-09-12T06:54:47+01:00
[INFO] Final Memory: 11M/215M
[INFO] ------------------------------------------------------------------------

/ 7	. 

/ we inject niet alleen Greeter in de test class, maar ook PhaseBuilder in Greeter, 
/ dat overtuigd misschien meer dat we CDI doen ( de test doet dat ook, maar misschien denk je van niet).

$ vi pom.xml

<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
  <modelVersion>4.0.0</modelVersion>
  <groupId>my.own</groupId>
  <artifactId>arquillian-getting_started</artifactId>
  <version>1.0.0-SNAPSHOT</version>
  <packaging>war</packaging>
  <build>
    <finalName>arquillian-getting_started</finalName>
    <plugins>
    	<plugin>
    		<groupId>org.apache.maven.plugins</groupId>
    		<artifactId>surefire-maven-plugin</artifactId>
    		<version>2.20</version>
    	</plugin>
    </plugins>
  </build>
  <properties>
    <failOnMissingWebXml>false</failOnMissingWebXml>
    <maven.compiler.source>1.8</maven.compiler.source>
    <maven.compiler.target>1.8</maven.compiler.target>
    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
  </properties>
  <dependencies>
    <dependency>
      <groupId>javax</groupId>
      <artifactId>javaee-api</artifactId>
      <scope>provided</scope>
    </dependency>
    <dependency>
      <groupId>org.jboss.arquillian.junit</groupId>
      <artifactId>arquillian-junit-container</artifactId>
      <scope>test</scope>
    </dependency>
    <dependency>
      <groupId>junit</groupId>
      <artifactId>junit</artifactId>
      <scope>test</scope>
    </dependency>
    <dependency>
      <groupId>org.jboss.arquillian.container</groupId>
      <artifactId>arquillian-weld-se-embedded-1.1</artifactId>
      <scope>test</scope>
    </dependency>
    <dependency>
      <groupId>org.jboss.weld</groupId>
      <artifactId>weld-core</artifactId>
      <scope>test</scope>
    </dependency>
    <dependency>
      <groupId>org.slf4j</groupId>
      <artifactId>slf4j-simple</artifactId>
      <scope>test</scope>
    </dependency>

  </dependencies>
  <dependencyManagement>
    <dependencies>
      <dependency>
        <groupId>javax</groupId>
        <artifactId>javaee-api</artifactId>
        <version>7.0</version>
        <scope>provided</scope>
      </dependency>
      <dependency>
        <groupId>org.jboss.arquillian</groupId>
        <artifactId>arquillian-bom</artifactId>
        <version>1.1.13.Final</version>
        <type>pom</type>
        <scope>import</scope>
      </dependency>
      <dependency>
        <groupId>junit</groupId>
        <artifactId>junit</artifactId>
        <version>4.12</version>
        <scope>test</scope>
      </dependency>
      <dependency>
        <groupId>org.jboss.arquillian.container</groupId>
        <artifactId>arquillian-weld-se-embedded-1.1</artifactId>
        <version>1.0.0.Final</version>
        <scope>test</scope>
      </dependency>
      <dependency>
        <groupId>org.jboss.weld</groupId>
        <artifactId>weld-core</artifactId>
        <version>2.4.5.Final</version>
        <scope>test</scope>
      </dependency>
      <dependency>
        <groupId>org.slf4j</groupId>
        <artifactId>slf4j-simple</artifactId>
        <version>1.7.25</version>
        <scope>test</scope>
      </dependency>
    </dependencies>
  </dependencyManagement>
</project>

$ vi PhraseBuilder.java

package my.own;

import java.text.MessageFormat;
import java.util.HashMap;
import java.util.Map;

import javax.annotation.PostConstruct;

public class PhraseBuilder {
	private Map<String, String>templates;
	
	@PostConstruct
	public void init() {
		templates=new HashMap<String,String>();
		templates.put("hello","Hello {0}!");
	}
	
	public String buildPhrase(String id,Object...arguments) {
		return MessageFormat.format(templates.get(id), arguments);
	}
}

$ vi Greeter.java

package my.own;

import java.io.PrintStream;

import javax.inject.Inject;

public class Greeter {
	
	private PhraseBuilder phraseBuilder;
	
	@Inject
	public Greeter(PhraseBuilder phraseBuilder) {
		this.phraseBuilder=phraseBuilder;
	}
	
	public void greet(PrintStream ps,String s) {
		ps.println(createGreeting(s));
	}

	public String createGreeting(String s) {
//		return "Hello "+s+"!";
		return phraseBuilder.buildPhrase("hello", s);
	}

}

$ vi GreeterTest.java

package my.own;

import javax.inject.Inject;

import org.jboss.arquillian.container.test.api.Deployment;
import org.jboss.arquillian.junit.Arquillian;
import org.jboss.shrinkwrap.api.ShrinkWrap;
import org.jboss.shrinkwrap.api.asset.EmptyAsset;
import org.jboss.shrinkwrap.api.spec.JavaArchive;
import org.junit.Assert;
import org.junit.Test;
import org.junit.runner.RunWith;


@RunWith(Arquillian.class)
public class GreeterTest {
	
	@Deployment
	public static JavaArchive createDeployment() {
		JavaArchive jar=ShrinkWrap.create(JavaArchive.class)
//				.addClass(Greeter.class)
				.addClasses(Greeter.class,PhraseBuilder.class)
				.addAsManifestResource(EmptyAsset.INSTANCE,"beans.xml");
		System.out.println(jar.toString(true));		// true is verbose
		return jar;
		
	}
	
	@Inject
	private Greeter greeter;
	
	@Test
	public void shouldCreateGreeting() {
		String s=greeter.createGreeting("Earthling");
		Assert.assertEquals("Hello Earthling!", s);
		greeter.greet(System.out, s);
	}
}

/ Einde SAMENVATTING

/ 7	. 

/ Tot zo ver in een embedded Weld container, 

/ nu ook in Wildfly,

/ Lees,
https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#Dependency_Management
https://maven.apache.org/pom.html

NOTE: In two of these dependency references, we had to specify the <type/> element. This is because the minimal set of information for matching a dependency reference against a dependencyManagement section is actually {groupId, artifactId, type, classifier}. In many cases, these dependencies will refer to jar artifacts with no classifier. This allows us to shorthand the identity set to {groupId, artifactId}, since the default for the type field is jar, and the default classifier is null.

groupId:artifactId:packaging:classifier:version. / TODO classifier
/ packaging=jar (default) , war, ... = type 
  
/ Lees,
https://stackoverflow.com/questions/11778276/difference-between-scope-import-and-pom-type-dependency
https://howtodoinjava.com/maven/maven-dependency-scopes/
https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html










/ Einde ARQUILLIAN

/ MAVEN


/ scopes in managed dependencies

/ workspace-jbosstools-jee-oxygen

/ eerst de 2 projecten,

/ 7	.

/ project abcmymgndeps

$ vi pom.xml

<project ...>
  <modelVersion>4.0.0</modelVersion>
  <groupId>my.own</groupId>
  <artifactId>abcmymgndeps</artifactId>
  <version>1.0</version>
</project>

$ vi A.java

package abcmymgndeps;

public class A {
	public String getResponse(String s) {
		return "Response for "+s+"!";
	}
}

/ we doen

$ mvn clean install

/ we zien,

C:\Users\ervelden\eclipse\jbosstools-jee-oxygen\eclipse>dir \Users\ervelden\.m2\repository\my\own\abcmymgndeps\1.0

13-09-2017  18:51             1.924 abcmymgndeps-1.0.jar
13-09-2017  18:50               350 abcmymgndeps-1.0.pom
13-09-2017  18:51               189 _remote.repositories

/ 7	. 


/ project abcusemymgndeps

$ vi pom.xml

<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
  <modelVersion>4.0.0</modelVersion>
  <groupId>my.own</groupId>
  <artifactId>abcusemymgndeps</artifactId>
  <version>0.0.1-SNAPSHOT</version>
  <dependencies>
  	<dependency>
 		<groupId>junit</groupId>
	    <artifactId>junit</artifactId>
  	</dependency>
  	<dependency>
  		<groupId>my.own</groupId>                    <!-- ! -->
  		<artifactId>abcmymgndeps</artifactId>
  	</dependency>
  </dependencies>
  <dependencyManagement>
  	<dependencies>
  		<dependency>
		    <groupId>junit</groupId>
		    <artifactId>junit</artifactId>
		    <version>4.12</version>
		    <scope>test</scope>
		</dependency>
		<dependency>
			<groupId>my.own</groupId>					<!-- ! -->
			<artifactId>abcmymgndeps</artifactId>
			<version>1.0</version>
		</dependency>
  	</dependencies>
  </dependencyManagement>
  <build>
  	<plugins>
  		<plugin>
  			<groupId>org.codehaus.mojo</groupId>
  			<artifactId>exec-maven-plugin</artifactId>
  			<version>1.6.0</version>
  			<configuration>
  				<executable>java</executable>
  				<arguments>
  					<argument>-classpath</argument>
  					<!-- automatically creates the classpath using all project dependencies,
                 			also adding the project build directory -->
  					<classpath/>
  					<argument>abcusemymgndeps.Main</argument>
  				</arguments>
  			</configuration>
  		</plugin>
  	</plugins>
  </build>
</project>

$ vi Main.java

package abcusemymgndeps;

import abcmymgndeps.A;

public class Main {
	
	private A a;

	public static void main(String[] args) {
		new Main();
	}

	public Main() {
		a=new A();
		String s=a.getResponse("Foo Bar");
		System.out.println(s);
		System.out.println(System.getProperty("java.class.path"));
	}
}

/ Maak run config abcusemymgndeps-clean-package-exec
clean package exec:exec

/ we moeten package ertussen (of verify)

/ we zien 
Response for Foo Bar!
C:\Users\ervelden\eclipse\workspace-jbosstools-jee-oxygen\abcusemymgndeps\target\classes;C:\Users\ervelden\.m2\repository\my\own\abcmymgndeps\1.0\abcmymgndeps-1.0.jar

/ 7	.

/////////////////////////////////////////////////////////////////////////////////////////////////////////
/ als we in <dependencyManagement>'s <dependency> de scope set, geldt hij ook in <dependencies>	, en de version ook,

/ klopt,
/ lees,	
https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html
NOTE: In two of these dependency references, we had to specify the <type/> element. This is because the minimal set of information for matching a dependency reference against a dependencyManagement section is actually {groupId, artifactId, type, classifier}. In many cases, these dependencies will refer to jar artifacts with no classifier. This allows us to shorthand the identity set to {groupId, artifactId}, since the default for the type field is jar, and the default classifier is null.

/////////////////////////////////////////////////////////////////////////////////////////////////
/ als de type jar is hoeven we alleen : groupId, artifactId te geven in <dependencies>

/ we check of de scope in <dependencyManagement> gezien wordt in <dependencies> door verkeerde scope te nemen in <dependencyManagement> in bepaalde situaties, en zo te zien dat de fout inderdaad optreedt.

/ we oef eerst met main, straks met test,

/ 7	. 

/ main

/ 13	. 

/ we set een verkeerde scope test: blijkbaar staat de abcmymgndeps.jar niet in de compile class path,

$ vi abcusemymgndeps\pom.xml

  <dependencies>
  	<dependency>
  		<groupId>my.own</groupId>
  		<artifactId>abcmymgndeps</artifactId>
  	</dependency>
  </dependencies>
  <dependencyManagement>
  	<dependencies>
		<dependency>
			<groupId>my.own</groupId>
			<artifactId>abcmymgndeps</artifactId>
			<version>1.0</version>
			<scope>test</scope>
		</dependency>
  	</dependencies>
  </dependencyManagement>
  
/ en we run $ mvn clean package exec:exec, dan ERR:

[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ abcusemymgndeps ---
[INFO] Changes detected - recompiling the module!
[WARNING] File encoding has not been set, using platform encoding Cp1252, i.e. build is platform dependent!
[INFO] Compiling 1 source file to C:\Users\ervelden\eclipse\workspace-jbosstools-jee-oxygen\abcusemymgndeps\target\classes
[INFO] -------------------------------------------------------------
[ERROR] COMPILATION ERROR : 
[INFO] -------------------------------------------------------------
[ERROR] /C:/Users/ervelden/eclipse/workspace-jbosstools-jee-oxygen/abcusemymgndeps/src/main/java/abcusemymgndeps/Main.java:[3,20] package abcmymgndeps does not exist
[ERROR] /C:/Users/ervelden/eclipse/workspace-jbosstools-jee-oxygen/abcusemymgndeps/src/main/java/abcusemymgndeps/Main.java:[7,17] cannot find symbol
  symbol:   class A
  location: class abcusemymgndeps.Main
[ERROR] /C:/Users/ervelden/eclipse/workspace-jbosstools-jee-oxygen/abcusemymgndeps/src/main/java/abcusemymgndeps/Main.java:[14,23] cannot find symbol
  symbol:   class A
  location: class abcusemymgndeps.Main
  
/ 13	. 

/ we maken 2 run configs
clean package
exec:exec

/ voor clean package, 

$ vi abcusemymgndeps\pom.xml
 <dependencyManagement>
  	<dependencies>
		<dependency>
			<groupId>my.own</groupId>
			<artifactId>abcmymgndeps</artifactId>
			<version>1.0</version>
			<scope>compile</scope>
		</dependency>

/ voor exec:exec,

$ vi abcusemymgndeps\pom.xml
 <dependencyManagement>
  	<dependencies>
		<dependency>
			<groupId>my.own</groupId>
			<artifactId>abcmymgndeps</artifactId>
			<version>1.0</version>
			<scope>runtime</scope>		<!-- compile is ook OK -->
		</dependency>
		
/ we zien bij exec:exec,

Response for Foo Bar!
C:\Users\ervelden\eclipse\workspace-jbosstools-jee-oxygen\abcusemymgndeps\target\classes;C:\Users\ervelden\.m2\repository\my\own\abcmymgndeps\1.0\abcmymgndeps-1.0.jar

/ als we voor exec:exec,

$ vi abcusemymgndeps\pom.xml
 <dependencyManagement>
  	<dependencies>
		<dependency>
			<groupId>my.own</groupId>
			<artifactId>abcmymgndeps</artifactId>
			<version>1.0</version>
			<scope>test</scope>						<!-- provided is ook ERR -->
		</dependency>
/ dan ERR:
[INFO] --- exec-maven-plugin:1.6.0:exec (default-cli) @ abcusemymgndeps ---
Exception in thread "main" java.lang.NoClassDefFoundError: abcmymgndeps/A
	at abcusemymgndeps.Main.<init>(Main.java:14)
	at abcusemymgndeps.Main.main(Main.java:10)
Caused by: java.lang.ClassNotFoundException: abcmymgndeps.A
	at java.net.URLClassLoader.findClass(URLClassLoader.java:381)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:424)
	at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:335)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
	... 2 more
	
/ 7	. 

/ test

/ we run test in abcusemymgndeps\ATest	,










 


/ Einde MAVEN

/ R PROGRAM

/ Lees,
https://cran.r-project.org/doc/manuals/r-release/R-intro.html

/ 13	. 

/ vector -> matrix

> v<-c(1,11,13,7)
> mean(v)
[1] 8
> dim(v)<-c(2,2)
> v
     [,1] [,2]
[1,]    1   13
[2,]   11    7

/ column first,	 
c(1,11,13,7) betekent dat 1,11 de 1ste column is,

> v[1,]
[1]  1 13
> v[,1]
[1]  1 11


/ 13	. 




/ Einde R PROGRAM


/ OPEN

LOG_angular.txt

\Users\ervelden\forge / src code forge,
C:\Users\ervelden\forge>findstr /s /c:"java-new-method" *.*

[workspace-jbosstools-jee-oxygen]$ forge

C:\Users\ervelden\bin\glassfish4\bin>

C:\Users\ervelden\jaxws\wsimport>

C:\Users\ervelden\eclipse\workspace-jbosstools-jee-oxygen\wildfly-swarm-examples\datasource\datasource-auto-detect>dir src

C:\Users\ervelden\.m2\repository\org\wildfly>notepad++ swarm\jaxrs-jaxb\2017.8.1\jaxrs-jaxb-2017.8.1.pom

C:\Users\ervelden\bin\curl-7.55.0-win64-mingw\bin>

pgAdmin

/ deze hadden we open in SoapUI,
C:\Users\ervelden>dir jaxws
14-09-2017  21:13            10.040 Getting-Started-soapui-project.xml
...

sysinternals/downloads/process-explorer

RGui

https://docs.python.org/3.6/tutorial/index.html / python tutorial in installer , 
https://docs.python.org/3.6/index.html		/ docs,

/ open in notepad++	,
C:\Users\ervelden\forge\core\javaee\tests\src\test\java\org\jboss\forge\addon\javaee\jaxws\ui\JAXWSNewServiceCommandTest.java
C:\Program Files\Apache Software Foundation\Tomcat 8.5\conf\tomcat-users.xml
C:\Users\ervelden\eclipse\workspace-java-oxygen\joshlongvideoext\src\main\java\my\own\firstspringboot\FirstspringbootApplication.java
C:\Users\ervelden\.m2\repository\org\wildfly\swarm\bom-all\2017.8.1\bom-all-2017.8.1.pom
C:\Users\ervelden\bin\glassfish4\docs\javaee-tutorial\examples\jaxws\helloservice-war\src\main\java\javaeetutorial\helloservice\Hello.java
C:\Users\ervelden\jaxws\wsimport\org\bookstorews2\soap\HelloWorld_Service.java
C:\Users\ervelden\bin\glassfish4\glassfish\bin\appclient.bat
C:\Users\ervelden\forge\core\parser-java\tests\src\test\java\org\jboss\forge\addon\parser\java\ui\methods\JavaNewMethodCommandTest.java





/ Einde OPEN


/ PYTHON

/ we download van
https://www.python.org/downloads/windows/
Windows x86-64 executable installer
 
/ wat is 
Windows x86-64 web-based installer
/ TODO

\Users\ervelden\AppData\Local\Programs\Python\Python36
Install launcher for all users (recommended) 				/ TODO


/ Lees,
https://docs.python.org/3.6/tutorial/index.html

/ Einde PYTHON 

/ R

/ van,
https://cran.r-project.org/bin/windows/base/

/ we download,
Download R 3.4.1 for Windows (75 megabytes, 32/64 bit)

C:\Program Files\R\R-3.4.1

Start Menu Folder: R

Create desktop icon
Save version number in registry 		/ TODO
Associate R with .RData files				/ TODO










 

/ Einde R


/ ANDROID

g.co/InstantApps
cloud.google.com/vision
playground.tensorflow.org
cloud.google.com/ml-engine
cloud.google.com/tpu				/ tensorflow hardware




/ Einde ANDROID

/ POSTGRESQL

/ we hebben download,
Managing rights in PostgreSQL


/ ga naar,
https://www.postgresql.org/download
/ click Windows,
https://www.postgresql.org/download/windows/

/ we zien 2 installers, van EDB en van BigSQL
/ we nemen die van EDB,

C:\Program Files\PostgreSQL\9.6
C:\Program Files\PostgreSQL\9.6\data
/ password superuser: vi_lang17
/ port 5432
/ locale English, United States

/ Daarna Stack Builder, 
/ TODO

/ we zien op, over Hadoop en BigSQL,
https://www.postgresql.org/download
/ TODO

C:\Program Files\PostgreSQL\9.6>dir bin
...
29-08-2017  06:26            95.232 pg_ctl.exe
29-08-2017  06:26           439.296 pg_dump.exe
...
29-08-2017  06:24         6.492.672 postgres.exe
29-08-2017  06:26           471.040 psql.exe

C:\Program Files\PostgreSQL\9.6>dir bin
 Volume in drive C is System
 Volume Serial Number is 90D0-8A5A

 Directory of C:\Program Files\PostgreSQL\9.6\bin

29-08-2017  06:26           439.296 pg_dump.exe
29-08-2017  06:26           124.416 pg_dumpall.exe
29-08-2017  06:26           195.584 pg_restore.exe
29-08-2017  06:24         6.492.672 postgres.exe
29-08-2017  06:26           471.040 psql.exe

C:\Program Files\PostgreSQL\9.6> dir data

04-09-2017  15:49             4.110 pg_hba.conf
04-09-2017  15:49            22.986 postgresql.conf

C:\Program Files\PostgreSQL\9.6>dir "pgAdmin 4\bin

29-08-2017  06:30           242.176 pgAdmin4.exe

/ 7	. 

C:\Program Files\PostgreSQL\9.6>bin\psql.exe
Password:
psql: FATAL:  password authentication failed for user "ERVELDEN"

/ we start pgAdmin4,
C:\Program Files\PostgreSQL\9.6>"pgAdmin 4\bin\pgAdmin4.exe"

/ we moeten password geven voor user "postgres", de superuser, dat is vi_lang17



///////////////////////////////////////////////////////

/ lees,
https://www.postgresql.org/docs/9.5/static/sql-createuser.html

/ onderscheid privileges van roles zoals createdb of login, en privileges op databases zoals insert, delete, ...
/ Maakt het uit wie de database maakt, postgres of eric, als eric alle privileges heeft op die database?
/ TODO

postgres=# create role eric login createdb password 'vi_lang17';
/ en 


postgres=# begin;
BEGIN
postgres=# create role eric login createdb password 'vi_lang17';
CREATE ROLE
postgres=# commit;
COMMIT

postgres=# create user eric password 'vi_lang17';
CREATE ROLEpostgres=# \du
                                   List of roles
 Role name |                         Attributes                         | Member of
-----------+------------------------------------------------------------+-----------
 eric      | create DB                                                  | {}
 postgres  | Superuser, Create role, Create DB, Replication, Bypass RLS | {}

postgres=# drop user if exists eric;

postgres=# create user ervelden password 'vi_lang17';
postgres=# \q

C:\Program Files\PostgreSQL\9.6>bin\psql -Uervelden postgres				/ dit kan dus!
/ OK
C:\Program Files\PostgreSQL\9.6>bin\psql -UERVELDEN postgres
Password for user ERVELDEN:
psql: FATAL:  password authentication failed for user "ERVELDEN"
/ TODO

/ Dus het heeft geen zin om user ervelden te maken in postgres, omdat we wilden doen
$ psql
/ Hij probeert in te loggen als ERVELDEN, maar in postgres is er ervelden,
/ TODO toch,

$ psql -Uervelden
/ is WEL OK,

/ 13	. 

/ case in postgres	,

/ 1313	. 

/ lees,
https://stackoverflow.com/questions/20878932/are-postgresql-column-names-case-sensitive

All identifiers (including column names) that are not double-quoted are folded to lower case in PostgreSQL. Column names that were created with double-quotes and thereby retained upper-case letters (and/or other syntax violations) have to be double-quoted for the rest of their life. So, yes, PostgreSQL column names are case-sensitive:

SELECT * FROM persons WHERE "first_Name" = 'xyz';
Also fix the incorrect double-quotes around 'xyz'. Values (string literals) are enclosed in single quotes.

/ lees https://www.postgresql.org/docs/current/static/sql-syntax-lexical.html#SQL-SYNTAX-IDENTIFIERS

My standing advice is to use legal, lower-case names exclusively so double-quoting is not needed

/ 1313	. 

/ Lees,
https://www.postgresql.org/message-id/20100419202037.GL6733%40alvh.no-ip.org


> When creating a user (via CREATE USER/ROLE), the username you choose is not
> case sensitive (e.g. nEWuSer is saved as newuser). However, the command
> line arguments for psql ARE case sensitive. This means that if I create a
> user like newUser, then try to log into postgres via psql as newUser,
> I'll be told the the role doesn't exist. Then, when I log into postgres as
> an existing user and try to re-create the role newUser, postgres will tell
> me that the role already exists -- a frustrating cycle.

Right.  This is because of a mixture of trying to adhere to the SQL
standard (which mandates that unquoted identifiers are case-folded) and				/ case-folded is naar lower case set
convenience of usafe of the shell command line.  The strict solution would
be to case-fold unquoted identifiers passed as arguments to psql, so
you'd be required to type something like
psql \"nEWuSer\"
to be able to log in as such a user -- otherwise the quotes would be
stripped by the shell.  However, this is so inconvenient that it has
been dumped in favor of not doing case-folding of idenfiers in shell
command line arguments, regardless of quoting.

In short, not a bug ...

grant all privileges on database db_name to someuser;
/ TODO

/ 13	.

/ in ~/.psqlrc
\set AUTOCOMMIT off 
/ TODO

/ je kunt ook altijd
begin;
...
commit;postgres=# begin

postgres-# ;
BEGIN
postgres=# drop user ervelden;
DROP ROLE
postgres=# \du
                                   List of roles
 Role name |                         Attributes                         | Member of
-----------+------------------------------------------------------------+-----------
 postgres  | Superuser, Create role, Create DB, Replication, Bypass RLS | {}


postgres=# rollback;
ROLLBACK
postgres=# \du
                                   List of roles
 Role name |                         Attributes                         | Member of
-----------+------------------------------------------------------------+-----------
 ervelden  |                                                            | {}
 postgres  | Superuser, Create role, Create DB, Replication, Bypass RLS | {}

/ 1313. 

https://www.postgresql.org/docs/9.6/static/catalogs.html
/ system tables,

C:\Program Files\PostgreSQL\9.6>bin\psql -Upostgres

postgres=# \du
                                   List of roles
 Role name |                         Attributes                         | Member of
-----------+------------------------------------------------------------+-----------
 ervelden  |                                                            | {}
 postgres  | Superuser, Create role, Create DB, Replication, Bypass RLS | {}
 
postgres=# \x
Expanded display is on.

postgres=# select*from pg_user;
-[ RECORD 1 ]+---------
usename      | postgres
usesysid     | 10
usecreatedb  | t
usesuper     | t
userepl      | t
usebypassrls | t
passwd       | ********
valuntil     |
useconfig    |
-[ RECORD 2 ]+---------
usename      | ervelden
usesysid     | 16395
usecreatedb  | f
usesuper     | f
userepl      | f
usebypassrls | f
passwd       | ********
valuntil     |
useconfig    |

/ 13	. 

/ Lees 
https://github.com/cockroachdb/cockroach/issues/8862

/ 13	. 

C:\Program Files\PostgreSQL\9.6>bin\psql -Uervelden postgres
postgres=> \dt
No relations found.
/ TODO Afmaken. WH kan ervelden wel tables in db postgres maken,

/ 13	. 

C:\Program Files\PostgreSQL\9.6>bin\psql -Upostgres
postgres=# create database test;
CREATE DATABASE
postgres=# begin;
BEGIN
postgres=# create database foo;
ERROR:  CREATE DATABASE cannot run inside a transaction block
postgres=# rollback;
ROLLBACK
postgres=#

/ 7	. 

\l
\dp  
\ddp

/ 13	. 

postgres=# create database test;
postgres=# revoke all privileges on database test from public;
postgres=# \l
                                                 List of databases
   Name    |  Owner   | Encoding |          Collate           |           Ctype            |   Access privileges
-----------+----------+----------+----------------------------+----------------------------+-----------------------
 postgres  | postgres | UTF8     | English_United States.1252 | English_United States.1252 |
 template0 | postgres | UTF8     | English_United States.1252 | English_United States.1252 | =c/postgres          +
           |          |          |                            |                            | postgres=CTc/postgres
 template1 | postgres | UTF8     | English_United States.1252 | English_United States.1252 | =c/postgres          +
           |          |          |                            |                            | postgres=CTc/postgres
 test      | postgres | UTF8     | English_United States.1252 | English_United States.1252 | postgres=CTc/postgres
 
(4 rows)postgres=# \c test eric
Password for user eric:
FATAL:  permission denied for database "test"
DETAIL:  User does not have CONNECT privilege.
Previous connection kept

postgres=# grant all privileges on database test to public;
GRANT
postgres=# \l
                                                 List of databases
   Name    |  Owner   | Encoding |          Collate           |           Ctype            |   Access privileges
-----------+----------+----------+----------------------------+----------------------------+-----------------------
 postgres  | postgres | UTF8     | English_United States.1252 | English_United States.1252 |
 template0 | postgres | UTF8     | English_United States.1252 | English_United States.1252 | =c/postgres          +
           |          |          |                            |                            | postgres=CTc/postgres
 template1 | postgres | UTF8     | English_United States.1252 | English_United States.1252 | =c/postgres          +
           |          |          |                            |                            | postgres=CTc/postgres
 test      | postgres | UTF8     | English_United States.1252 | English_United States.1252 | postgres=CTc/postgres+
           |          |          |                            |                            | =CTc/postgres
(4 rows)

 the default privileges granted to PUBLIC are as follows: CONNECT and CREATE TEMP TABLE for databases;
 
postgres=# grant connect,temporary on database test to public;
GRANT
postgres=# \l
                                                 List of databases
   Name    |  Owner   | Encoding |          Collate           |           Ctype            |   Access privileges
-----------+----------+----------+----------------------------+----------------------------+-----------------------
 postgres  | postgres | UTF8     | English_United States.1252 | English_United States.1252 |
 template0 | postgres | UTF8     | English_United States.1252 | English_United States.1252 | =c/postgres          +
           |          |          |                            |                            | postgres=CTc/postgres
 template1 | postgres | UTF8     | English_United States.1252 | English_United States.1252 | =c/postgres          +
           |          |          |                            |                            | postgres=CTc/postgres
 test      | postgres | UTF8     | English_United States.1252 | English_United States.1252 | postgres=CTc/postgres+
           |          |          |                            |                            | =Tc/postgres
(4 rows)

postgres=# revoke all privileges on database test from public;
postgres=# grant connect on database test to public;
postgres=# \c test eric
Password for user eric:
test=>  create temporary table you(i int);
ERROR:  permission denied to create temporary tables in database "test"

postgres=# grant temporary on database test to public;
GRANT
postgres=# \c test eric
Password for user eric:
test=>  create temporary table you(i int);
CREATE TABLE

postgres=# \c - postgres
test=# create schema sch1;
CREATE SCHEMA
test=# create schema sch2 authorization postgres;     / TODO authorization
CREATE SCHEMA
test=# \c - eric
test=> create table sch1.foo(i int);
ERROR:  permission denied for schema sch1



/ 13	. 

/ we zijn default in public schema, dus als we
# creat table foo(...) 
/ dan doen we 
# create table public.foo(...)

test=> \c - postgres
test=>  \dn+
                          List of schemas
  Name  |  Owner   |  Access privileges   |      Description
--------+----------+----------------------+------------------------
 public | postgres | postgres=UC/postgres+| standard public schema
        |          | =UC/postgres         |

/ Hier staat dat public mag create in schema public 	, logisch	,

test=> \c - postgres
test=# revoke create on schema public from public;
test=# \dn+
                          List of schemas
  Name  |  Owner   |  Access privileges   |      Description
--------+----------+----------------------+------------------------
 public | postgres | postgres=UC/postgres+| standard public schema
        |          | =U/postgres          |                                  -- C is weg,
		
test=# \c - eric
test=> create table y(i int);
ERROR:  permission denied for schema public

/ 13	. 

/ schema's , ook public , gaan per database:

test=> \c - postgres
test=# create database foo;                     -- nieuwe database
test=# \c foo
foo=# \dn+
                          List of schemas
  Name  |  Owner   |  Access privileges   |      Description
--------+----------+----------------------+------------------------
 public | postgres | postgres=UC/postgres+| standard public schema
        |          | =UC/postgres         |                             -- C is er, dus public kan een table create in schema public in database foo
(1 row)

/ 1313	. 

/ we kunnen <database>.<schema>.<table> geven, maar tussen databases kan het niet dus <database>. is overbodig, heeft toch geen zin,

foo=> create table foo.public.my(i int);
CREATE TABLE
foo=> create table test.public.my(i int);
ERROR:  cross-database references are not implemented: "test.public.my"
LINE 1: create table test.public.my(i int);

/ 13	.

/ de default privileges for a database are cT

test=# revoke all privileges on schema sch1 from public;
REVOKE
test=# grant create on schema sch1 to public;
GRANT
test=# \dn+
                          List of schemas
  Name  |  Owner   |  Access privileges   |      Description
--------+----------+----------------------+------------------------
 public | postgres | postgres=UC/postgres+| standard public schema
        |          | =U/postgres          |
 sch1   | postgres | postgres=UC/postgres+|
        |          | =C/postgres          |

		
/ 13	. 

/ CTc op database,

/ T is create temporary table, en zo'n table zit WH niet in een schema, dus staat deze privilege bij database ipv schema,

/ C op database : create schema in database,

You are now connected to database "test" as user "postgres".
test=# revoke create on database test from public;
REVOKE
test=# \c - eric
test=> create schema sch ;
ERROR:  permission denied for database test

/ c is connect to database, public kan connect to test database,

/ 13	. 

You are now connected to database "test" as user "postgres".

/ de tables zien we met \dt, de privileges op de tables met \dp	,

test=# \dp+
                             Access privileges
 Schema | Name  | Type  | Access privileges | Column privileges | Policies
--------+-------+-------+-------------------+-------------------+----------
 public | first | table |                   |                   |
(1 row)


test=# revoke all privileges on table first from public;
REVOKE
test=# grant all privileges on table first to public;
GRANT
test=# \dp
                             Access privileges
 Schema | Name  | Type  | Access privileges | Column privileges | Policies
--------+-------+-------+-------------------+-------------------+----------
 public | first | table | eric=arwdDxt/eric+|                   |
        |       |       | =arwdDxt/eric     |                   |
(1 row)

test=# revoke all privileges on table first from public;
REVOKE
test=# grant select on table first to public;
GRANT

test=# \dp
                             Access privileges
 Schema | Name  | Type  | Access privileges | Column privileges | Policies
--------+-------+-------+-------------------+-------------------+----------
 public | first | table | eric=arwdDxt/eric+|                   |
        |       |       | =r/eric           |                   |
		
/ eric is de owner van table first, vandaar dat we eric zien met al zijn privileges,

/ Heeft public default privileges op table first, of niet?
/ TODO


test=# grant create on schema public  to public;       -- je wilt dat public een table kan maken in schema test.public 
GRANT
test=# \dn+
                          List of schemas
  Name  |  Owner   |  Access privileges   |      Description
--------+----------+----------------------+------------------------
 public | postgres | postgres=UC/postgres+| standard public schema
        |          | =UC/postgres         |
		
/ wat we gaan doen is postgres een table laten maken, en de public privileges restrict op deze,	

test=# \c - postgres
test=# create table second(i int);

test=# revoke all privileges on table second from public;
REVOKE
test=# grant select on table second to public;
GRANT
test=# grant insert on table second to eric;
GRANT
test=# \dp
                                 Access privileges
 Schema |  Name  | Type  |     Access privileges     | Column privileges | Policies
--------+--------+-------+---------------------------+-------------------+----------
 public | first  | table | eric=arwdDxt/eric        +|                   |
        |        |       | =r/eric                   |                   |
 public | second | table | postgres=arwdDxt/postgres+|                   |
        |        |       | =r/postgres              +|                   |
        |        |       | eric=a/postgres           |                   |
		
test=# \c - eric
test=> select*from second;           -- eric kan dit , want public kan dit,
 i
---
(0 rows)
test=> insert into second values(7);  -- eric kan dit 
INSERT 0 1
test=> delete from second;            -- eric en public kunnen dit niet,
ERROR:  permission denied for relation second

/ 13	. 

PostgreSQL grants default privileges on some types of objects to PUBLIC. No privileges are granted to PUBLIC by default on tables, columns, schemas or tablespaces. For other types, the default privileges granted to PUBLIC are as follows: CONNECT and CREATE TEMP TABLE for databases; 
/ TODO

/ lees,
https://stackoverflow.com/questions/11012441/postgresql-user-privilege-for-a-particular-database
https://dba.stackexchange.com/questions/117109/how-to-manage-default-privileges-for-users-on-a-database-vs-schema






/ Einde POSTGRESQL



/ C++

https://stackoverflow.com/questions/35859942/the-difference-between-raii-and-smart-pointers-in-c

/ Einde C++


/ MAVEN

/ Lees,
https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html

/ Einde MAVEN

/ TENSORFLOW

/ kijk,
https://www.youtube.com/watch?v=mWl45NkFBOc&t=4s

TensorFlow Serving,
/ ze use bazel, see,
https://bazel.build/
$ bazel build //tensorflow_serving/example...

/ kijk deep learning course with tensorflow,
https://www.youtube.com/watch?v=MotG3XI2qSs


Tensorboard:
Embedding Visualizer

/ 13	. 

/ kijk tensorflow,
https://www.youtube.com/watch?v=2zWSr-3gkWY&feature=push-u-sub&attr_tag=ftTplRhOkaUYNpGX-6

/ rond 8:30: back propagation=matrix calculation

/ Einde TENSORFLOW

/ CHROME

/ Kijk over module in js,
https://www.youtube.com/watch?v=2vJm1Gfn0ng

/ Einde CHROME
